import{V as f,X as u,da as c,g as v,ma as s,mc as g,ta as a}from"./chunk-ULVRKX75.js";function E(n){n||(n=c(s));let e=new v(t=>{if(n.destroyed){t.next();return}return n.onDestroy(t.next.bind(t))});return t=>t.pipe(f(e))}function U(n,e){let d=!e?.manualCleanup?e?.injector?.get(s)??c(s):null,l=p(e?.equal),o;e?.requireSync?o=a({kind:0},{equal:l}):o=a({kind:1,value:e?.initialValue},{equal:l});let i,b=n.subscribe({next:r=>o.set({kind:1,value:r}),error:r=>{o.set({kind:2,error:r}),i?.()},complete:()=>{i?.()}});if(e?.requireSync&&o().kind===0)throw new u(601,!1);return i=d?.onDestroy(b.unsubscribe.bind(b)),g(()=>{let r=o();switch(r.kind){case 1:return r.value;case 2:throw r.error;case 0:throw new u(601,!1)}},{equal:e?.equal})}function p(n=Object.is){return(e,t)=>e.kind===1&&t.kind===1&&n(e.value,t.value)}export{E as a,U as b};
