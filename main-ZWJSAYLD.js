import{a as wn}from"./chunk-ADCWGWRK.js";import{a as xn,b as Rn}from"./chunk-JU4CINAL.js";import{a as te,c as Ge,e as Xe,f as Tn}from"./chunk-JCF7LFMS.js";import"./chunk-RCE4OXA2.js";import{a as Gr,b as Bi,c as at,d as jt,e as Xr,f as Qr,g as Me,h as zi,i as Zr,j as Jr,l as en,m as tn,n as rn,o as nn,p as sn,q as lt,r as on,s as an,t as ln,u as Dn,v as In,w as En}from"./chunk-NEOQXDOQ.js";import{A as gn,B as fn,C as vn,D as _n,E as $t,F as bn,G as Fe,H as St,I as re,J as ct,K as Kt,L as dt,M as Wi,O as z,P as ne,S as yn,T as Sn,V as kn,W as Cn,e as Kr,f as Yr,l as qr,m as ie,n as Ni,o as cn,p as dn,r as Qe,s as Ui,t as hn,u as Ie,v as un,w as Ht,x as yt,y as mn,z as pn}from"./chunk-U6IZIE5Q.js";import{$ as ce,$a as Ke,$b as Nt,A as Pe,B as xr,Ba as L,C as Ft,Ca as Ar,Cb as Se,D as Lt,Db as S,E as le,Eb as R,F as Di,Fb as qe,Fc as $r,G as K,Ga as Pr,Gb as Ai,H as x,Ha as Or,Hb as Pi,I as Rr,Jb as ae,K as pe,L as Ii,Lb as U,M as Ei,Mb as W,N as Dr,Nb as ue,Ob as O,Pb as me,Qb as De,Rb as j,S as st,Sb as H,T as Vt,Ua as Mr,W as ot,Wb as Oi,Xa as Y,Xb as wt,Y as Bt,Yb as q,Z as E,Zb as Vr,_ as N,_a as Re,_b as G,a as b,ac as Br,b as je,bb as bt,ca as m,cb as Fr,d as _t,da as F,e as nt,ec as zr,fa as Q,fb as T,fc as ke,g as He,gb as V,gc as Mi,ha as l,hb as J,hc as Nr,ia as Ir,ib as Lr,ic as Ut,j as C,jb as ge,jc as Fi,k as Pt,ka as zt,kc as Ur,l as Sr,ma as A,n as Ot,na as P,nb as Ye,nc as Wr,o as p,oa as Z,ob as B,oc as jr,p as f,pa as D,pb as we,q as Ae,qc as ve,ra as Er,rc as Li,s as Mt,t as kr,ta as Tr,tb as Ti,tc as Vi,u as Cr,uc as Wt,v as w,va as Oe,wb as ye,x as $e,xb as se,y as xi,yb as oe,yc as Hr,z as Ri,za as ee,zc as Ce}from"./chunk-AXLAVX5T.js";var Zs=te.object({id:te.number(),title:te.string(),contentPreview:te.string(),author:te.string(),likes:te.number(),comments:te.number(),likedByMe:te.boolean(),createdByMe:te.boolean(),headerImageUrl:te.string().optional()}),Js=te.array(Zs),eo=te.object({data:Js,pageIndex:te.number(),pageSize:te.number(),totalCount:te.number(),maxPageSize:te.number()}),Yt=class n{#e=l(Me);getBlogPosts(){return this.#e.get(`${Ge.serviceUrl}/entries`).pipe(w(i=>eo.parse(i)))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=m({token:n,factory:n.\u0275fac,providedIn:"root"})};var qt=class n{handleError(i){let r=i.message?i.message:i.toString();this.postCustomData(i,r),Ge.production?window.location.href="/error":console.log("ERROR ->",i)}postCustomData(i,r){return _t(this,null,function*(){try{yield fetch(`${Ge.serviceUrl}/api/report-error/client-fatal`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({"client-message":r||"","client-error":i.stack||""})})}catch(e){console.error("Failed to report error:",e)}})}static \u0275fac=function(r){return new(r||n)};static \u0275prov=m({token:n,factory:n.\u0275fac})};var An=()=>({provide:Er,useClass:qt});var Pn=[{path:"error",component:Error}];var Gt=class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=T({type:n,selectors:[["PageNotFound"]],decls:2,vars:0,template:function(r,e){r&1&&(Ai(0,"h1"),G(1,"Diese Seite konnte leider nicht gefunden werden."),Pi())},encapsulation:2,changeDetection:0})};var Mn=[{path:"**",component:Gt}];var Fn={chars:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bits:6};var Ln={parse:function(i,r){return to(i,Fn,r)},stringify:function(i,r){return io(i,Fn,r)}};function to(n,i,r){var e;if(r===void 0&&(r={}),!i.codes){i.codes={};for(var t=0;t<i.chars.length;++t)i.codes[i.chars[t]]=t}if(!r.loose&&n.length*i.bits&7)throw new SyntaxError("Invalid padding");for(var s=n.length;n[s-1]==="=";)if(--s,!r.loose&&!((n.length-s)*i.bits&7))throw new SyntaxError("Invalid padding");for(var o=new((e=r.out)!=null?e:Uint8Array)(s*i.bits/8|0),a=0,c=0,d=0,h=0;h<s;++h){var u=i.codes[n[h]];if(u===void 0)throw new SyntaxError("Invalid character "+n[h]);c=c<<i.bits|u,a+=i.bits,a>=8&&(a-=8,o[d++]=255&c>>a)}if(a>=i.bits||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o}function io(n,i,r){r===void 0&&(r={});for(var e=r,t=e.pad,s=t===void 0?!0:t,o=(1<<i.bits)-1,a="",c=0,d=0,h=0;h<n.length;++h)for(d=d<<8|255&n[h],c+=8;c>i.bits;)c-=i.bits,a+=i.chars[o&d>>c];if(c&&(a+=i.chars[o&d<<i.bits-c]),s)for(;a.length*i.bits&7;)a+="=";return a}var Xt=class{},Hi=class{constructor(i){this.passedConfigs=i}loadConfigs(){return Array.isArray(this.passedConfigs)?p(this.passedConfigs):p([this.passedConfigs])}};function ro(n){if(!n?.config)throw new Error("No config provided!");return new Hi(n.config)}var Vn=new Q("PASSED_CONFIG"),Wn=(()=>{let i=class i{};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=m({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})(),no=(()=>{let i=class i{logError(e,...t){console.error(e,...t)}logWarning(e,...t){console.warn(e,...t)}logDebug(e,...t){console.debug(e,...t)}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=m({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})(),kt=(function(n){return n[n.None=0]="None",n[n.Debug=1]="Debug",n[n.Warn=2]="Warn",n[n.Error=3]="Error",n})(kt||{}),y=(()=>{let i=class i{constructor(){this.abstractLoggerService=l(Wn)}logError(e,t,...s){if(this.loggingIsTurnedOff(e))return;let{configId:o}=e,a=this.isObject(t)?JSON.stringify(t):t;s&&s.length?this.abstractLoggerService.logError(`[ERROR] ${o} - ${a}`,...s):this.abstractLoggerService.logError(`[ERROR] ${o} - ${a}`)}logWarning(e,t,...s){if(!this.logLevelIsSet(e)||this.loggingIsTurnedOff(e)||!this.currentLogLevelIsEqualOrSmallerThan(e,kt.Warn))return;let{configId:o}=e,a=this.isObject(t)?JSON.stringify(t):t;s&&s.length?this.abstractLoggerService.logWarning(`[WARN] ${o} - ${a}`,...s):this.abstractLoggerService.logWarning(`[WARN] ${o} - ${a}`)}logDebug(e,t,...s){if(!e||!this.logLevelIsSet(e)||this.loggingIsTurnedOff(e)||!this.currentLogLevelIsEqualOrSmallerThan(e,kt.Debug))return;let{configId:o}=e,a=this.isObject(t)?JSON.stringify(t):t;s&&s.length?this.abstractLoggerService.logDebug(`[DEBUG] ${o} - ${a}`,...s):this.abstractLoggerService.logDebug(`[DEBUG] ${o} - ${a}`)}currentLogLevelIsEqualOrSmallerThan(e,t){let{logLevel:s}=e||{};return s?s<=t:!1}logLevelIsSet(e){let{logLevel:t}=e||{};return t===null?!1:t!==void 0}loggingIsTurnedOff(e){let{logLevel:t}=e||{};return t===kt.None}isObject(e){return Object.prototype.toString.call(e)==="[object Object]"}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=m({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})(),de=(function(n){return n[n.ConfigLoaded=0]="ConfigLoaded",n[n.CheckingAuth=1]="CheckingAuth",n[n.CheckingAuthFinished=2]="CheckingAuthFinished",n[n.CheckingAuthFinishedWithError=3]="CheckingAuthFinishedWithError",n[n.ConfigLoadingFailed=4]="ConfigLoadingFailed",n[n.CheckSessionReceived=5]="CheckSessionReceived",n[n.UserDataChanged=6]="UserDataChanged",n[n.NewAuthenticationResult=7]="NewAuthenticationResult",n[n.TokenExpired=8]="TokenExpired",n[n.IdTokenExpired=9]="IdTokenExpired",n[n.SilentRenewStarted=10]="SilentRenewStarted",n[n.SilentRenewFailed=11]="SilentRenewFailed",n})(de||{}),Ze=(()=>{let i=class i{constructor(){this.notify=new Sr(1)}fireEvent(e,t){this.notify.next({type:e,value:t})}registerForEvents(){return this.notify.asObservable()}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=m({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})(),jn=(()=>{let i=class i{};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=m({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})(),so=(()=>{let i=class i{constructor(){this.loggerService=l(y),this.abstractSecurityStorage=l(jn)}read(e,t){let{configId:s}=t;if(!s)return this.loggerService.logDebug(t,`Wanted to read '${e}' but configId was '${s}'`),null;if(!this.hasStorage())return this.loggerService.logDebug(t,`Wanted to read '${e}' but Storage was undefined`),null;let o=this.abstractSecurityStorage.read(s);return o?JSON.parse(o):null}write(e,t){let{configId:s}=t;return s?this.hasStorage()?(e=e||null,this.abstractSecurityStorage.write(s,JSON.stringify(e)),!0):(this.loggerService.logDebug(t,"Wanted to write but Storage was falsy"),!1):(this.loggerService.logDebug(t,`Wanted to write but configId was '${s}'`),!1)}remove(e,t){return this.hasStorage()?(this.abstractSecurityStorage.remove(e),!0):(this.loggerService.logDebug(t,`Wanted to remove '${e}' but Storage was falsy`),!1)}clear(e){return this.hasStorage()?(this.abstractSecurityStorage.clear(),!0):(this.loggerService.logDebug(e,"Wanted to clear storage but Storage was falsy"),!1)}hasStorage(){return typeof Storage<"u"}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=m({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})(),$=(()=>{let i=class i{constructor(){this.browserStorageService=l(so)}read(e,t){return(this.browserStorageService.read(e,t)||{})[e]}write(e,t,s){let o=this.browserStorageService.read(e,s)||{};return o[e]=t,this.browserStorageService.write(o,s)}remove(e,t){let s=this.browserStorageService.read(e,t)||{};delete s[e],this.browserStorageService.write(s,t)}clear(e){this.browserStorageService.clear(e)}resetStorageFlowData(e){this.remove("session_state",e),this.remove("storageSilentRenewRunning",e),this.remove("storageCodeFlowInProgress",e),this.remove("codeVerifier",e),this.remove("userData",e),this.remove("storageCustomParamsAuthRequest",e),this.remove("access_token_expires_at",e),this.remove("storageCustomParamsRefresh",e),this.remove("storageCustomParamsEndSession",e),this.remove("reusable_refresh_token",e)}resetAuthStateInStorage(e){this.remove("authzData",e),this.remove("reusable_refresh_token",e),this.remove("authnResult",e)}getAccessToken(e){return this.read("authzData",e)}getIdToken(e){return this.read("authnResult",e)?.id_token}getRefreshToken(e){let t=this.read("authnResult",e)?.refresh_token;return!t&&e.allowUnsafeReuseRefreshToken?this.read("reusable_refresh_token",e):t}getAuthenticationResult(e){return this.read("authnResult",e)}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=m({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})(),Hn=(()=>{let i=class i{extractJwk(e,t,s=!0){if(e.length===0)throw oo;let o=e.filter(a=>t?.kid?a.kid===t.kid:!0).filter(a=>t?.use?a.use===t.use:!0).filter(a=>t?.kty?a.kty===t.kty:!0);if(o.length===0&&s)throw ao;if(o.length>1&&t==null)throw lo;return o}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=m({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();function Ki(n){return Hn.name+": "+n}var oo={name:Ki("InvalidArgumentError"),message:"Array of keys was empty. Unable to extract"},ao={name:Ki("NoMatchingKeysError"),message:"No key found matching the spec"},lo={name:Ki("SeveralMatchingKeysError"),message:"More than one key found. Please use spec to filter"},Bn=3,Zt=(()=>{let i=class i{constructor(){this.loggerService=l(y),this.document=l(D)}getTokenExpirationDate(e){if(!Object.prototype.hasOwnProperty.call(e,"exp"))return new Date(new Date().toUTCString());let t=new Date(0);return t.setUTCSeconds(e.exp),t}getSigningInputFromToken(e,t,s){if(!this.tokenIsValid(e,s))return"";let o=this.getHeaderFromToken(e,t,s),a=this.getPayloadFromToken(e,t,s);return[o,a].join(".")}getHeaderFromToken(e,t,s){return this.tokenIsValid(e,s)?this.getPartOfToken(e,0,t):{}}getPayloadFromToken(e,t,s){return s?this.tokenIsValid(e,s)?this.getPartOfToken(e,1,t):{}:{}}getSignatureFromToken(e,t,s){return this.tokenIsValid(e,s)?this.getPartOfToken(e,2,t):{}}getPartOfToken(e,t,s){let o=this.extractPartOfToken(e,t);if(s)return o;let a=this.urlBase64Decode(o);return JSON.parse(a)}urlBase64Decode(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw Error("Illegal base64url string!")}let s=typeof this.document.defaultView<"u"?this.document.defaultView?.atob(t):Buffer.from(t,"base64").toString("binary");if(!s)return"";try{return decodeURIComponent(s.split("").map(o=>"%"+("00"+o.charCodeAt(0).toString(16)).slice(-2)).join(""))}catch{return s}}tokenIsValid(e,t){return e?e.includes(".")?e.split(".").length!==Bn?(this.loggerService.logError(t,`token '${e}' is not valid --> token has to have exactly ${Bn-1} dots`),!1):!0:(this.loggerService.logError(t,`token '${e}' is not valid --> no dots included`),!1):(this.loggerService.logError(t,`token '${e}' is not valid --> token falsy`),!1)}extractPartOfToken(e,t){return e.split(".")[t]}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=m({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})(),Yi=(()=>{let i=class i{constructor(){this.document=l(D)}getCrypto(){return this.document.defaultView?.crypto||this.document.defaultView?.msCrypto}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=m({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})(),co=(()=>{let i=class i{constructor(){this.cryptoService=l(Yi)}importVerificationKey(e,t){return this.cryptoService.getCrypto().subtle.importKey("jwk",e,t,!1,["verify"])}verifyKey(e,t,s,o){return this.cryptoService.getCrypto().subtle.verify(e,t,s,new TextEncoder().encode(o))}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=m({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})(),$n=(()=>{let i=class i{constructor(){this.cryptoService=l(Yi)}generateCodeChallenge(e){return this.calcHash(e).pipe(w(t=>this.base64UrlEncode(t)))}generateAtHash(e,t){return this.calcHash(e,t).pipe(w(s=>{let o=s.substr(0,s.length/2);return btoa(o).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}))}calcHash(e,t="SHA-256"){let s=new TextEncoder().encode(e);return Ot(this.cryptoService.getCrypto().subtle.digest(t,s)).pipe(w(o=>{let a=o,c=Array.from(new Uint8Array(a));return this.toHashString(c)}))}toHashString(e){let t="";for(let s of e)t+=String.fromCharCode(s);return t}base64UrlEncode(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=m({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();function ho(n){switch(n.charAt(0)){case"R":return{name:"RSASSA-PKCS1-v1_5",hash:"SHA-256"};case"E":return n.includes("256")?{name:"ECDSA",hash:"SHA-256"}:n.includes("384")?{name:"ECDSA",hash:"SHA-384"}:null;default:return null}}function uo(n){switch(n.charAt(0)){case"R":return"RSA";case"E":return"EC";default:throw new Error("Cannot infer kty from alg: "+n)}}function mo(n){switch(n.charAt(0)){case"R":return n.includes("256")?{name:"RSASSA-PKCS1-v1_5",hash:"SHA-256"}:n.includes("384")?{name:"RSASSA-PKCS1-v1_5",hash:"SHA-384"}:n.includes("512")?{name:"RSASSA-PKCS1-v1_5",hash:"SHA-512"}:null;case"E":return n.includes("256")?{name:"ECDSA",namedCurve:"P-256"}:n.includes("384")?{name:"ECDSA",namedCurve:"P-384"}:null;default:return null}}var Jt=(()=>{let i=class i{constructor(){this.keyAlgorithms=["HS256","HS384","HS512","RS256","RS384","RS512","ES256","ES384","PS256","PS384","PS512"],this.tokenHelperService=l(Zt),this.loggerService=l(y),this.jwkExtractor=l(Hn),this.jwkWindowCryptoService=l(co),this.jwtWindowCryptoService=l($n)}hasIdTokenExpired(e,t,s){let o=this.tokenHelperService.getPayloadFromToken(e,!1,t);return!this.validateIdTokenExpNotExpired(o,t,s)}validateIdTokenExpNotExpired(e,t,s){let o=this.tokenHelperService.getTokenExpirationDate(e);if(s=s||0,!o)return!1;let a=o.valueOf(),c=this.calculateNowWithOffset(s),d=a>c;return this.loggerService.logDebug(t,`Has idToken expired: ${!d} --> expires in ${this.millisToMinutesAndSeconds(a-c)} , ${new Date(a).toLocaleTimeString()} > ${new Date(c).toLocaleTimeString()}`),d}validateAccessTokenNotExpired(e,t,s){if(!e)return!0;s=s||0;let o=e.valueOf(),a=this.calculateNowWithOffset(s),c=o>a;return this.loggerService.logDebug(t,`Has accessToken expired: ${!c} --> expires in ${this.millisToMinutesAndSeconds(o-a)} , ${new Date(o).toLocaleTimeString()} > ${new Date(a).toLocaleTimeString()}`),c}validateRequiredIdToken(e,t){let s=!0;return Object.prototype.hasOwnProperty.call(e,"iss")||(s=!1,this.loggerService.logWarning(t,"iss is missing, this is required in the id_token")),Object.prototype.hasOwnProperty.call(e,"sub")||(s=!1,this.loggerService.logWarning(t,"sub is missing, this is required in the id_token")),Object.prototype.hasOwnProperty.call(e,"aud")||(s=!1,this.loggerService.logWarning(t,"aud is missing, this is required in the id_token")),Object.prototype.hasOwnProperty.call(e,"exp")||(s=!1,this.loggerService.logWarning(t,"exp is missing, this is required in the id_token")),Object.prototype.hasOwnProperty.call(e,"iat")||(s=!1,this.loggerService.logWarning(t,"iat is missing, this is required in the id_token")),s}validateIdTokenIatMaxOffset(e,t,s,o){if(s)return!0;if(!Object.prototype.hasOwnProperty.call(e,"iat"))return!1;let a=new Date(0);a.setUTCSeconds(e.iat),t=t||0;let d=new Date(new Date().toUTCString()).valueOf()-a.valueOf(),h=t*1e3;return this.loggerService.logDebug(o,`validate id token iat max offset ${d} < ${h}`),d>0?d<h:-d<h}validateIdTokenNonce(e,t,s,o){return!((e.nonce===void 0||s)&&t===i.refreshTokenNoncePlaceholder)&&e.nonce!==t?(this.loggerService.logDebug(o,"Validate_id_token_nonce failed, dataIdToken.nonce: "+e.nonce+" local_nonce:"+t),!1):!0}validateIdTokenIss(e,t,s){return e.iss!==t?(this.loggerService.logDebug(s,"Validate_id_token_iss failed, dataIdToken.iss: "+e.iss+" authWellKnownEndpoints issuer:"+t),!1):!0}validateIdTokenAud(e,t,s){return Array.isArray(e.aud)?e.aud.includes(t)?!0:(this.loggerService.logDebug(s,"Validate_id_token_aud array failed, dataIdToken.aud: "+e.aud+" client_id:"+t),!1):e.aud!==t?(this.loggerService.logDebug(s,"Validate_id_token_aud failed, dataIdToken.aud: "+e.aud+" client_id:"+t),!1):!0}validateIdTokenAzpExistsIfMoreThanOneAud(e){return e?!(Array.isArray(e.aud)&&e.aud.length>1&&!e.azp):!1}validateIdTokenAzpValid(e,t){return e?.azp?e.azp===t:!0}validateStateFromHashCallback(e,t,s){return e!==t?(this.loggerService.logDebug(s,"ValidateStateFromHashCallback failed, state: "+e+" local_state:"+t),!1):!0}validateSignatureIdToken(e,t,s){if(!e)return p(!0);if(!t||!t.keys)return p(!1);let o=this.tokenHelperService.getHeaderFromToken(e,!1,s);if(Object.keys(o).length===0&&o.constructor===Object)return this.loggerService.logWarning(s,"id token has no header data"),p(!1);let a=o.kid,c=o.alg,d=t.keys,h,u;if(!this.keyAlgorithms.includes(c))return this.loggerService.logWarning(s,"alg not supported",c),p(!1);let g=uo(c),_="sig";try{h=a?this.jwkExtractor.extractJwk(d,{kid:a,kty:g,use:_},!1):this.jwkExtractor.extractJwk(d,{kty:g,use:_},!1),h.length===0&&(h=a?this.jwkExtractor.extractJwk(d,{kid:a,kty:g}):this.jwkExtractor.extractJwk(d,{kty:g})),u=h[0]}catch(fe){return this.loggerService.logError(s,fe),p(!1)}let k=mo(c),v=this.tokenHelperService.getSigningInputFromToken(e,!0,s),be=this.tokenHelperService.getSignatureFromToken(e,!0,s);return Ot(this.jwkWindowCryptoService.importVerificationKey(u,k)).pipe($e(fe=>{let We=Ln.parse(be,{loose:!0}),vt=ho(c);return Ot(this.jwkWindowCryptoService.verifyKey(vt,fe,We,v))}),ce(fe=>{fe||this.loggerService.logWarning(s,"incorrect Signature, validation failed for id_token")}))}validateIdTokenAtHash(e,t,s,o){this.loggerService.logDebug(o,"at_hash from the server:"+t);let a="SHA-256";return s.includes("384")?a="SHA-384":s.includes("512")&&(a="SHA-512"),this.jwtWindowCryptoService.generateAtHash(""+e,a).pipe($e(c=>(this.loggerService.logDebug(o,"at_hash client validation not decoded:"+c),c===t?p(!0):this.jwtWindowCryptoService.generateAtHash(""+decodeURIComponent(e),a).pipe(w(d=>(this.loggerService.logDebug(o,"-gen access--"+c),d===t))))))}millisToMinutesAndSeconds(e){let t=Math.floor(e/6e4),s=(e%6e4/1e3).toFixed(0);return t+":"+(+s<10?"0":"")+s}calculateNowWithOffset(e){return new Date(new Date().toUTCString()).valueOf()+e*1e3}};i.refreshTokenNoncePlaceholder="--RefreshToken--",i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=m({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})(),po={isAuthenticated:!1,allConfigsAuthenticated:[]},_e=(()=>{let i=class i{constructor(){this.storagePersistenceService=l($),this.loggerService=l(y),this.publicEventsService=l(Ze),this.tokenValidationService=l(Jt),this.authenticatedInternal$=new Pt(po)}get authenticated$(){return this.authenticatedInternal$.asObservable().pipe(Ei())}setAuthenticatedAndFireEvent(e){let t=this.composeAuthenticatedResult(e);this.authenticatedInternal$.next(t)}setUnauthenticatedAndFireEvent(e,t){this.storagePersistenceService.resetAuthStateInStorage(e);let s=this.composeUnAuthenticatedResult(t);this.authenticatedInternal$.next(s)}updateAndPublishAuthState(e){this.publicEventsService.fireEvent(de.NewAuthenticationResult,e)}setAuthorizationData(e,t,s,o){this.loggerService.logDebug(s,`storing the accessToken '${e}'`),this.storagePersistenceService.write("authzData",e,s),this.persistAccessTokenExpirationTime(t,s),this.setAuthenticatedAndFireEvent(o)}getAccessToken(e){if(!e||!this.isAuthenticated(e))return"";let t=this.storagePersistenceService.getAccessToken(e);return this.decodeURIComponentSafely(t)}getIdToken(e){if(!e||!this.isAuthenticated(e))return"";let t=this.storagePersistenceService.getIdToken(e);return this.decodeURIComponentSafely(t)}getRefreshToken(e){if(!e||!this.isAuthenticated(e))return"";let t=this.storagePersistenceService.getRefreshToken(e);return this.decodeURIComponentSafely(t)}getAuthenticationResult(e){return!e||!this.isAuthenticated(e)?null:this.storagePersistenceService.getAuthenticationResult(e)}areAuthStorageTokensValid(e){return!e||!this.isAuthenticated(e)?!1:this.hasIdTokenExpiredAndRenewCheckIsEnabled(e)?(this.loggerService.logDebug(e,"persisted idToken is expired"),!1):this.hasAccessTokenExpiredIfExpiryExists(e)?(this.loggerService.logDebug(e,"persisted accessToken is expired"),!1):(this.loggerService.logDebug(e,"persisted idToken and accessToken are valid"),!0)}hasIdTokenExpiredAndRenewCheckIsEnabled(e){let{renewTimeBeforeTokenExpiresInSeconds:t,triggerRefreshWhenIdTokenExpired:s,disableIdTokenValidation:o}=e;if(!s||o)return!1;let a=this.storagePersistenceService.getIdToken(e),c=this.tokenValidationService.hasIdTokenExpired(a,e,t);return c&&this.publicEventsService.fireEvent(de.IdTokenExpired,c),c}hasAccessTokenExpiredIfExpiryExists(e){let{renewTimeBeforeTokenExpiresInSeconds:t}=e,s=this.storagePersistenceService.read("access_token_expires_at",e),a=!this.tokenValidationService.validateAccessTokenNotExpired(s,e,t);return a&&this.publicEventsService.fireEvent(de.TokenExpired,a),a}isAuthenticated(e){if(!e)return f(()=>new Error("Please provide a configuration before setting up the module")),!1;let t=!!this.storagePersistenceService.getAccessToken(e),s=!!this.storagePersistenceService.getIdToken(e);return t&&s}decodeURIComponentSafely(e){return e?decodeURIComponent(e):""}persistAccessTokenExpirationTime(e,t){if(e?.expires_in){let s=new Date(new Date().toUTCString()).valueOf()+e.expires_in*1e3;this.storagePersistenceService.write("access_token_expires_at",s,t)}}composeAuthenticatedResult(e){if(e.length===1){let{configId:t}=e[0];return{isAuthenticated:!0,allConfigsAuthenticated:[{configId:t??"",isAuthenticated:!0}]}}return this.checkAllConfigsIfTheyAreAuthenticated(e)}composeUnAuthenticatedResult(e){if(e.length===1){let{configId:t}=e[0];return{isAuthenticated:!1,allConfigsAuthenticated:[{configId:t??"",isAuthenticated:!1}]}}return this.checkAllConfigsIfTheyAreAuthenticated(e)}checkAllConfigsIfTheyAreAuthenticated(e){let t=e.map(o=>({configId:o.configId??"",isAuthenticated:this.isAuthenticated(o)})),s=t.every(o=>o.isAuthenticated);return{allConfigsAuthenticated:t,isAuthenticated:s}}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=m({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})(),ji="redirect",go=(()=>{let i=class i{constructor(){this.storageService=l($),this.router=l(lt)}checkSavedRedirectRouteAndNavigate(e){if(!e)return;let t=this.getStoredRedirectRoute(e);t!=null&&(this.deleteStoredRedirectRoute(e),this.router.navigateByUrl(t))}saveRedirectRoute(e,t){e&&this.storageService.write(ji,t,e)}getStoredRedirectRoute(e){return this.storageService.read(ji,e)}deleteStoredRedirectRoute(e){this.storageService.remove(ji,e)}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=m({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})(),Le=(()=>{let i=class i{isCurrentFlowCodeFlow(e){return this.currentFlowIs("code",e)}isCurrentFlowAnyImplicitFlow(e){return this.isCurrentFlowImplicitFlowWithAccessToken(e)||this.isCurrentFlowImplicitFlowWithoutAccessToken(e)}isCurrentFlowCodeFlowWithRefreshTokens(e){if(!e)return!1;let{useRefreshToken:t}=e;return this.isCurrentFlowCodeFlow(e)&&!!t}isCurrentFlowImplicitFlowWithAccessToken(e){return this.currentFlowIs("id_token token",e)}currentFlowIs(e,t){let{responseType:s}=t;return Array.isArray(e)?e.some(o=>s===o):s===e}isCurrentFlowImplicitFlowWithoutAccessToken(e){return this.currentFlowIs("id_token",e)}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=m({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})(),fo=(()=>{let i=class i{constructor(){this.loggerService=l(y),this.cryptoService=l(Yi)}createRandom(e,t){if(e<=0)return"";e>0&&e<7&&(this.loggerService.logWarning(t,`RandomService called with ${e} but 7 chars is the minimum, returning 10 chars`),e=10);let s=e-6,o=new Uint8Array(Math.floor(s/2)),a=this.cryptoService.getCrypto();return a&&a.getRandomValues(o),Array.from(o,this.toHex).join("")+this.randomString(7)}toHex(e){return("0"+e.toString(16)).substr(-2)}randomString(e){let t="",s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=new Uint32Array(e),a=this.cryptoService.getCrypto();if(a){a.getRandomValues(o);for(let c=0;c<e;c++)t+=s[o[c]%s.length]}return t}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=m({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})(),he=(()=>{let i=class i{constructor(){this.loggerService=l(y),this.storagePersistenceService=l($),this.randomService=l(fo)}createNonce(e){let t=this.randomService.createRandom(40,e);return this.loggerService.logDebug(e,"Nonce created. nonce:"+t),this.setNonce(t,e),t}setNonce(e,t){this.storagePersistenceService.write("authNonce",e,t)}getAuthStateControl(e){return e?this.storagePersistenceService.read("authStateControl",e):""}setAuthStateControl(e,t){return t?this.storagePersistenceService.write("authStateControl",e,t):!1}getExistingOrCreateAuthStateControl(e){let t=this.storagePersistenceService.read("authStateControl",e);return t||(t=this.randomService.createRandom(40,e),this.storagePersistenceService.write("authStateControl",t,e)),t}setSessionState(e,t){this.storagePersistenceService.write("session_state",e,t)}resetStorageFlowData(e){this.storagePersistenceService.resetStorageFlowData(e)}getCodeVerifier(e){return this.storagePersistenceService.read("codeVerifier",e)}createCodeVerifier(e){let t=this.randomService.createRandom(67,e);return this.storagePersistenceService.write("codeVerifier",t,e),t}isCodeFlowInProgress(e){return!!this.storagePersistenceService.read("storageCodeFlowInProgress",e)}setCodeFlowInProgress(e){this.storagePersistenceService.write("storageCodeFlowInProgress",!0,e)}resetCodeFlowInProgress(e){this.storagePersistenceService.write("storageCodeFlowInProgress",!1,e)}isSilentRenewRunning(e){let{configId:t,silentRenewTimeoutInSeconds:s}=e,o=this.getSilentRenewRunningStorageEntry(e);if(!o||o.state==="not-running")return!1;let a=(s??0)*1e3,c=Date.parse(o.dateOfLaunchedProcessUtc),d=Date.parse(new Date().toISOString());return Math.abs(d-c)>a?(this.loggerService.logDebug(e,"silent renew process is probably stuck, state will be reset.",t),this.resetSilentRenewRunning(e),!1):o.state==="running"}setSilentRenewRunning(e){let t={state:"running",dateOfLaunchedProcessUtc:new Date().toISOString()};this.storagePersistenceService.write("storageSilentRenewRunning",JSON.stringify(t),e)}resetSilentRenewRunning(e){e&&this.storagePersistenceService.write("storageSilentRenewRunning","",e)}getSilentRenewRunningStorageEntry(e){let t=this.storagePersistenceService.read("storageSilentRenewRunning",e);return t?JSON.parse(t):{dateOfLaunchedProcessUtc:"",state:"not-running"}}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=m({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})(),$i=class{encodeKey(i){return encodeURIComponent(i)}encodeValue(i){return encodeURIComponent(i)}decodeKey(i){return decodeURIComponent(i)}decodeValue(i){return decodeURIComponent(i)}},vo=["code","state","token","id_token"],_o="auth0.com",xe=(()=>{let i=class i{constructor(){this.loggerService=l(y),this.flowsDataService=l(he),this.flowHelper=l(Le),this.storagePersistenceService=l($),this.jwtWindowCryptoService=l($n)}getUrlParameter(e,t){if(!e||!t)return"";t=t.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");let o=new RegExp("[\\?&#]"+t+"=([^&#]*)").exec(e);return o===null?"":decodeURIComponent(o[1])}getUrlWithoutQueryParameters(e){let t=new URL(e.toString()),s=[];for(let o of t.searchParams.keys())s.push(o);return s.forEach(o=>{t.searchParams.delete(o)}),t}queryParametersExist(e,t){let s=!0;return e.forEach((o,a)=>{t.has(a)||(s=!1)}),s}isCallbackFromSts(e,t){if(t&&t.checkRedirectUrlWhenCheckingIfIsCallback){let s=new URL(e),o=this.getRedirectUrl(t);if(!o)return this.loggerService.logError(t,"UrlService.isCallbackFromSts: could not get redirectUrl from config, was: ",o),!1;let a=new URL(o),c=this.getUrlWithoutQueryParameters(a).toString(),d=this.getUrlWithoutQueryParameters(s).toString(),h=this.queryParametersExist(a.searchParams,s.searchParams);if(c!==d||!h)return this.loggerService.logDebug(t,"UrlService.isCallbackFromSts: configured redirectUrl does not match with the current url"),!1}return vo.some(s=>!!this.getUrlParameter(e,s))}getRefreshSessionSilentRenewUrl(e,t){return this.flowHelper.isCurrentFlowCodeFlow(e)?this.createUrlCodeFlowWithSilentRenew(e,t):p(this.createUrlImplicitFlowWithSilentRenew(e,t))}getAuthorizeParUrl(e,t){let s=this.storagePersistenceService.read("authWellKnownEndPoints",t);if(!s)return this.loggerService.logError(t,"authWellKnownEndpoints is undefined"),null;let o=s.authorizationEndpoint;if(!o)return this.loggerService.logError(t,`Can not create an authorize URL when authorizationEndpoint is '${o}'`),null;let{clientId:a}=t;if(!a)return this.loggerService.logError(t,"getAuthorizeParUrl could not add clientId because it was: ",a),null;let c=o.split("?"),d=c[0],h=c[1],u=this.createHttpParams(h);return u=u.set("request_uri",e),u=u.append("client_id",a),`${d}?${u}`}getAuthorizeUrl(e,t){return e?this.flowHelper.isCurrentFlowCodeFlow(e)?this.createUrlCodeFlowAuthorize(e,t):p(this.createUrlImplicitFlowAuthorize(e,t)||""):p(null)}getEndSessionEndpoint(e){let s=this.storagePersistenceService.read("authWellKnownEndPoints",e)?.endSessionEndpoint;if(!s)return{url:"",existingParams:""};let o=s.split("?"),a=o[0],c=o[1]??"";return{url:a,existingParams:c}}getEndSessionUrl(e,t){if(!e)return null;let s=this.storagePersistenceService.getIdToken(e),{customParamsEndSessionRequest:o}=e,a=b(b({},o),t);return this.createEndSessionUrl(s,e,a)}createRevocationEndpointBodyAccessToken(e,t){let s=this.getClientId(t);if(!s)return null;let o=this.createHttpParams();return o=o.set("client_id",s),o=o.set("token",e),o=o.set("token_type_hint","access_token"),o.toString()}createRevocationEndpointBodyRefreshToken(e,t){let s=this.getClientId(t);if(!s)return null;let o=this.createHttpParams();return o=o.set("client_id",s),o=o.set("token",e),o=o.set("token_type_hint","refresh_token"),o.toString()}getRevocationEndpointUrl(e){let s=this.storagePersistenceService.read("authWellKnownEndPoints",e)?.revocationEndpoint;return s?s.split("?")[0]:null}createBodyForCodeFlowCodeRequest(e,t,s){let o=this.getClientId(t);if(!o)return null;let a=this.createHttpParams();if(a=a.set("grant_type","authorization_code"),a=a.set("client_id",o),!t.disablePkce){let h=this.flowsDataService.getCodeVerifier(t);if(!h)return this.loggerService.logError(t,"CodeVerifier is not set ",h),null;a=a.set("code_verifier",h)}a=a.set("code",e),s&&(a=this.appendCustomParams(b({},s),a));let c=this.getSilentRenewUrl(t);if(this.flowsDataService.isSilentRenewRunning(t)&&c)return a=a.set("redirect_uri",c),a.toString();let d=this.getRedirectUrl(t);return d?(a=a.set("redirect_uri",d),a.toString()):null}createBodyForCodeFlowRefreshTokensRequest(e,t,s){let o=this.getClientId(t);if(!o)return null;let a=this.createHttpParams();return a=a.set("grant_type","refresh_token"),a=a.set("client_id",o),a=a.set("refresh_token",e),s&&(a=this.appendCustomParams(b({},s),a)),a.toString()}createBodyForParCodeFlowRequest(e,t){let s=this.getRedirectUrl(e,t);if(!s)return p(null);let o=this.flowsDataService.getExistingOrCreateAuthStateControl(e),a=this.flowsDataService.createNonce(e);this.loggerService.logDebug(e,"Authorize created. adding myautostate: "+o);let c=this.flowsDataService.createCodeVerifier(e);return this.jwtWindowCryptoService.generateCodeChallenge(c).pipe(w(d=>{let{clientId:h,responseType:u,scope:g,hdParam:_,customParamsAuthRequest:k}=e,v=this.createHttpParams("");return v=v.set("client_id",h??""),v=v.append("redirect_uri",s),v=v.append("response_type",u??""),v=v.append("scope",g??""),v=v.append("nonce",a),v=v.append("state",o),v=v.append("code_challenge",d),v=v.append("code_challenge_method","S256"),_&&(v=v.append("hd",_)),k&&(v=this.appendCustomParams(b({},k),v)),t?.customParams&&(v=this.appendCustomParams(b({},t.customParams),v)),v.toString()}))}getPostLogoutRedirectUrl(e){let{postLogoutRedirectUri:t}=e;return t||(this.loggerService.logError(e,"could not get postLogoutRedirectUri, was: ",t),null)}createEndSessionUrl(e,t,s){if(this.isAuth0Endpoint(t))return this.composeAuth0Endpoint(t);let{url:o,existingParams:a}=this.getEndSessionEndpoint(t);if(!o)return null;let c=this.createHttpParams(a);e&&(c=c.set("id_token_hint",e));let d=this.getPostLogoutRedirectUrl(t);return d&&(c=c.append("post_logout_redirect_uri",d)),s&&(c=this.appendCustomParams(b({},s),c)),`${o}?${c}`}createAuthorizeUrl(e,t,s,o,a,c,d){let u=this.storagePersistenceService.read("authWellKnownEndPoints",a)?.authorizationEndpoint;if(!u)return this.loggerService.logError(a,`Can not create an authorize URL when authorizationEndpoint is '${u}'`),"";let{clientId:g,responseType:_,scope:k,hdParam:v,customParamsAuthRequest:be}=a;if(!g)return this.loggerService.logError(a,"createAuthorizeUrl could not add clientId because it was: ",g),"";if(!_)return this.loggerService.logError(a,"createAuthorizeUrl could not add responseType because it was: ",_),"";if(!k)return this.loggerService.logError(a,"createAuthorizeUrl could not add scope because it was: ",k),"";let fe=u.split("?"),We=fe[0],vt=fe[1],I=this.createHttpParams(vt);I=I.set("client_id",g),I=I.append("redirect_uri",t),I=I.append("response_type",_),I=I.append("scope",k),I=I.append("nonce",s),I=I.append("state",o),this.flowHelper.isCurrentFlowCodeFlow(a)&&(I=I.append("code_challenge",e),I=I.append("code_challenge_method","S256"));let yr=b(b({},be),d);return Object.keys(yr).length>0&&(I=this.appendCustomParams(b({},yr),I)),c&&(I=this.overWriteParam(I,"prompt",c)),v&&(I=I.append("hd",v)),`${We}?${I}`}createUrlImplicitFlowWithSilentRenew(e,t){let s=this.flowsDataService.getExistingOrCreateAuthStateControl(e),o=this.flowsDataService.createNonce(e),a=this.getSilentRenewUrl(e);return a?(this.loggerService.logDebug(e,"RefreshSession created. adding myautostate: ",s),this.storagePersistenceService.read("authWellKnownEndPoints",e)?this.createAuthorizeUrl("",a,o,s,e,"none",t):(this.loggerService.logError(e,"authWellKnownEndpoints is undefined"),null)):null}createUrlCodeFlowWithSilentRenew(e,t){let s=this.flowsDataService.getExistingOrCreateAuthStateControl(e),o=this.flowsDataService.createNonce(e);this.loggerService.logDebug(e,"RefreshSession created. adding myautostate: "+s);let a=this.flowsDataService.createCodeVerifier(e);return this.jwtWindowCryptoService.generateCodeChallenge(a).pipe(w(c=>{let d=this.getSilentRenewUrl(e);return d?this.storagePersistenceService.read("authWellKnownEndPoints",e)?this.createAuthorizeUrl(c,d,o,s,e,"none",t):(this.loggerService.logWarning(e,"authWellKnownEndpoints is undefined"),""):""}))}createUrlImplicitFlowAuthorize(e,t){let s=this.flowsDataService.getExistingOrCreateAuthStateControl(e),o=this.flowsDataService.createNonce(e);this.loggerService.logDebug(e,"Authorize created. adding myautostate: "+s);let a=this.getRedirectUrl(e,t);if(!a)return null;if(this.storagePersistenceService.read("authWellKnownEndPoints",e)){let{customParams:d}=t||{};return this.createAuthorizeUrl("",a,o,s,e,"",d)}return this.loggerService.logError(e,"authWellKnownEndpoints is undefined"),null}createUrlCodeFlowAuthorize(e,t){let s=this.flowsDataService.getExistingOrCreateAuthStateControl(e),o=this.flowsDataService.createNonce(e);this.loggerService.logDebug(e,"Authorize created. adding myautostate: "+s);let a=this.getRedirectUrl(e,t);return a?this.getCodeChallenge(e).pipe(w(c=>{if(this.storagePersistenceService.read("authWellKnownEndPoints",e)){let{customParams:h}=t||{};return this.createAuthorizeUrl(c,a,o,s,e,"",h)}return this.loggerService.logError(e,"authWellKnownEndpoints is undefined"),""})):p(null)}getCodeChallenge(e){if(e.disablePkce)return p("");let t=this.flowsDataService.createCodeVerifier(e);return this.jwtWindowCryptoService.generateCodeChallenge(t)}getRedirectUrl(e,t){let{redirectUrl:s}=e;return t?.redirectUrl&&(s=t.redirectUrl),s||(this.loggerService.logError(e,"could not get redirectUrl, was: ",s),null)}getSilentRenewUrl(e){let{silentRenewUrl:t}=e;return t||(this.loggerService.logError(e,"could not get silentRenewUrl, was: ",t),null)}getClientId(e){let{clientId:t}=e;return t||(this.loggerService.logError(e,"could not get clientId, was: ",t),null)}appendCustomParams(e,t){for(let[s,o]of Object.entries(b({},e)))t=t.append(s,o.toString());return t}overWriteParam(e,t,s){return e.set(t,s)}createHttpParams(e){return e=e??"",new jt({fromString:e,encoder:new $i})}isAuth0Endpoint(e){let{authority:t,useCustomAuth0Domain:s}=e;return t?t.endsWith(_o)||!!s:!1}composeAuth0Endpoint(e){let{authority:t,clientId:s}=e,o=this.getPostLogoutRedirectUrl(e);return`${t}/v2/logout?client_id=${s}&returnTo=${o}`}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=m({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})(),bo=(()=>{let i=class i{constructor(){this.http=l(Me)}get(e,t){return this.http.get(e,t)}post(e,t,s){return this.http.post(e,t,s)}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=m({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})(),wo="ngsw-bypass",Je=(()=>{let i=class i{constructor(){this.httpClient=l(bo)}get(e,t,s){let o=this.prepareHeaders(s),a=this.prepareParams(t);return this.httpClient.get(e,{headers:o,params:a})}post(e,t,s,o){let a=o||this.prepareHeaders(),c=this.prepareParams(s);return this.httpClient.post(e??"",t,{headers:a,params:c})}prepareHeaders(e){let t=new at;return t=t.set("Accept","application/json"),e&&(t=t.set("Authorization","Bearer "+decodeURIComponent(e))),t}prepareParams(e){let t=new jt,{ngswBypass:s}=e;return s&&(t=t.set(wo,"")),t}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=m({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})(),Kn=n=>!!n&&n instanceof Qr&&(n.error instanceof ProgressEvent&&n.error.type==="error"||n.status===0&&!!n.error),yo=(()=>{let i=class i{constructor(){this.urlService=l(xe),this.loggerService=l(y),this.tokenValidationService=l(Jt),this.flowsDataService=l(he),this.storagePersistenceService=l($),this.dataService=l(Je)}codeFlowCallback(e,t){let s=this.urlService.getUrlParameter(e,"code"),o=this.urlService.getUrlParameter(e,"state"),a=this.urlService.getUrlParameter(e,"session_state");return o?s?(this.loggerService.logDebug(t,"running validation for callback",e),p({code:s,refreshToken:"",state:o,sessionState:a,authResult:null,isRenewProcess:!1,jwtKeys:null,validationResult:null,existingIdToken:null})):(this.loggerService.logDebug(t,"no code in url"),f(()=>new Error("no code in url"))):(this.loggerService.logDebug(t,"no state in url"),f(()=>new Error("no state in url")))}codeFlowCodeRequest(e,t){let s=this.flowsDataService.getAuthStateControl(t);if(!this.tokenValidationService.validateStateFromHashCallback(e.state,s,t))return f(()=>new Error("codeFlowCodeRequest incorrect state"));let c=this.storagePersistenceService.read("authWellKnownEndPoints",t)?.tokenEndpoint;if(!c)return f(()=>new Error("Token Endpoint not defined"));let d=new at;d=d.set("Content-Type","application/x-www-form-urlencoded");let h=this.urlService.createBodyForCodeFlowCodeRequest(e.code,t,t?.customParamsCodeRequest);return this.dataService.post(c,h,t,d).pipe(E(u=>{if(u){let g=je(b({},u),{state:e.state,session_state:e.sessionState});e.authResult=g}return p(e)}),Vt(u=>this.handleRefreshRetry(u,t)),K(u=>{let{authority:g}=t,_=`OidcService code request ${g}`;return this.loggerService.logError(t,_,u),f(()=>new Error(_))}))}handleRefreshRetry(e,t){return e.pipe($e(s=>{if(Kn(s)){let{authority:o,refreshTokenRetryInSeconds:a}=t,c=`OidcService code request ${o} - no internet connection`;return this.loggerService.logWarning(t,c,s),Ft((a??0)*1e3)}return f(()=>s)}))}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=m({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})(),M=(function(n){return n.NotSet="NotSet",n.StatesDoNotMatch="StatesDoNotMatch",n.SignatureFailed="SignatureFailed",n.IncorrectNonce="IncorrectNonce",n.RequiredPropertyMissing="RequiredPropertyMissing",n.MaxOffsetExpired="MaxOffsetExpired",n.IssDoesNotMatchIssuer="IssDoesNotMatchIssuer",n.NoAuthWellKnownEndPoints="NoAuthWellKnownEndPoints",n.IncorrectAud="IncorrectAud",n.IncorrectIdTokenClaimsAfterRefresh="IncorrectIdTokenClaimsAfterRefresh",n.IncorrectAzp="IncorrectAzp",n.TokenExpired="TokenExpired",n.IncorrectAtHash="IncorrectAtHash",n.Ok="Ok",n.LoginRequired="LoginRequired",n.SecureTokenServerError="SecureTokenServerError",n})(M||{}),So={userData:null,allUserData:[]},ht=(()=>{let i=class i{constructor(){this.userDataInternal$=new Pt(So),this.loggerService=l(y),this.tokenHelperService=l(Zt),this.flowHelper=l(Le),this.oidcDataService=l(Je),this.storagePersistenceService=l($),this.eventService=l(Ze)}get userData$(){return this.userDataInternal$.asObservable()}getAndPersistUserDataInStore(e,t,s=!1,o,a){o=o||this.storagePersistenceService.getIdToken(e),a=a||this.tokenHelperService.getPayloadFromToken(o,!1,e);let c=this.getUserDataFromStore(e),d=!!c,h=this.flowHelper.isCurrentFlowImplicitFlowWithAccessToken(e),u=this.flowHelper.isCurrentFlowCodeFlow(e),g=this.storagePersistenceService.getAccessToken(e);if(!(h||u))return this.loggerService.logDebug(e,`authCallback idToken flow with accessToken ${g}`),this.setUserDataToStore(a,e,t),p(a);let{renewUserInfoAfterTokenRenew:_}=e;return!s||_||!d?this.getUserDataOidcFlowAndSave(a.sub,e,t).pipe(E(k=>(this.loggerService.logDebug(e,"Received user data: ",k),k?(this.loggerService.logDebug(e,"accessToken: ",g),p(k)):f(()=>new Error("Received no user data, request failed"))))):p(c)}getUserDataFromStore(e){return e?this.storagePersistenceService.read("userData",e)||null:f(()=>new Error("Please provide a configuration before setting up the module"))}publishUserDataIfExists(e,t){let s=this.getUserDataFromStore(e);s&&this.fireUserDataEvent(e,t,s)}setUserDataToStore(e,t,s){this.storagePersistenceService.write("userData",e,t),this.fireUserDataEvent(t,s,e)}resetUserDataInStore(e,t){this.storagePersistenceService.remove("userData",e),this.fireUserDataEvent(e,t,null)}getUserDataOidcFlowAndSave(e,t,s){return this.getIdentityUserData(t).pipe(w(o=>this.validateUserDataSubIdToken(t,e,o?.sub)?(this.setUserDataToStore(o,t,s),o):(this.loggerService.logWarning(t,"User data sub does not match sub in id_token, resetting"),this.resetUserDataInStore(t,s),null)))}getIdentityUserData(e){let t=this.storagePersistenceService.getAccessToken(e),s=this.storagePersistenceService.read("authWellKnownEndPoints",e);if(!s)return this.loggerService.logWarning(e,"init check session: authWellKnownEndpoints is undefined"),f(()=>new Error("authWellKnownEndpoints is undefined"));let o=s.userInfoEndpoint;return o?this.oidcDataService.get(o,e,t).pipe(st(2)):(this.loggerService.logError(e,"init check session: authWellKnownEndpoints.userinfo_endpoint is undefined; set auto_userinfo = false in config"),f(()=>new Error("authWellKnownEndpoints.userinfo_endpoint is undefined")))}validateUserDataSubIdToken(e,t,s){return!t||!s?!1:t.toString()!==s.toString()?(this.loggerService.logDebug(e,"validateUserDataSubIdToken failed",t,s),!1):!0}fireUserDataEvent(e,t,s){let o=this.composeSingleOrMultipleUserDataObject(e,t,s);this.userDataInternal$.next(o);let{configId:a}=e;this.eventService.fireEvent(de.UserDataChanged,{configId:a,userData:s})}composeSingleOrMultipleUserDataObject(e,t,s){if(!(t.length>1)){let{configId:c}=e;return this.composeSingleUserDataResult(c??"",s)}return{userData:null,allUserData:t.map(c=>{let d=e.configId??"",h=c.configId??"";if(this.currentConfigIsToUpdate(d,c))return{configId:h,userData:s};let u=this.storagePersistenceService.read("userData",c)||null;return{configId:h,userData:u}})}}composeSingleUserDataResult(e,t){return{userData:t,allUserData:[{configId:e,userData:t}]}}currentConfigIsToUpdate(e,t){return t.configId===e}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=m({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})(),Ve=(()=>{let i=class i{constructor(){this.loggerService=l(y),this.userService=l(ht),this.flowsDataService=l(he),this.authStateService=l(_e)}resetAuthorizationData(e,t){e&&(this.userService.resetUserDataInStore(e,t),this.flowsDataService.resetStorageFlowData(e),this.authStateService.setUnauthenticatedAndFireEvent(e,t),this.loggerService.logDebug(e,"Local Login information cleaned up and event fired"))}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=m({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})(),ko=(()=>{let i=class i{constructor(){this.loggerService=l(y),this.storagePersistenceService=l($),this.dataService=l(Je)}getSigningKeys(e){let s=this.storagePersistenceService.read("authWellKnownEndPoints",e)?.jwksUri;if(!s){let o=`getSigningKeys: authWellKnownEndpoints.jwksUri is: '${s}'`;return this.loggerService.logWarning(e,o),f(()=>new Error(o))}return this.loggerService.logDebug(e,"Getting signinkeys from ",s),this.dataService.get(s,e).pipe(st(2),K(o=>this.handleErrorGetSigningKeys(o,e)))}handleErrorGetSigningKeys(e,t){let s="";if(e instanceof Xr){let o=e.body||{},a=JSON.stringify(o),{status:c,statusText:d}=e;s=`${c||""} - ${d||""} ${a||""}`}else{let{message:o}=e;s=o||`${e}`}return this.loggerService.logError(t,s),f(()=>new Error(s))}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=m({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})(),zn="jwtKeys",Co=(()=>{let i=class i{constructor(){this.loggerService=l(y),this.authStateService=l(_e),this.flowsDataService=l(he),this.signInKeyDataService=l(ko),this.storagePersistenceService=l($),this.resetAuthDataService=l(Ve),this.document=l(D)}callbackHistoryAndResetJwtKeys(e,t,s){let o=b({},e.authResult);if(!this.responseHasIdToken(e)){let a=this.storagePersistenceService.getIdToken(t);o=je(b({},o),{id_token:a})}if(this.storagePersistenceService.write("authnResult",o,t),t.allowUnsafeReuseRefreshToken&&e.authResult?.refresh_token&&this.storagePersistenceService.write("reusable_refresh_token",e.authResult.refresh_token,t),this.historyCleanUpTurnedOn(t)&&!e.isRenewProcess?this.resetBrowserHistory():this.loggerService.logDebug(t,"history clean up inactive"),e.authResult?.error){let a=`AuthCallback AuthResult came with error: ${e.authResult.error}`;return this.loggerService.logDebug(t,a),this.resetAuthDataService.resetAuthorizationData(t,s),this.flowsDataService.setNonce("",t),this.handleResultErrorFromCallback(e.authResult,e.isRenewProcess,t.configId),f(()=>new Error(a))}return this.loggerService.logDebug(t,`AuthResult '${JSON.stringify(e.authResult,null,2)}'.
      AuthCallback created, begin token validation`),this.signInKeyDataService.getSigningKeys(t).pipe(ce(a=>this.storeSigningKeys(a,t)),K(a=>{let c=this.readSigningKeys(t);return c?(this.loggerService.logWarning(t,"Failed to retrieve signing keys, fallback to stored keys"),p(c)):f(()=>new Error(a))}),E(a=>{if(a)return e.jwtKeys=a,p(e);let c="Failed to retrieve signing key";return this.loggerService.logWarning(t,c),f(()=>new Error(c))}),K(a=>{let c=`Failed to retrieve signing key with error: ${a}`;return this.loggerService.logWarning(t,c),f(()=>new Error(c))}))}responseHasIdToken(e){return!!e?.authResult?.id_token}handleResultErrorFromCallback(e,t,s){let o=M.SecureTokenServerError;e&&typeof e=="object"&&"error"in e&&e.error==="login_required"&&(o=M.LoginRequired),this.authStateService.updateAndPublishAuthState({isAuthenticated:!1,validationResult:o,isRenewProcess:t,configId:s})}historyCleanUpTurnedOn(e){let{historyCleanupOff:t}=e;return!t}resetBrowserHistory(){this.document.defaultView?.history.replaceState({},this.document.title,this.document.defaultView.location.origin+this.document.defaultView.location.pathname)}storeSigningKeys(e,t){this.storagePersistenceService.write(zn,e,t)}readSigningKeys(e){return this.storagePersistenceService.read(zn,e)}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=m({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})(),xo=(()=>{let i=class i{constructor(){this.loggerService=l(y),this.resetAuthDataService=l(Ve),this.flowsDataService=l(he),this.document=l(D)}implicitFlowCallback(e,t,s){let o=this.flowsDataService.isSilentRenewRunning(e);this.loggerService.logDebug(e,"BEGIN callback, no auth data"),o||this.resetAuthDataService.resetAuthorizationData(e,t),s=s||this.document.location.hash.substring(1);let c={code:"",refreshToken:"",state:"",sessionState:null,authResult:s.split("&").reduce((d,h)=>{let u=h.split("=");return d[u.shift()]=u.join("="),d},{}),isRenewProcess:o,jwtKeys:null,validationResult:null,existingIdToken:null};return p(c)}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=m({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})(),Ro=(()=>{let i=class i{constructor(){this.loggerService=l(y),this.authStateService=l(_e),this.flowsDataService=l(he)}refreshSessionWithRefreshTokens(e){let t=this.flowsDataService.getExistingOrCreateAuthStateControl(e);this.loggerService.logDebug(e,"RefreshSession created. Adding myautostate: "+t);let s=this.authStateService.getRefreshToken(e),o=this.authStateService.getIdToken(e);if(s){let a={code:"",refreshToken:s,state:t,sessionState:null,authResult:null,isRenewProcess:!0,jwtKeys:null,validationResult:null,existingIdToken:o};return this.loggerService.logDebug(e,"found refresh code, obtaining new credentials with refresh code"),this.flowsDataService.setNonce(Jt.refreshTokenNoncePlaceholder,e),p(a)}else{let a="no refresh token found, please login";return this.loggerService.logError(e,a),f(()=>new Error(a))}}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=m({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})(),Do=(()=>{let i=class i{constructor(){this.urlService=l(xe),this.loggerService=l(y),this.dataService=l(Je),this.storagePersistenceService=l($)}refreshTokensRequestTokens(e,t,s){let o=new at;o=o.set("Content-Type","application/x-www-form-urlencoded");let c=this.storagePersistenceService.read("authWellKnownEndPoints",t)?.tokenEndpoint;if(!c)return f(()=>new Error("Token Endpoint not defined"));let d=this.urlService.createBodyForCodeFlowRefreshTokensRequest(e.refreshToken,t,s);return this.dataService.post(c,d,t,o).pipe(E(h=>(this.loggerService.logDebug(t,`token refresh response: ${h}`),h&&(h.state=e.state),e.authResult=h,p(e))),Vt(h=>this.handleRefreshRetry(h,t)),K(h=>{let{authority:u}=t,g=`OidcService code request ${u}`;return this.loggerService.logError(t,g,h),f(()=>new Error(g))}))}handleRefreshRetry(e,t){return e.pipe($e(s=>{if(Kn(s)){let{authority:o,refreshTokenRetryInSeconds:a}=t,c=`OidcService code request ${o} - no internet connection`;return this.loggerService.logWarning(t,c,s),Ft((a??0)*1e3)}return f(()=>s)}))}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=m({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})(),Io=(()=>{let i=class i{isStringEqualOrNonOrderedArrayEqual(e,t){return this.isNullOrUndefined(e)||this.isNullOrUndefined(t)||this.oneValueIsStringAndTheOtherIsArray(e,t)?!1:this.bothValuesAreStrings(e,t)?e===t:this.arraysHaveEqualContent(e,t)}areEqual(e,t){if(!e||!t)return!1;if(this.bothValuesAreArrays(e,t))return this.arraysStrictEqual(e,t);if(this.bothValuesAreStrings(e,t))return e===t;if(this.bothValuesAreObjects(e,t))return JSON.stringify(e).toLowerCase()===JSON.stringify(t).toLowerCase();if(this.oneValueIsStringAndTheOtherIsArray(e,t)){if(Array.isArray(e)&&this.valueIsString(t))return e[0]===t;if(Array.isArray(t)&&this.valueIsString(e))return t[0]===e}return e===t}oneValueIsStringAndTheOtherIsArray(e,t){return Array.isArray(e)&&this.valueIsString(t)||Array.isArray(t)&&this.valueIsString(e)}bothValuesAreObjects(e,t){return this.valueIsObject(e)&&this.valueIsObject(t)}bothValuesAreStrings(e,t){return this.valueIsString(e)&&this.valueIsString(t)}bothValuesAreArrays(e,t){return Array.isArray(e)&&Array.isArray(t)}valueIsString(e){return typeof e=="string"||e instanceof String}valueIsObject(e){return typeof e=="object"}arraysStrictEqual(e,t){if(e.length!==t.length)return!1;for(let s=e.length;s--;)if(e[s]!==t[s])return!1;return!0}arraysHaveEqualContent(e,t){return e.length!==t.length?!1:e.some(s=>t.includes(s))}isNullOrUndefined(e){return e==null}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=m({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})(),Qt=class{constructor(i="",r="",e=!1,t={at_hash:""},s=M.NotSet){this.accessToken=i,this.idToken=r,this.authResponseIsValid=e,this.decodedIdToken=t,this.state=s}},Eo=(()=>{let i=class i{constructor(){this.storagePersistenceService=l($),this.tokenValidationService=l(Jt),this.tokenHelperService=l(Zt),this.loggerService=l(y),this.equalityService=l(Io),this.flowHelper=l(Le)}getValidatedStateResult(e,t){let s=!!e.authResult?.error;return!!!e||s?p(new Qt("","",!1,{})):this.validateState(e,t)}validateState(e,t){let s=new Qt,o=this.storagePersistenceService.read("authStateControl",t);if(!this.tokenValidationService.validateStateFromHashCallback(e.authResult?.state,o,t))return this.loggerService.logWarning(t,"authCallback incorrect state"),s.state=M.StatesDoNotMatch,this.handleUnsuccessfulValidation(t),p(s);let a=this.flowHelper.isCurrentFlowImplicitFlowWithAccessToken(t),c=this.flowHelper.isCurrentFlowCodeFlow(t);if((a||c)&&(s.accessToken=e.authResult?.access_token??""),t.disableIdTokenValidation)return s.state=M.Ok,s.authResponseIsValid=!0,p(s);let h=e.isRenewProcess&&!!e.refreshToken,u=!!e.authResult?.id_token;if(h&&!u)return s.state=M.Ok,s.authResponseIsValid=!0,p(s);if(u){let{clientId:g,issValidationOff:_,maxIdTokenIatOffsetAllowedInSeconds:k,disableIatOffsetValidation:v,ignoreNonceAfterRefresh:be,renewTimeBeforeTokenExpiresInSeconds:fe}=t;return s.idToken=e.authResult?.id_token??"",s.decodedIdToken=this.tokenHelperService.getPayloadFromToken(s.idToken,!1,t),this.tokenValidationService.validateSignatureIdToken(s.idToken,e.jwtKeys,t).pipe($e(We=>{if(!We)return this.loggerService.logDebug(t,"authCallback Signature validation failed id_token"),s.state=M.SignatureFailed,this.handleUnsuccessfulValidation(t),p(s);let vt=this.storagePersistenceService.read("authNonce",t);if(!this.tokenValidationService.validateIdTokenNonce(s.decodedIdToken,vt,!!be,t))return this.loggerService.logWarning(t,"authCallback incorrect nonce, did you call the checkAuth() method multiple times?"),s.state=M.IncorrectNonce,this.handleUnsuccessfulValidation(t),p(s);if(!this.tokenValidationService.validateRequiredIdToken(s.decodedIdToken,t))return this.loggerService.logDebug(t,"authCallback Validation, one of the REQUIRED properties missing from id_token"),s.state=M.RequiredPropertyMissing,this.handleUnsuccessfulValidation(t),p(s);if(!h&&!this.tokenValidationService.validateIdTokenIatMaxOffset(s.decodedIdToken,k??120,!!v,t))return this.loggerService.logWarning(t,"authCallback Validation, iat rejected id_token was issued too far away from the current time"),s.state=M.MaxOffsetExpired,this.handleUnsuccessfulValidation(t),p(s);let I=this.storagePersistenceService.read("authWellKnownEndPoints",t);if(I){if(_)this.loggerService.logDebug(t,"iss validation is turned off, this is not recommended!");else if(!_&&!this.tokenValidationService.validateIdTokenIss(s.decodedIdToken,I.issuer,t))return this.loggerService.logWarning(t,"authCallback incorrect iss does not match authWellKnownEndpoints issuer"),s.state=M.IssDoesNotMatchIssuer,this.handleUnsuccessfulValidation(t),p(s)}else return this.loggerService.logWarning(t,"authWellKnownEndpoints is undefined"),s.state=M.NoAuthWellKnownEndPoints,this.handleUnsuccessfulValidation(t),p(s);return this.tokenValidationService.validateIdTokenAud(s.decodedIdToken,g,t)?this.tokenValidationService.validateIdTokenAzpExistsIfMoreThanOneAud(s.decodedIdToken)?this.tokenValidationService.validateIdTokenAzpValid(s.decodedIdToken,g)?this.isIdTokenAfterRefreshTokenRequestValid(e,s.decodedIdToken,t)?!h&&!this.tokenValidationService.validateIdTokenExpNotExpired(s.decodedIdToken,t,fe)?(this.loggerService.logWarning(t,"authCallback id token expired"),s.state=M.TokenExpired,this.handleUnsuccessfulValidation(t),p(s)):this.validateDefault(a,c,s,t,e):(this.loggerService.logWarning(t,"authCallback pre, post id_token claims do not match in refresh"),s.state=M.IncorrectIdTokenClaimsAfterRefresh,this.handleUnsuccessfulValidation(t),p(s)):(this.loggerService.logWarning(t,"authCallback incorrect azp"),s.state=M.IncorrectAzp,this.handleUnsuccessfulValidation(t),p(s)):(this.loggerService.logWarning(t,"authCallback missing azp"),s.state=M.IncorrectAzp,this.handleUnsuccessfulValidation(t),p(s)):(this.loggerService.logWarning(t,"authCallback incorrect aud"),s.state=M.IncorrectAud,this.handleUnsuccessfulValidation(t),p(s))}))}else this.loggerService.logDebug(t,"No id_token found, skipping id_token validation");return this.validateDefault(a,c,s,t,e)}validateDefault(e,t,s,o,a){if(!e&&!t)return s.authResponseIsValid=!0,s.state=M.Ok,this.handleSuccessfulValidation(o),this.handleUnsuccessfulValidation(o),p(s);if(a.authResult?.id_token){let c=this.tokenHelperService.getHeaderFromToken(s.idToken,!1,o);if(t&&!s.decodedIdToken.at_hash)this.loggerService.logDebug(o,"Code Flow active, and no at_hash in the id_token, skipping check!");else return this.tokenValidationService.validateIdTokenAtHash(s.accessToken,s.decodedIdToken.at_hash,c.alg,o).pipe(w(d=>!d||!s.accessToken?(this.loggerService.logWarning(o,"authCallback incorrect at_hash"),s.state=M.IncorrectAtHash,this.handleUnsuccessfulValidation(o),s):(s.authResponseIsValid=!0,s.state=M.Ok,this.handleSuccessfulValidation(o),s)))}return s.authResponseIsValid=!0,s.state=M.Ok,this.handleSuccessfulValidation(o),p(s)}isIdTokenAfterRefreshTokenRequestValid(e,t,s){let{useRefreshToken:o,disableRefreshIdTokenAuthTimeValidation:a}=s;if(!o||!e.existingIdToken)return!0;let c=this.tokenHelperService.getPayloadFromToken(e.existingIdToken,!1,s);return c.iss!==t.iss?(this.loggerService.logDebug(s,`iss do not match: ${c.iss} ${t.iss}`),!1):c.azp!==t.azp?(this.loggerService.logDebug(s,`azp do not match: ${c.azp} ${t.azp}`),!1):c.sub!==t.sub?(this.loggerService.logDebug(s,`sub do not match: ${c.sub} ${t.sub}`),!1):this.equalityService.isStringEqualOrNonOrderedArrayEqual(c?.aud,t?.aud)?a?!0:c.auth_time!==t.auth_time?(this.loggerService.logDebug(s,`auth_time do not match: ${c.auth_time} ${t.auth_time}`),!1):!0:(this.loggerService.logDebug(s,`aud in new id_token is not valid: '${c?.aud}' '${t.aud}'`),!1)}handleSuccessfulValidation(e){let{autoCleanStateAfterAuthentication:t}=e;this.storagePersistenceService.write("authNonce",null,e),t&&this.storagePersistenceService.write("authStateControl","",e),this.loggerService.logDebug(e,"authCallback token(s) validated, continue")}handleUnsuccessfulValidation(e){let{autoCleanStateAfterAuthentication:t}=e;this.storagePersistenceService.write("authNonce",null,e),t&&this.storagePersistenceService.write("authStateControl","",e),this.loggerService.logDebug(e,"authCallback token(s) invalid")}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=m({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})(),To=(()=>{let i=class i{constructor(){this.loggerService=l(y),this.stateValidationService=l(Eo),this.authStateService=l(_e),this.resetAuthDataService=l(Ve),this.document=l(D)}callbackStateValidation(e,t,s){return this.stateValidationService.getValidatedStateResult(e,t).pipe(w(o=>{if(e.validationResult=o,o.authResponseIsValid)return this.authStateService.setAuthorizationData(o.accessToken,e.authResult,t,s),e;{let a=`authorizedCallback, token(s) validation failed, resetting. Hash: ${this.document.location.hash}`;throw this.loggerService.logWarning(t,a),this.resetAuthDataService.resetAuthorizationData(t,s),this.publishUnauthorizedState(e.validationResult,e.isRenewProcess,t.configId),new Error(a)}}))}publishUnauthorizedState(e,t,s){this.authStateService.updateAndPublishAuthState({isAuthenticated:!1,validationResult:e.state,isRenewProcess:t,configId:s})}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=m({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})(),Ao=(()=>{let i=class i{constructor(){this.loggerService=l(y),this.authStateService=l(_e),this.flowsDataService=l(he),this.userService=l(ht),this.resetAuthDataService=l(Ve)}callbackUser(e,t,s){let{isRenewProcess:o,validationResult:a,authResult:c,refreshToken:d}=e,{autoUserInfo:h,renewUserInfoAfterTokenRenew:u}=t;return h?this.userService.getAndPersistUserDataInStore(t,s,o,a?.idToken,a?.decodedIdToken).pipe(E(g=>{if(g)return d||this.flowsDataService.setSessionState(c?.session_state,t),this.publishAuthState(a,o,t.configId),p(e);{this.resetAuthDataService.resetAuthorizationData(t,s),this.publishUnauthenticatedState(a,o,t.configId);let _=`Called for userData but they were ${g}`;return this.loggerService.logWarning(t,_),f(()=>new Error(_))}}),K(g=>{let _=`Failed to retrieve user info with error:  ${g}`;return this.loggerService.logWarning(t,_),f(()=>new Error(_))})):((!o||u)&&a?.decodedIdToken&&this.userService.setUserDataToStore(a.decodedIdToken,t,s),!o&&!d&&this.flowsDataService.setSessionState(c?.session_state,t),this.publishAuthState(a,o,t.configId),p(e))}publishAuthState(e,t,s){e&&this.authStateService.updateAndPublishAuthState({isAuthenticated:!0,validationResult:e.state,isRenewProcess:t,configId:s})}publishUnauthenticatedState(e,t,s){e&&this.authStateService.updateAndPublishAuthState({isAuthenticated:!1,validationResult:e.state,isRenewProcess:t,configId:s})}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=m({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})(),ei=(()=>{let i=class i{constructor(){this.codeFlowCallbackHandlerService=l(yo),this.implicitFlowCallbackHandlerService=l(xo),this.historyJwtKeysCallbackHandlerService=l(Co),this.userHandlerService=l(Ao),this.stateValidationCallbackHandlerService=l(To),this.refreshSessionCallbackHandlerService=l(Ro),this.refreshTokenCallbackHandlerService=l(Do)}processCodeFlowCallback(e,t,s){return this.codeFlowCallbackHandlerService.codeFlowCallback(e,t).pipe(x(o=>this.codeFlowCallbackHandlerService.codeFlowCodeRequest(o,t)),x(o=>this.historyJwtKeysCallbackHandlerService.callbackHistoryAndResetJwtKeys(o,t,s)),x(o=>this.stateValidationCallbackHandlerService.callbackStateValidation(o,t,s)),x(o=>this.userHandlerService.callbackUser(o,t,s)))}processSilentRenewCodeFlowCallback(e,t,s){return this.codeFlowCallbackHandlerService.codeFlowCodeRequest(e,t).pipe(x(o=>this.historyJwtKeysCallbackHandlerService.callbackHistoryAndResetJwtKeys(o,t,s)),x(o=>this.stateValidationCallbackHandlerService.callbackStateValidation(o,t,s)),x(o=>this.userHandlerService.callbackUser(o,t,s)))}processImplicitFlowCallback(e,t,s){return this.implicitFlowCallbackHandlerService.implicitFlowCallback(e,t,s).pipe(x(o=>this.historyJwtKeysCallbackHandlerService.callbackHistoryAndResetJwtKeys(o,e,t)),x(o=>this.stateValidationCallbackHandlerService.callbackStateValidation(o,e,t)),x(o=>this.userHandlerService.callbackUser(o,e,t)))}processRefreshToken(e,t,s){return this.refreshSessionCallbackHandlerService.refreshSessionWithRefreshTokens(e).pipe(x(o=>this.refreshTokenCallbackHandlerService.refreshTokensRequestTokens(o,e,s)),x(o=>this.historyJwtKeysCallbackHandlerService.callbackHistoryAndResetJwtKeys(o,e,t)),x(o=>this.stateValidationCallbackHandlerService.callbackStateValidation(o,e,t)),x(o=>this.userHandlerService.callbackUser(o,e,t)))}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=m({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})(),Ct=(()=>{let i=class i{constructor(){this.runTokenValidationRunning=null,this.zone=l(B),this.document=l(D)}isTokenValidationRunning(){return!!this.runTokenValidationRunning}stopPeriodicTokenCheck(){this.runTokenValidationRunning&&(this.runTokenValidationRunning.unsubscribe(),this.runTokenValidationRunning=null)}startPeriodicTokenCheck(e){let t=e*1e3;return new He(s=>{let o;return this.zone.runOutsideAngular(()=>{o=this.document?.defaultView?.setInterval(()=>this.zone.run(()=>s.next()),t)}),()=>{clearInterval(o)}})}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=m({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})(),Po=(()=>{let i=class i{constructor(){this.flowsService=l(ei),this.router=l(lt),this.flowsDataService=l(he),this.intervalService=l(Ct)}authenticatedCallbackWithCode(e,t,s){let o=this.flowsDataService.isSilentRenewRunning(t),{triggerAuthorizationResultEvent:a}=t,c=t.postLoginRoute||"/",d=t.unauthorizedRoute||"/";return this.flowsService.processCodeFlowCallback(e,t,s).pipe(ce(h=>{this.flowsDataService.resetCodeFlowInProgress(t),!a&&!h.isRenewProcess&&this.router.navigateByUrl(c)}),K(h=>(this.flowsDataService.resetSilentRenewRunning(t),this.flowsDataService.resetCodeFlowInProgress(t),this.intervalService.stopPeriodicTokenCheck(),!a&&!o&&this.router.navigateByUrl(d),f(()=>new Error(h)))))}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=m({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})(),Yn=(()=>{let i=class i{constructor(){this.flowsService=l(ei),this.router=l(lt),this.flowsDataService=l(he),this.intervalService=l(Ct)}authenticatedImplicitFlowCallback(e,t,s){let o=this.flowsDataService.isSilentRenewRunning(e),a=!!e.triggerAuthorizationResultEvent,c=e.postLoginRoute??"",d=e.unauthorizedRoute??"";return this.flowsService.processImplicitFlowCallback(e,t,s).pipe(ce(h=>{!a&&!h.isRenewProcess&&this.router.navigateByUrl(c)}),K(h=>(this.flowsDataService.resetSilentRenewRunning(e),this.intervalService.stopPeriodicTokenCheck(),!a&&!o&&this.router.navigateByUrl(d),f(()=>new Error(h)))))}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=m({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})(),qn=(()=>{let i=class i{constructor(){this.urlService=l(xe),this.flowHelper=l(Le),this.implicitFlowCallbackService=l(Yn),this.codeFlowCallbackService=l(Po),this.stsCallbackInternal$=new C}get stsCallback$(){return this.stsCallbackInternal$.asObservable()}isCallback(e,t){return e?this.urlService.isCallbackFromSts(e,t):!1}handleCallbackAndFireEvents(e,t,s){let o=new He;if(this.flowHelper.isCurrentFlowCodeFlow(t))o=this.codeFlowCallbackService.authenticatedCallbackWithCode(e,t,s);else if(this.flowHelper.isCurrentFlowAnyImplicitFlow(t))if(e?.includes("#")){let a=e.substring(e.indexOf("#")+1);o=this.implicitFlowCallbackService.authenticatedImplicitFlowCallback(t,s,a)}else o=this.implicitFlowCallbackService.authenticatedImplicitFlowCallback(t,s);return o.pipe(ce(()=>this.stsCallbackInternal$.next()))}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=m({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})(),Oo=(()=>{let i=class i{constructor(){this.platformId=l(Pr)}isBrowser(){return qr(this.platformId)}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=m({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})(),Nn="/.well-known/openid-configuration",Mo=(()=>{let i=class i{constructor(){this.loggerService=l(y),this.http=l(Je)}getWellKnownEndPointsForConfig(e){let{authWellknownEndpointUrl:t,authWellknownEndpoints:s={}}=e;if(!t){let o="no authWellknownEndpoint given!";return this.loggerService.logError(e,o),f(()=>new Error(o))}return this.getWellKnownDocument(t,e).pipe(w(o=>({issuer:o.issuer,jwksUri:o.jwks_uri,authorizationEndpoint:o.authorization_endpoint,tokenEndpoint:o.token_endpoint,userInfoEndpoint:o.userinfo_endpoint,endSessionEndpoint:o.end_session_endpoint,checkSessionIframe:o.check_session_iframe,revocationEndpoint:o.revocation_endpoint,introspectionEndpoint:o.introspection_endpoint,parEndpoint:o.pushed_authorization_request_endpoint})),w(o=>b(b({},o),s)),ce(o=>{let a=o.issuer||"",c=e.authWellknownUrlSuffix||Nn,d=t.replace(c,"");if(a!==d&&a!==`${d}/`){let h=`Issuer mismatch. Well known issuer ${o.issuer} does not match configured well known url ${t}`;throw this.loggerService.logError(e,h),new Error(h)}}))}getWellKnownDocument(e,t){let s=e,o=t.authWellknownUrlSuffix||Nn;return e.includes(o)||(s=`${e}${o}`),this.http.get(s,t).pipe(st(2))}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=m({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})(),ut=(()=>{let i=class i{constructor(){this.dataService=l(Mo),this.publicEventsService=l(Ze),this.storagePersistenceService=l($)}storeWellKnownEndpoints(e,t){this.storagePersistenceService.write("authWellKnownEndPoints",t,e)}queryAndStoreAuthWellKnownEndPoints(e){return e?this.dataService.getWellKnownEndPointsForConfig(e).pipe(ce(t=>this.storeWellKnownEndpoints(e,t)),K(t=>(this.publicEventsService.fireEvent(de.ConfigLoadingFailed,null),f(()=>new Error(t))))):f(()=>new Error("Please provide a configuration before setting up the module"))}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=m({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})(),Fo={authority:"https://please_set",authWellknownEndpointUrl:"",authWellknownEndpoints:void 0,redirectUrl:"https://please_set",checkRedirectUrlWhenCheckingIfIsCallback:!0,clientId:"please_set",responseType:"code",scope:"openid email profile",hdParam:"",postLogoutRedirectUri:"https://please_set",startCheckSession:!1,silentRenew:!1,silentRenewUrl:"https://please_set",silentRenewTimeoutInSeconds:20,renewTimeBeforeTokenExpiresInSeconds:0,useRefreshToken:!1,usePushedAuthorisationRequests:!1,ignoreNonceAfterRefresh:!1,postLoginRoute:"/",forbiddenRoute:"/forbidden",unauthorizedRoute:"/unauthorized",autoUserInfo:!0,autoCleanStateAfterAuthentication:!0,triggerAuthorizationResultEvent:!1,logLevel:kt.Warn,issValidationOff:!1,historyCleanupOff:!1,maxIdTokenIatOffsetAllowedInSeconds:120,disableIatOffsetValidation:!1,customParamsAuthRequest:{},customParamsRefreshTokenRequest:{},customParamsEndSessionRequest:{},customParamsCodeRequest:{},disableRefreshIdTokenAuthTimeValidation:!1,triggerRefreshWhenIdTokenExpired:!0,tokenRefreshInSeconds:4,refreshTokenRetryInSeconds:3,ngswBypass:!1},mt={result:!0,messages:[],level:"none"},Lo=n=>n.authority?mt:{result:!1,messages:["The authority URL MUST be provided in the configuration! "],level:"error"},Vo=n=>n.clientId?mt:{result:!1,messages:["The clientId is required and missing from your config!"],level:"error"},Bo=n=>{if(!n)return"";let{authority:i,clientId:r,scope:e}=n;return`${i}${r}${e}`},zo=n=>new Set(n).size!==n.length,No=n=>{let i=n.map(t=>Bo(t));return i.some(t=>t==="")?{result:!1,messages:["Please make sure you add an object with a 'config' property: ....({ config }) instead of ...(config)"],level:"error"}:zo(i)?{result:!1,messages:["You added multiple configs with the same authority, clientId and scope"],level:"warning"}:mt},Uo=n=>n.redirectUrl?mt:{result:!1,messages:["The redirectUrl is required and missing from your config"],level:"error"},Wo=n=>{let i=n.silentRenew,r=n.useRefreshToken,e=n.silentRenewUrl;return i&&!r&&!e?{result:!1,messages:["Please provide a silent renew URL if using renew and not refresh tokens"],level:"error"}:mt},jo=n=>{let i=n.useRefreshToken,r=n.silentRenew,t=(n.scope||"").split(" ").includes("offline_access");return i&&r&&!t?{result:!1,messages:["When using silent renew and refresh tokens please set the `offline_access` scope"],level:"warning"}:mt},Ho=[Lo,jo,Uo,Vo,Wo],$o=[No],Ko=(()=>{let i=class i{constructor(){this.loggerService=l(y)}validateConfigs(e){return this.validateConfigsInternal(e??[],$o)}validateConfig(e){return this.validateConfigInternal(e,Ho)}validateConfigsInternal(e,t){if(e.length===0)return!1;let s=t.map(a=>a(e)),o=0;return e.forEach(a=>{let c=this.processValidationResultsAndGetErrorCount(s,a);o+=c}),o===0}validateConfigInternal(e,t){let s=t.map(a=>a(e));return this.processValidationResultsAndGetErrorCount(s,e)===0}processValidationResultsAndGetErrorCount(e,t){let s=e.filter(c=>c.messages.length>0),o=this.getAllMessagesOfType("error",s),a=this.getAllMessagesOfType("warning",s);return o.forEach(c=>this.loggerService.logError(t,c)),a.forEach(c=>this.loggerService.logWarning(t,c)),o.length}getAllMessagesOfType(e,t){return t.filter(o=>o.level===e).map(o=>o.messages).reduce((o,a)=>o.concat(a),[])}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=m({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})(),qi=(()=>{let i=class i{constructor(){this.configsInternal={},this.loggerService=l(y),this.publicEventsService=l(Ze),this.storagePersistenceService=l($),this.platformProvider=l(Oo),this.authWellKnownService=l(ut),this.loader=l(Xt),this.configValidationService=l(Ko)}hasManyConfigs(){return Object.keys(this.configsInternal).length>1}getAllConfigurations(){return Object.values(this.configsInternal)}getOpenIDConfiguration(e){return this.configsAlreadySaved()?p(this.getConfig(e)):this.getOpenIDConfigurations(e).pipe(w(t=>t.currentConfig))}getOpenIDConfigurations(e){return this.loadConfigs().pipe(x(t=>this.prepareAndSaveConfigs(t)),w(t=>({allConfigs:t,currentConfig:this.getConfig(e)})))}hasAtLeastOneConfig(){return Object.keys(this.configsInternal).length>0}saveConfig(e){let{configId:t}=e;this.configsInternal[t]=e}loadConfigs(){return this.loader.loadConfigs()}configsAlreadySaved(){return this.hasAtLeastOneConfig()}getConfig(e){if(e){let s=this.configsInternal[e];return!s&&Hr()&&console.warn(`[angular-auth-oidc-client] No configuration found for config id '${e}'.`),s||null}let[,t]=Object.entries(this.configsInternal)[0]||[[null,null]];return t||null}prepareAndSaveConfigs(e){if(!this.configValidationService.validateConfigs(e))return p([]);this.createUniqueIds(e);let t=e.map(s=>this.handleConfig(s));return Pe(t).pipe(w(s=>s.filter(o=>!!o)),w(s=>s))}createUniqueIds(e){e.forEach((t,s)=>{t.configId||(t.configId=`${s}-${t.clientId}`)})}handleConfig(e){if(!this.configValidationService.validateConfig(e))return this.loggerService.logError(e,"Validation of config rejected with errors. Config is NOT set."),p(null);e.authWellknownEndpointUrl||(e.authWellknownEndpointUrl=e.authority);let t=this.prepareConfig(e);this.saveConfig(t);let s=this.enhanceConfigWithWellKnownEndpoint(t);return this.publicEventsService.fireEvent(de.ConfigLoaded,s),p(t)}enhanceConfigWithWellKnownEndpoint(e){let t=this.storagePersistenceService.read("authWellKnownEndPoints",e);if(t)return e.authWellknownEndpoints=t,e;let s=e.authWellknownEndpoints;return s&&(this.authWellKnownService.storeWellKnownEndpoints(e,s),e.authWellknownEndpoints=s),e}prepareConfig(e){let t=b(b({},Fo),e);return this.setSpecialCases(t),t}setSpecialCases(e){this.platformProvider.isBrowser()||(e.startCheckSession=!1,e.silentRenew=!1,e.useRefreshToken=!1,e.usePushedAuthorisationRequests=!1)}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=m({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})(),Gn=(()=>{let i=class i{constructor(){this.document=l(D),this.loggerService=l(y)}getExistingIFrame(e){let t=this.getIFrameFromParentWindow(e);if(this.isIFrameElement(t))return t;let s=this.getIFrameFromWindow(e);return this.isIFrameElement(s)?s:null}addIFrameToWindowBody(e,t){let s=this.document.createElement("iframe");return s.id=e,s.title=e,this.loggerService.logDebug(t,s),s.style.display="none",this.document.body.appendChild(s),s}getIFrameFromParentWindow(e){try{let t=this.document.defaultView?.parent.document.getElementById(e);return this.isIFrameElement(t)?t:null}catch{return null}}getIFrameFromWindow(e){let t=this.document.getElementById(e);return this.isIFrameElement(t)?t:null}isIFrameElement(e){return!!e&&e instanceof HTMLIFrameElement}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=m({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})(),Yo="myiFrameForSilentRenew",Xn=n=>`${Yo}_${n}`,Gi=(()=>{let i=class i{constructor(){this.refreshSessionWithIFrameCompletedInternal$=new C,this.loggerService=l(y),this.iFrameService=l(Gn),this.flowsService=l(ei),this.resetAuthDataService=l(Ve),this.flowsDataService=l(he),this.authStateService=l(_e),this.flowHelper=l(Le),this.implicitFlowCallbackService=l(Yn),this.intervalService=l(Ct)}get refreshSessionWithIFrameCompleted$(){return this.refreshSessionWithIFrameCompletedInternal$.asObservable()}getOrCreateIframe(e){let t=Xn(e.configId),s=this.iFrameService.getExistingIFrame(t);return s?(this.loggerService.logDebug(e,`Using existing iframe: ${t}`),s):(this.loggerService.logDebug(e,`Creating new iframe: ${t}`),this.iFrameService.addIFrameToWindowBody(t,e))}isSilentRenewConfigured(e){let{useRefreshToken:t,silentRenew:s}=e;return!t&&!!s}codeFlowCallbackSilentRenewIframe(e,t,s){let o=new jt({fromString:e[1]}),a=o.get("error");if(a)return this.authStateService.updateAndPublishAuthState({isAuthenticated:!1,validationResult:M.LoginRequired,isRenewProcess:!0,configId:t.configId}),this.resetAuthDataService.resetAuthorizationData(t,s),this.flowsDataService.setNonce("",t),this.intervalService.stopPeriodicTokenCheck(),f(()=>new Error(a));let c=o.get("code")??"",d=o.get("state")??"",h=o.get("session_state"),u={code:c,refreshToken:"",state:d,sessionState:h,authResult:null,isRenewProcess:!0,jwtKeys:null,validationResult:null,existingIdToken:null};return this.flowsService.processSilentRenewCodeFlowCallback(u,t,s).pipe(K(g=>(this.intervalService.stopPeriodicTokenCheck(),this.resetAuthDataService.resetAuthorizationData(t,s),f(()=>new Error(g)))))}silentRenewEventHandler(e,t,s){if(this.loggerService.logDebug(t,"silentRenewEventHandler"),!e.detail)return;let o;if(this.flowHelper.isCurrentFlowCodeFlow(t)){let c=e.detail.toString().split("?");o=this.codeFlowCallbackSilentRenewIframe(c,t,s)}else o=this.implicitFlowCallbackService.authenticatedImplicitFlowCallback(t,s,e.detail);o.subscribe({next:({authResult:c})=>{this.refreshSessionWithIFrameCompletedInternal$.next({authResult:c,configId:t.configId,success:!0}),this.flowsDataService.resetSilentRenewRunning(t)},error:c=>{this.loggerService.logError(t,"Error: "+c),this.refreshSessionWithIFrameCompletedInternal$.next({configId:t.configId,success:!1}),this.flowsDataService.resetSilentRenewRunning(t)}})}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=m({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})(),Qn=(()=>{let i=class i{constructor(){this.renderer=l(Re).createRenderer(null,null),this.loggerService=l(y),this.urlService=l(xe),this.silentRenewService=l(Gi),this.document=l(D)}refreshSessionWithIframe(e,t,s){return this.loggerService.logDebug(e,"BEGIN refresh session Authorize Iframe renew"),this.urlService.getRefreshSessionSilentRenewUrl(e,s).pipe(E(o=>this.sendAuthorizeRequestUsingSilentRenew(o,e,t)))}sendAuthorizeRequestUsingSilentRenew(e,t,s){let o=this.silentRenewService.getOrCreateIframe(t);return this.initSilentRenewRequest(t,s),this.loggerService.logDebug(t,`sendAuthorizeRequestUsingSilentRenew for URL: ${e}`),new He(a=>{let c=()=>{o.removeEventListener("load",c),this.loggerService.logDebug(t,"removed event listener from IFrame"),a.next(!0),a.complete()};o.addEventListener("load",c),o.contentWindow?.location.replace(e??"")})}initSilentRenewRequest(e,t){let s=Math.random();this.loggerService.logDebug(e,`Creating new silent renew handlers for config: ${e.configId}, instance: ${s}`);let o=this.renderer.listen("window","oidc-silent-renew-init",c=>{let d=c.detail;d.configId===e.configId&&d.instanceId!==s&&(this.loggerService.logDebug(e,`Destroying old handlers for config: ${e.configId} (old instance: ${s}, new instance: ${d.instanceId})`),o(),a())}),a=this.renderer.listen("window","oidc-silent-renew-message",c=>{if(this.shouldProcessRenewMessage(c,e)){let d=this.convertToLegacyEvent(c);this.silentRenewService.silentRenewEventHandler(d,e,t)}});this.document.defaultView?.dispatchEvent(new CustomEvent("oidc-silent-renew-init",{detail:{instanceId:s,configId:e.configId}}))}shouldProcessRenewMessage(e,t){if(!e?.detail)return this.loggerService.logDebug(t,`Silent renew event has no valid payload: ${e?.detail}`),!1;if(e.detail.srcFrameId){let s=Xn(t.configId)===e.detail.srcFrameId;return this.loggerService.logDebug(t,`Silent renew event from frame: ${e.detail.srcFrameId}, current configId: ${t.configId}, processing: ${s}`),s}return this.loggerService.logDebug(t,"Silent renew event without srcFrameId - processing for backward compatibility"),!0}convertToLegacyEvent(e){return e?.detail?.url?new CustomEvent(e.type,{detail:e.detail.url}):e}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=m({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})(),Zn=(()=>{let i=class i{constructor(){this.loggerService=l(y),this.resetAuthDataService=l(Ve),this.flowsService=l(ei),this.intervalService=l(Ct)}refreshSessionWithRefreshTokens(e,t,s){this.loggerService.logDebug(e,"BEGIN refresh session Authorize");let o=!1;return this.flowsService.processRefreshToken(e,t,s).pipe(K(a=>(this.resetAuthDataService.resetAuthorizationData(e,t),o=!0,f(()=>new Error(a)))),Dr(()=>o&&this.intervalService.stopPeriodicTokenCheck()))}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=m({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})(),qo=(()=>{let i=class i{constructor(){this.resetAuthDataService=l(Ve),this.flowHelper=l(Le),this.flowsDataService=l(he),this.loggerService=l(y),this.userService=l(ht),this.authStateService=l(_e),this.refreshSessionIframeService=l(Qn),this.refreshSessionRefreshTokenService=l(Zn),this.intervalService=l(Ct),this.storagePersistenceService=l($),this.publicEventsService=l(Ze),this.configurationService=l(qi)}startTokenValidationPeriodically(e,t){let s=this.getConfigsWithSilentRenewEnabled(e);if(s.length<=0||this.intervalService.isTokenValidationRunning())return;let o=this.getSmallestRefreshTimeFromConfigs(s),a=this.intervalService.startPeriodicTokenCheck(o).pipe(E(()=>{let c={};return s.forEach(d=>{let h=d.configId;c[h]=this.getRefreshEvent(d,e)}),Pe(c)}));this.intervalService.runTokenValidationRunning=a.pipe(K(c=>f(()=>new Error(c)))).subscribe({next:c=>{for(let[d,h]of Object.entries(c))this.configurationService.getOpenIDConfiguration(d).subscribe(u=>{this.loggerService.logDebug(u,"silent renew, periodic check finished!"),this.flowHelper.isCurrentFlowCodeFlowWithRefreshTokens(u)&&this.flowsDataService.resetSilentRenewRunning(u)})},error:c=>{this.loggerService.logError(t,"silent renew failed!",c)}})}getRefreshEvent(e,t){if(!this.shouldStartPeriodicallyCheckForConfig(e))return p(null);let o=this.createRefreshEventForConfig(e,t);return this.publicEventsService.fireEvent(de.SilentRenewStarted),o.pipe(K(a=>(this.loggerService.logError(e,"silent renew failed!",a),this.publicEventsService.fireEvent(de.SilentRenewFailed,a),this.flowsDataService.resetSilentRenewRunning(e),f(()=>new Error(a)))))}getSmallestRefreshTimeFromConfigs(e){return e.reduce((s,o)=>(s.tokenRefreshInSeconds??0)<(o.tokenRefreshInSeconds??0)?s:o).tokenRefreshInSeconds??0}getConfigsWithSilentRenewEnabled(e){return e.filter(t=>t.silentRenew)}createRefreshEventForConfig(e,t){return this.loggerService.logDebug(e,"starting silent renew..."),this.configurationService.getOpenIDConfiguration(e.configId).pipe(E(s=>{if(!s?.silentRenew)return this.resetAuthDataService.resetAuthorizationData(s,t),p(null);if(this.flowsDataService.setSilentRenewRunning(s),this.flowHelper.isCurrentFlowCodeFlowWithRefreshTokens(s)){let a=this.storagePersistenceService.read("storageCustomParamsRefresh",s)||{},{customParamsRefreshTokenRequest:c}=s,d=b(b({},c),a);return this.refreshSessionRefreshTokenService.refreshSessionWithRefreshTokens(s,t,d)}let o=this.storagePersistenceService.read("storageCustomParamsAuthRequest",s);return this.refreshSessionIframeService.refreshSessionWithIframe(s,t,o)}))}shouldStartPeriodicallyCheckForConfig(e){let t=this.authStateService.getIdToken(e),s=this.flowsDataService.isSilentRenewRunning(e),o=this.flowsDataService.isCodeFlowInProgress(e),a=this.userService.getUserDataFromStore(e);if(this.loggerService.logDebug(e,`Checking: silentRenewRunning: ${s}, isCodeFlowInProgress: ${o} - has idToken: ${!!t} - has userData: ${!!a}`),!(!!a&&!s&&!!t&&!o))return!1;let d=this.authStateService.hasIdTokenExpiredAndRenewCheckIsEnabled(e),h=this.authStateService.hasAccessTokenExpiredIfExpiryExists(e);return d||h}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=m({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})(),Go=3,Jn=(()=>{let i=class i{constructor(){this.flowHelper=l(Le),this.flowsDataService=l(he),this.loggerService=l(y),this.silentRenewService=l(Gi),this.authStateService=l(_e),this.authWellKnownService=l(ut),this.refreshSessionIframeService=l(Qn),this.storagePersistenceService=l($),this.refreshSessionRefreshTokenService=l(Zn),this.userService=l(ht)}userForceRefreshSession(e,t,s){return e?(this.persistCustomParams(s,e),this.forceRefreshSession(e,t,s).pipe(ce(()=>this.flowsDataService.resetSilentRenewRunning(e)))):f(()=>new Error("Please provide a configuration before setting up the module"))}forceRefreshSession(e,t,s){let{customParamsRefreshTokenRequest:o,configId:a}=e,c=b(b({},o),s);if(this.flowHelper.isCurrentFlowCodeFlowWithRefreshTokens(e))return this.startRefreshSession(e,t,c).pipe(w(()=>{let u=this.authStateService.areAuthStorageTokensValid(e);return u?{idToken:this.authStateService.getIdToken(e),accessToken:this.authStateService.getAccessToken(e),userData:this.userService.getUserDataFromStore(e),isAuthenticated:u,configId:a}:{isAuthenticated:!1,errorMessage:"",userData:null,idToken:"",accessToken:"",configId:a}}));let{silentRenewTimeoutInSeconds:d}=e,h=(d??0)*1e3;return Pe([this.startRefreshSession(e,t,s),this.silentRenewService.refreshSessionWithIFrameCompleted$.pipe(le(u=>u?.configId===e.configId),pe(1))]).pipe(Cr(h),Vt(u=>u.pipe($e((g,_)=>{let v=_+1;return!(g instanceof kr)||v>Go?f(()=>new Error(g)):(this.loggerService.logDebug(e,`forceRefreshSession timeout. Attempt #${v}`),this.flowsDataService.resetSilentRenewRunning(e),Ft(v*1e3))}))),w(([u,g])=>{let _=this.authStateService.areAuthStorageTokensValid(e);if(_){let k=g.success?g.authResult:null;return{idToken:k?.id_token??"",accessToken:k?.access_token??"",userData:this.userService.getUserDataFromStore(e),isAuthenticated:_,configId:a}}return{isAuthenticated:!1,errorMessage:"",userData:null,idToken:"",accessToken:"",configId:a}}))}persistCustomParams(e,t){let{useRefreshToken:s}=t;e&&(s?this.storagePersistenceService.write("storageCustomParamsRefresh",e,t):this.storagePersistenceService.write("storageCustomParamsAuthRequest",e,t))}startRefreshSession(e,t,s){let o=this.flowsDataService.isSilentRenewRunning(e);return this.loggerService.logDebug(e,`Checking: silentRenewRunning: ${o}`),!o?this.authWellKnownService.queryAndStoreAuthWellKnownEndPoints(e).pipe(E(()=>(this.flowsDataService.setSilentRenewRunning(e),this.flowHelper.isCurrentFlowCodeFlowWithRefreshTokens(e)?this.refreshSessionRefreshTokenService.refreshSessionWithRefreshTokens(e,t,s):this.refreshSessionIframeService.refreshSessionWithIframe(e,t,s)))):p(null)}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=m({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})(),Un="myiFrameForCheckSession",Xi=(()=>{let i=class i{constructor(){this.checkSessionReceived=!1,this.scheduledHeartBeatRunning=null,this.lastIFrameRefresh=0,this.outstandingMessages=0,this.loggerService=l(y),this.storagePersistenceService=l($),this.iFrameService=l(Gn),this.eventService=l(Ze),this.zone=l(B),this.document=l(D),this.heartBeatInterval=3e3,this.iframeRefreshInterval=6e4,this.checkSessionChangedInternal$=new Pt(!1)}get checkSessionChanged$(){return this.checkSessionChangedInternal$.asObservable()}ngOnDestroy(){this.stop();let e=this.document.defaultView;e&&this.iframeMessageEventListener&&e.removeEventListener("message",this.iframeMessageEventListener,!1)}isCheckSessionConfigured(e){let{startCheckSession:t}=e;return!!t}start(e){if(this.scheduledHeartBeatRunning)return;let{clientId:t}=e;this.pollServerSession(t,e)}stop(){this.scheduledHeartBeatRunning&&(this.clearScheduledHeartBeat(),this.checkSessionReceived=!1)}serverStateChanged(e){let{startCheckSession:t}=e;return!!t&&this.checkSessionReceived}getExistingIframe(){return this.iFrameService.getExistingIFrame(Un)}init(e){if(this.lastIFrameRefresh+this.iframeRefreshInterval>Date.now())return p();let t=this.storagePersistenceService.read("authWellKnownEndPoints",e);if(!t)return this.loggerService.logWarning(e,"CheckSession - init check session: authWellKnownEndpoints is undefined. Returning."),p();let s=this.getOrCreateIframe(e);this.bindMessageEventToIframe(e);let o=t.checkSessionIframe,a=s.contentWindow;return o?(a?a.location.replace(o):this.loggerService.logWarning(e,"CheckSession - init check session: IFrame contentWindow does not exist"),new He(c=>{s.onload=()=>{this.lastIFrameRefresh=Date.now(),c.next(),c.complete()}})):(this.loggerService.logWarning(e,"CheckSession - init check session: checkSessionIframe is not configured to run"),p())}pollServerSession(e,t){this.outstandingMessages=0;let s=()=>{this.init(t).pipe(pe(1)).subscribe(()=>{let o=this.getExistingIframe();if(o&&e){this.loggerService.logDebug(t,`CheckSession - clientId : '${e}' - existingIframe: '${o}'`);let a=this.storagePersistenceService.read("session_state",t),c=this.storagePersistenceService.read("authWellKnownEndPoints",t),d=o.contentWindow;if(a&&c?.checkSessionIframe&&d){let h=new URL(c.checkSessionIframe)?.origin;this.outstandingMessages++,d.postMessage(e+" "+a,h)}else this.loggerService.logDebug(t,`CheckSession - session_state is '${a}' - AuthWellKnownEndPoints is '${JSON.stringify(c,null,2)}'`),this.checkSessionChangedInternal$.next(!0)}else this.loggerService.logWarning(t,`CheckSession - OidcSecurityCheckSession pollServerSession checkSession IFrame does not exist:
               clientId : '${e}' - existingIframe: '${o}'`);this.outstandingMessages>3&&this.loggerService.logError(t,`CheckSession - OidcSecurityCheckSession not receiving check session response messages.
                            Outstanding messages: '${this.outstandingMessages}'. Server unreachable?`),this.zone.runOutsideAngular(()=>{this.scheduledHeartBeatRunning=this.document?.defaultView?.setTimeout(()=>this.zone.run(s),this.heartBeatInterval)??null})})};s()}clearScheduledHeartBeat(){this.scheduledHeartBeatRunning!==null&&(clearTimeout(this.scheduledHeartBeatRunning),this.scheduledHeartBeatRunning=null)}messageHandler(e,t){let s=this.getExistingIframe(),a=!!this.storagePersistenceService.read("authWellKnownEndPoints",e)?.checkSessionIframe?.startsWith(t.origin);this.outstandingMessages=0,s&&a&&t.source===s.contentWindow&&(t.data==="error"?this.loggerService.logWarning(e,"CheckSession - error from check session messageHandler"):t.data==="changed"?(this.loggerService.logDebug(e,`CheckSession - ${t} from check session messageHandler`),this.checkSessionReceived=!0,this.eventService.fireEvent(de.CheckSessionReceived,t.data),this.checkSessionChangedInternal$.next(!0)):(this.eventService.fireEvent(de.CheckSessionReceived,t.data),this.loggerService.logDebug(e,`CheckSession - ${t.data} from check session messageHandler`)))}bindMessageEventToIframe(e){let t=this.document.defaultView;this.iframeMessageEventListener&&t&&t.removeEventListener("message",this.iframeMessageEventListener,!1),this.iframeMessageEventListener=this.messageHandler.bind(this,e),t&&t.addEventListener("message",this.iframeMessageEventListener,!1)}getOrCreateIframe(e){return this.getExistingIframe()||this.iFrameService.addIFrameToWindowBody(Un,e)}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=m({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})(),ti=(()=>{let i=class i{constructor(){this.popUp=null,this.handle=-1,this.loggerService=l(y),this.storagePersistenceService=l($),this.document=l(D),this.STORAGE_IDENTIFIER="popupauth",this.resultInternal$=new C}get result$(){return this.resultInternal$.asObservable()}get windowInternal(){return this.document.defaultView}isCurrentlyInPopup(e){if(this.canAccessSessionStorage()){let t=this.storagePersistenceService.read(this.STORAGE_IDENTIFIER,e),s=this.windowInternal;return s?!!s.opener&&s.opener!==s&&!!t:!1}return!1}openPopUp(e,t,s){let o=this.getOptions(t);this.storagePersistenceService.write(this.STORAGE_IDENTIFIER,"true",s);let a=this.windowInternal;if(!a)return;if(!e){this.loggerService.logError(s,"Could not open popup, url is empty");return}if(this.popUp=a.open(e,"_blank",o),!this.popUp){this.storagePersistenceService.remove(this.STORAGE_IDENTIFIER,s),this.loggerService.logError(s,"Could not open popup");return}this.loggerService.logDebug(s,"Opened popup with url "+e);let c=d=>{if(!d?.data||typeof d.data!="string"){if(s.disableCleaningPopupOnInvalidMessage)return;this.cleanUp(c,s);return}this.loggerService.logDebug(s,"Received message from popup with url "+d.data),this.resultInternal$.next({userClosed:!1,receivedUrl:d.data}),this.cleanUp(c,s)};a.addEventListener("message",c,!1),this.handle=a.setInterval(()=>{this.popUp?.closed&&(this.resultInternal$.next({userClosed:!0,receivedUrl:""}),this.cleanUp(c,s))},200)}sendMessageToMainWindow(e,t){let s=this.windowInternal;if(s&&s.opener){let o=s.location.href;this.sendMessage(e,o,t)}}cleanUp(e,t){let s=this.windowInternal;s&&(s.removeEventListener("message",e,!1),s.clearInterval(this.handle),this.popUp&&(this.storagePersistenceService.remove(this.STORAGE_IDENTIFIER,t),this.popUp.close(),this.popUp=null))}sendMessage(e,t,s){let o=this.windowInternal;if(o){if(!e){this.loggerService.logDebug(s,`Can not send message to parent, no url: '${e}'`);return}o.opener.postMessage(e,t)}}getOptions(e){let t={width:500,height:500,left:50,top:50},s=b(b({},t),e||{}),o=this.windowInternal;if(!o)return"";let a=s.width||t.width,c=s.height||t.height,d=o.screenLeft+(o.outerWidth-a)/2,h=o.screenTop+(o.outerHeight-c)/2;return s.left=d,s.top=h,Object.entries(s).map(([u,g])=>`${encodeURIComponent(u)}=${encodeURIComponent(g)}`).join(",")}canAccessSessionStorage(){return typeof navigator<"u"&&navigator.cookieEnabled&&typeof Storage<"u"}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=m({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})(),Xo=(()=>{let i=class i{constructor(){this.document=l(D)}getStateParamFromCurrentUrl(e){let t=e||this.getCurrentUrl();if(!t)return null;let s=new URL(t);return new URLSearchParams(s.search).get("state")}getCurrentUrl(){return this.document?.defaultView?.location.toString()??null}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=m({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})(),Qi=(()=>{let i=class i{constructor(){this.checkSessionService=l(Xi),this.currentUrlService=l(Xo),this.silentRenewService=l(Gi),this.userService=l(ht),this.loggerService=l(y),this.authStateService=l(_e),this.callbackService=l(qn),this.refreshSessionService=l(Jn),this.periodicallyTokenCheckService=l(qo),this.popupService=l(ti),this.autoLoginService=l(go),this.storagePersistenceService=l($),this.publicEventsService=l(Ze)}checkAuth(e,t,s){if(!e)return f(()=>new Error("Please provide a configuration before setting up the module"));this.publicEventsService.fireEvent(de.CheckingAuth);let o=this.currentUrlService.getStateParamFromCurrentUrl(s);return this.getConfig(e,s)?this.checkAuthWithConfig(e,t,s):f(()=>new Error(`could not find matching config for state ${o}`))}checkAuthMultiple(e,t){let s=this.currentUrlService.getStateParamFromCurrentUrl(t);if(s){let c=this.getConfigurationWithUrlState(e,s);return c?this.composeMultipleLoginResults(e,c,t):f(()=>new Error(`could not find matching config for state ${s}`))}let o=e,a=o.map(c=>this.checkAuthWithConfig(c,o,t));return Pe(a)}checkAuthIncludingServer(e,t){return e?this.checkAuthWithConfig(e,t).pipe(E(s=>{let{isAuthenticated:o}=s;return o?p(s):this.refreshSessionService.forceRefreshSession(e,t).pipe(ce(a=>{a?.isAuthenticated&&this.startCheckSessionAndValidation(e,t)}))})):f(()=>new Error("Please provide a configuration before setting up the module"))}getConfig(e,t){let s=this.currentUrlService.getStateParamFromCurrentUrl(t);return s?this.getConfigurationWithUrlState([e],s):e}checkAuthWithConfig(e,t,s){if(!e){let u="Please provide at least one configuration before setting up the module";return this.loggerService.logError(e,u),p({isAuthenticated:!1,errorMessage:u,userData:null,idToken:"",accessToken:"",configId:""})}let o=s||this.currentUrlService.getCurrentUrl();if(!o){let u="No URL found!";return this.loggerService.logError(e,u),p({isAuthenticated:!1,errorMessage:u,userData:null,idToken:"",accessToken:"",configId:""})}let{configId:a,authority:c}=e;if(this.loggerService.logDebug(e,`Working with config '${a}' using '${c}'`),this.popupService.isCurrentlyInPopup(e))return this.popupService.sendMessageToMainWindow(o,e),p({isAuthenticated:!1,errorMessage:"",userData:null,idToken:"",accessToken:"",configId:""});let d=this.callbackService.isCallback(o,e);return this.loggerService.logDebug(e,`currentUrl to check auth with: '${o}'`),(d?this.callbackService.handleCallbackAndFireEvents(o,e,t):p({})).pipe(w(()=>{let u=this.authStateService.areAuthStorageTokensValid(e);return this.loggerService.logDebug(e,`checkAuth completed. Firing events now. isAuthenticated: ${u}`),u&&(this.startCheckSessionAndValidation(e,t),d||(this.authStateService.setAuthenticatedAndFireEvent(t),this.userService.publishUserDataIfExists(e,t))),this.publicEventsService.fireEvent(de.CheckingAuthFinished),{isAuthenticated:u,userData:this.userService.getUserDataFromStore(e),accessToken:this.authStateService.getAccessToken(e),idToken:this.authStateService.getIdToken(e),configId:a}}),ce(({isAuthenticated:u})=>{u&&this.autoLoginService.checkSavedRedirectRouteAndNavigate(e)}),K(({message:u})=>(this.loggerService.logError(e,u),this.publicEventsService.fireEvent(de.CheckingAuthFinishedWithError,u),p({isAuthenticated:!1,errorMessage:u,userData:null,idToken:"",accessToken:"",configId:a}))))}startCheckSessionAndValidation(e,t){this.checkSessionService.isCheckSessionConfigured(e)&&this.checkSessionService.start(e),this.periodicallyTokenCheckService.startTokenValidationPeriodically(t,e),this.silentRenewService.isSilentRenewConfigured(e)&&this.silentRenewService.getOrCreateIframe(e)}getConfigurationWithUrlState(e,t){if(!t)return null;for(let s of e)if(this.storagePersistenceService.read("authStateControl",s)===t)return s;return null}composeMultipleLoginResults(e,t,s){let o=e.filter(d=>d.configId!==t.configId),a=this.checkAuthWithConfig(t,e,s),c=o.map(d=>{let{redirectUrl:h}=d;return this.checkAuthWithConfig(d,e,h)});return Pe([a,...c])}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=m({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})(),Zi=(()=>{let i=class i{constructor(){this.document=l(D)}redirectTo(e){this.document.location.href=e}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=m({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})(),Ji=(()=>{let i=class i{constructor(){this.loggerService=l(y),this.flowHelper=l(Le)}hasConfigValidResponseType(e){return this.flowHelper.isCurrentFlowAnyImplicitFlow(e)||this.flowHelper.isCurrentFlowCodeFlow(e)?!0:(this.loggerService.logWarning(e,"module configured incorrectly, invalid response_type. Check the responseType in the config"),!1)}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=m({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})(),Qo=(()=>{let i=class i{constructor(){this.loggerService=l(y),this.urlService=l(xe),this.dataService=l(Je),this.storagePersistenceService=l($)}postParRequest(e,t){let s=new at;s=s.set("Content-Type","application/x-www-form-urlencoded");let o=this.storagePersistenceService.read("authWellKnownEndPoints",e);if(!o)return f(()=>new Error("Could not read PAR endpoint because authWellKnownEndPoints are not given"));let a=o.parEndpoint;return a?this.urlService.createBodyForParCodeFlowRequest(e,t).pipe(E(c=>this.dataService.post(a,c,e,s).pipe(st(2),w(d=>(this.loggerService.logDebug(e,"par response: ",d),{expiresIn:d.expires_in,requestUri:d.request_uri})),K(d=>{let h="There was an error on ParService postParRequest";return this.loggerService.logError(e,h,d),f(()=>new Error(h))})))):f(()=>new Error("Could not read PAR endpoint from authWellKnownEndpoints"))}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=m({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})(),Zo=(()=>{let i=class i{constructor(){this.loggerService=l(y),this.responseTypeValidationService=l(Ji),this.urlService=l(xe),this.redirectService=l(Zi),this.authWellKnownService=l(ut),this.popupService=l(ti),this.checkAuthService=l(Qi),this.parService=l(Qo)}loginPar(e,t){if(!this.responseTypeValidationService.hasConfigValidResponseType(e)){this.loggerService.logError(e,"Invalid response type!");return}this.loggerService.logDebug(e,"BEGIN Authorize OIDC Flow, no auth data"),this.authWellKnownService.queryAndStoreAuthWellKnownEndPoints(e).pipe(E(()=>this.parService.postParRequest(e,t))).subscribe(s=>{this.loggerService.logDebug(e,"par response: ",s);let o=this.urlService.getAuthorizeParUrl(s.requestUri,e);if(this.loggerService.logDebug(e,"par request url: ",o),!o){this.loggerService.logError(e,`Could not create URL with param ${s.requestUri}: '${o}'`);return}t?.urlHandler?t.urlHandler(o):this.redirectService.redirectTo(o)})}loginWithPopUpPar(e,t,s,o){let{configId:a}=e;if(!this.responseTypeValidationService.hasConfigValidResponseType(e)){let c="Invalid response type!";return this.loggerService.logError(e,c),f(()=>new Error(c))}return this.loggerService.logDebug(e,"BEGIN Authorize OIDC Flow with popup, no auth data"),this.authWellKnownService.queryAndStoreAuthWellKnownEndPoints(e).pipe(E(()=>this.parService.postParRequest(e,s)),E(c=>{this.loggerService.logDebug(e,`par response: ${c}`);let d=this.urlService.getAuthorizeParUrl(c.requestUri,e);if(this.loggerService.logDebug(e,"par request url: ",d),!d){let h=`Could not create URL with param ${c.requestUri}: 'url'`;return this.loggerService.logError(e,h),f(()=>new Error(h))}return this.popupService.openPopUp(d,o,e),this.popupService.result$.pipe(pe(1),E(h=>{let{userClosed:u,receivedUrl:g}=h;return u?p({isAuthenticated:!1,errorMessage:"User closed popup",userData:null,idToken:"",accessToken:"",configId:a}):this.checkAuthService.checkAuth(e,t,g)}))}))}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=m({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})(),Jo=(()=>{let i=class i{constructor(){this.loggerService=l(y),this.responseTypeValidationService=l(Ji),this.urlService=l(xe),this.authWellKnownService=l(ut),this.popupService=l(ti),this.checkAuthService=l(Qi)}loginWithPopUpStandard(e,t,s,o){let{configId:a}=e;if(!this.responseTypeValidationService.hasConfigValidResponseType(e)){let c="Invalid response type!";return this.loggerService.logError(e,c),f(()=>new Error(c))}return this.loggerService.logDebug(e,"BEGIN Authorize OIDC Flow with popup, no auth data"),this.authWellKnownService.queryAndStoreAuthWellKnownEndPoints(e).pipe(E(()=>this.urlService.getAuthorizeUrl(e,s)),ce(c=>this.popupService.openPopUp(c,o,e)),E(()=>this.popupService.result$.pipe(pe(1),E(c=>{let{userClosed:d,receivedUrl:h}=c;return d?p({isAuthenticated:!1,errorMessage:"User closed popup",userData:null,idToken:"",accessToken:"",configId:a}):this.checkAuthService.checkAuth(e,t,h)}))))}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=m({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})(),ea=(()=>{let i=class i{constructor(){this.loggerService=l(y),this.responseTypeValidationService=l(Ji),this.urlService=l(xe),this.redirectService=l(Zi),this.authWellKnownService=l(ut),this.flowsDataService=l(he)}loginStandard(e,t){if(!this.responseTypeValidationService.hasConfigValidResponseType(e)){this.loggerService.logError(e,"Invalid response type!");return}this.loggerService.logDebug(e,"BEGIN Authorize OIDC Flow, no auth data"),this.flowsDataService.setCodeFlowInProgress(e),this.authWellKnownService.queryAndStoreAuthWellKnownEndPoints(e).subscribe(()=>{let{urlHandler:s}=t||{};this.flowsDataService.resetSilentRenewRunning(e),this.urlService.getAuthorizeUrl(e,t).subscribe(o=>{if(!o){this.loggerService.logError(e,"Could not create URL",o);return}s?s(o):this.redirectService.redirectTo(o)})})}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=m({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})(),ta=(()=>{let i=class i{constructor(){this.parLoginService=l(Zo),this.popUpLoginService=l(Jo),this.standardLoginService=l(ea),this.storagePersistenceService=l($),this.popupService=l(ti)}login(e,t){if(!e)throw new Error("Please provide a configuration before setting up the module");let{usePushedAuthorisationRequests:s}=e;return t?.customParams&&this.storagePersistenceService.write("storageCustomParamsAuthRequest",t.customParams,e),s?this.parLoginService.loginPar(e,t):this.standardLoginService.loginStandard(e,t)}loginWithPopUp(e,t,s,o){if(!e)throw new Error("Please provide a configuration before setting up the module");if(this.popupService.isCurrentlyInPopup(e))return p({errorMessage:"There is already a popup open."});let{usePushedAuthorisationRequests:c}=e;return s?.customParams&&this.storagePersistenceService.write("storageCustomParamsAuthRequest",s.customParams,e),c?this.parLoginService.loginWithPopUpPar(e,t,s,o):this.popUpLoginService.loginWithPopUpStandard(e,t,s,o)}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=m({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();function ia(n){let i=b({},n);for(let r in n)(n[r]===void 0||n[r]===null)&&delete i[r];return i}var ra=(()=>{let i=class i{constructor(){this.loggerService=l(y),this.dataService=l(Je),this.storagePersistenceService=l($),this.urlService=l(xe),this.checkSessionService=l(Xi),this.resetAuthDataService=l(Ve),this.redirectService=l(Zi)}logoff(e,t,s){if(!e)return f(()=>new Error("Please provide a configuration before setting up the module"));this.loggerService.logDebug(e,"logoff, remove auth",s);let{urlHandler:o,customParams:a}=s||{},c=this.urlService.getEndSessionUrl(e,a);return c?this.checkSessionService.serverStateChanged(e)?(this.loggerService.logDebug(e,"Server State changed. Logoff was only locally. Returning."),p(null)):o?(this.loggerService.logDebug(e,`Custom UrlHandler found. Using this to handle logoff with url '${c}'`),o(c),this.resetAuthDataService.resetAuthorizationData(e,t),p(null)):this.logoffInternal(s,c,e,t):(this.loggerService.logDebug(e,"No endsessionUrl present. Logoff was only locally. Returning."),p(null))}logoffLocal(e,t){this.resetAuthDataService.resetAuthorizationData(e,t),this.checkSessionService.stop()}logoffLocalMultiple(e){e.forEach(t=>this.logoffLocal(t,e))}logoffAndRevokeTokens(e,t,s){if(!e)return f(()=>new Error("Please provide a configuration before setting up the module"));let{revocationEndpoint:o}=this.storagePersistenceService.read("authWellKnownEndPoints",e)||{};return o?this.storagePersistenceService.getRefreshToken(e)?this.revokeRefreshToken(e).pipe(E(a=>this.revokeAccessToken(e)),K(a=>{let c="revoke token failed";return this.loggerService.logError(e,c,a),f(()=>new Error(c))}),x(()=>this.logoff(e,t,s))):this.revokeAccessToken(e).pipe(K(a=>{let c="revoke accessToken failed";return this.loggerService.logError(e,c,a),f(()=>new Error(c))}),x(()=>this.logoff(e,t,s))):(this.loggerService.logDebug(e,"revocation endpoint not supported"),this.logoff(e,t,s))}revokeAccessToken(e,t){if(!e)return f(()=>new Error("Please provide a configuration before setting up the module"));let s=t||this.storagePersistenceService.getAccessToken(e),o=this.urlService.createRevocationEndpointBodyAccessToken(s,e);return this.sendRevokeRequest(e,o)}revokeRefreshToken(e,t){if(!e)return f(()=>new Error("Please provide a configuration before setting up the module"));let s=t||this.storagePersistenceService.getRefreshToken(e),o=this.urlService.createRevocationEndpointBodyRefreshToken(s,e);return this.sendRevokeRequest(e,o)}logoffInternal(e,t,s,o){let{logoffMethod:a,customParams:c}=e||{};if(!a||a==="GET")return this.redirectService.redirectTo(t),this.resetAuthDataService.resetAuthorizationData(s,o),p(null);let{state:d,logout_hint:h,ui_locales:u}=c||{},{clientId:g}=s,_=this.storagePersistenceService.getIdToken(s),k=this.urlService.getPostLogoutRedirectUrl(s),v=this.getHeaders(),{url:be}=this.urlService.getEndSessionEndpoint(s),We=ia({id_token_hint:_,client_id:g,post_logout_redirect_uri:k,state:d,logout_hint:h,ui_locales:u});return this.resetAuthDataService.resetAuthorizationData(s,o),this.dataService.post(be,We,s,v)}sendRevokeRequest(e,t){let s=this.urlService.getRevocationEndpointUrl(e),o=this.getHeaders();return this.dataService.post(s,t,e,o).pipe(st(2),E(a=>(this.loggerService.logDebug(e,"revocation endpoint post response: ",a),p(a))),K(a=>{let c="Revocation request failed";return this.loggerService.logError(e,c,a),f(()=>new Error(c))}))}getHeaders(){let e=new at;return e=e.set("Content-Type","application/x-www-form-urlencoded"),e}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=m({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})(),es=(()=>{let i=class i{constructor(){this.checkSessionService=l(Xi),this.checkAuthService=l(Qi),this.userService=l(ht),this.tokenHelperService=l(Zt),this.configurationService=l(qi),this.authStateService=l(_e),this.flowsDataService=l(he),this.callbackService=l(qn),this.logoffRevocationService=l(ra),this.loginService=l(ta),this.refreshSessionService=l(Jn),this.urlService=l(xe),this.authWellKnownService=l(ut),this.userData=Xe(this.userData$,{requireSync:!0}),this.authenticated=Xe(this.isAuthenticated$,{requireSync:!0})}get userData$(){return this.userService.userData$}get isAuthenticated$(){return this.authStateService.authenticated$}get checkSessionChanged$(){return this.checkSessionService.checkSessionChanged$}get stsCallback$(){return this.callbackService.stsCallback$}preloadAuthWellKnownDocument(e){return this.configurationService.getOpenIDConfiguration(e).pipe(x(t=>this.authWellKnownService.queryAndStoreAuthWellKnownEndPoints(t)))}getConfigurations(){return this.configurationService.getAllConfigurations()}getConfiguration(e){return this.configurationService.getOpenIDConfiguration(e)}getUserData(e){return this.configurationService.getOpenIDConfiguration(e).pipe(w(t=>this.userService.getUserDataFromStore(t)))}checkAuth(e,t){return this.configurationService.getOpenIDConfigurations(t).pipe(x(({allConfigs:s,currentConfig:o})=>this.checkAuthService.checkAuth(o,s,e)))}checkAuthMultiple(e){return this.configurationService.getOpenIDConfigurations().pipe(x(({allConfigs:t})=>this.checkAuthService.checkAuthMultiple(t,e)))}isAuthenticated(e){return this.configurationService.getOpenIDConfiguration(e).pipe(w(t=>this.authStateService.isAuthenticated(t)))}checkAuthIncludingServer(e){return this.configurationService.getOpenIDConfigurations(e).pipe(x(({allConfigs:t,currentConfig:s})=>this.checkAuthService.checkAuthIncludingServer(s,t)))}getAccessToken(e){return this.configurationService.getOpenIDConfiguration(e).pipe(w(t=>this.authStateService.getAccessToken(t)))}getIdToken(e){return this.configurationService.getOpenIDConfiguration(e).pipe(w(t=>this.authStateService.getIdToken(t)))}getRefreshToken(e){return this.configurationService.getOpenIDConfiguration(e).pipe(w(t=>this.authStateService.getRefreshToken(t)))}getAuthenticationResult(e){return this.configurationService.getOpenIDConfiguration(e).pipe(w(t=>this.authStateService.getAuthenticationResult(t)))}getPayloadFromIdToken(e=!1,t){return this.configurationService.getOpenIDConfiguration(t).pipe(w(s=>{let o=this.authStateService.getIdToken(s);return this.tokenHelperService.getPayloadFromToken(o,e,s)}))}getPayloadFromAccessToken(e=!1,t){return this.configurationService.getOpenIDConfiguration(t).pipe(w(s=>{let o=this.authStateService.getAccessToken(s);return this.tokenHelperService.getPayloadFromToken(o,e,s)}))}setState(e,t){return this.configurationService.getOpenIDConfiguration(t).pipe(w(s=>this.flowsDataService.setAuthStateControl(e,s)))}getState(e){return this.configurationService.getOpenIDConfiguration(e).pipe(w(t=>this.flowsDataService.getAuthStateControl(t)))}authorize(e,t){this.configurationService.getOpenIDConfiguration(e).subscribe(s=>this.loginService.login(s,t))}authorizeWithPopUp(e,t,s){return this.configurationService.getOpenIDConfigurations(s).pipe(x(({allConfigs:o,currentConfig:a})=>this.loginService.loginWithPopUp(a,o,e,t)))}forceRefreshSession(e,t){return this.configurationService.getOpenIDConfigurations(t).pipe(x(({allConfigs:s,currentConfig:o})=>this.refreshSessionService.userForceRefreshSession(o,s,e)))}logoffAndRevokeTokens(e,t){return this.configurationService.getOpenIDConfigurations(e).pipe(x(({allConfigs:s,currentConfig:o})=>this.logoffRevocationService.logoffAndRevokeTokens(o,s,t)))}logoff(e,t){return this.configurationService.getOpenIDConfigurations(e).pipe(x(({allConfigs:s,currentConfig:o})=>this.logoffRevocationService.logoff(o,s,t)))}logoffLocal(e){this.configurationService.getOpenIDConfigurations(e).subscribe(({allConfigs:t,currentConfig:s})=>this.logoffRevocationService.logoffLocal(s,t))}logoffLocalMultiple(){this.configurationService.getOpenIDConfigurations().subscribe(({allConfigs:e})=>this.logoffRevocationService.logoffLocalMultiple(e))}revokeAccessToken(e,t){return this.configurationService.getOpenIDConfiguration(t).pipe(x(s=>this.logoffRevocationService.revokeAccessToken(s,e)))}revokeRefreshToken(e,t){return this.configurationService.getOpenIDConfiguration(t).pipe(x(s=>this.logoffRevocationService.revokeRefreshToken(s,e)))}getEndSessionUrl(e,t){return this.configurationService.getOpenIDConfiguration(t).pipe(w(s=>this.urlService.getEndSessionUrl(s,e)))}getAuthorizeUrl(e,t){return this.configurationService.getOpenIDConfiguration(t).pipe(x(s=>this.urlService.getAuthorizeUrl(s,e?{customParams:e}:void 0)))}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=m({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})(),na=(()=>{let i=class i{read(e){return sessionStorage.getItem(e)}write(e,t){sessionStorage.setItem(e,t)}remove(e){sessionStorage.removeItem(e)}clear(){sessionStorage.clear()}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=m({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();function ts(n,...i){let r=sa(n);for(let e of i)r.push(...e.\u0275providers);return Ir(r)}function sa(n){return[{provide:Vn,useValue:n},n?.loader||{provide:Xt,useFactory:ro,deps:[Vn]},{provide:jn,useClass:na},{provide:Wn,useClass:no}]}function is(n){return n.reduce((i,r)=>i.concat(Array.isArray(r)?is(r):r),[])}function oa(n){let i=aa(n);return new RegExp(`^${i}$`)}function aa(n){return n.replace(/[.+?^${}()|[\]\\]/g,"\\$&").replace(/\*/g,".*")}var la=(()=>{let i=class i{getConfigIdForClosestMatchingRoute(e,t){for(let s of t){let{secureRoutes:o}=s,a=(o??[]).find(c=>this.routeMatches(c,e));if(a)return{matchingRoute:a,matchingConfig:s}}return{matchingRoute:null,matchingConfig:null}}routeMatches(e,t){return t.startsWith(e)||this.matchesRoute(e,t)}matchesRoute(e,t){return oa(e).test(t)}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=m({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();function rs(){return(n,i)=>ca(n,i,{configurationService:l(qi),authStateService:l(_e),closestMatchingRouteService:l(la),loggerService:l(y)})}function ca(n,i,r){if(!r.configurationService.hasAtLeastOneConfig())return i(n);let e=r.configurationService.getAllConfigurations(),t=e.map(d=>d.secureRoutes||[]);if(is(t).length===0)return r.loggerService.logDebug(e[0],"No routes to check configured"),i(n);let{matchingConfig:o,matchingRoute:a}=r.closestMatchingRouteService.getConfigIdForClosestMatchingRoute(n.url,e);if(!o)return r.loggerService.logDebug(e[0],`Did not find any configured route for route ${n.url}`),i(n);r.loggerService.logDebug(o,`'${n.url}' matches configured route '${a}'`);let c=r.authStateService.getAccessToken(o);return c?(r.loggerService.logDebug(o,`'${n.url}' matches configured route '${a}', adding token`),n=n.clone({headers:n.headers.set("Authorization","Bearer "+c)}),i(n)):(r.loggerService.logDebug(o,`Wanted to add token to ${n.url} but found no token: '${c}'`),i(n))}var ii=[];function ns(){let n={};for(let i of ii)n[i.name]=i.signal();return n}function da(){let n="";return{attachState(i,r){let e=r?.name??`signal_${ii.length}`;if(ii.some(s=>s.signal===i))return;ii.push({name:e,signal:i});let t=ns();n=JSON.stringify(t),console.log(`${e}/INIT`,t),Li(()=>{let s=ns(),o=JSON.stringify(s);o!==n&&(n=o,console.log("STORE_UPDATE",s))})}}}var ri=da();var ha={isAuthenticated:!1},pt=class n{#e=l(es);#t=Xe(this.#e.checkAuth(),{initialValue:ha});isAuthenticated=ve(()=>this.#t().isAuthenticated);userData=ve(()=>this.#t().userData);auth=ve(()=>this.#t());token=ve(()=>this.#t().accessToken);roles=ve(()=>{let i=this.token();return i?JSON.parse(atob(i?.split(".")[1]))?.realm_access?.roles||[]:null});constructor(){ri.attachState(this.auth,{name:"AuthStore"})}login(){this.#e.authorize()}logout(){return Mt(this.#e.logoff())}static \u0275fac=function(r){return new(r||n)};static \u0275prov=m({token:n,factory:n.\u0275fac,providedIn:"root"})};var ua=()=>_t(null,null,function*(){let n=l(Yt);return yield Mt(n.getBlogPosts())}),ma=()=>_t(null,null,function*(){let n=l(pt),i=yield n.roles();return console.log("User Roles from Auth Guard",i),n.isAuthenticated()&&i?.includes("user")?!0:(n.login(),!1)}),ss=[{path:"",redirectTo:"overview",pathMatch:"full"},{path:"demo",loadComponent:()=>import("./chunk-VAC2UO3W.js")},{path:"overview",loadComponent:()=>import("./chunk-WENXBKPR.js"),resolve:{model:ua},runGuardsAndResolvers:"always"},{path:"detail/:id",loadComponent:()=>import("./chunk-XTXO2NWH.js")},{path:"add-blog",loadComponent:()=>import("./chunk-PY3BAU7K.js"),canActivate:[ma]},...Pn,...Mn];var os=(n,i)=>(console.log("Request",n),i(n).pipe(ce(r=>console.log("Response",r))));var pa=[os],as=pa;var ls={config:{authority:"https://d-cap-keyclaok.kindbay-711f60b2.westeurope.azurecontainerapps.io/realms/blog",redirectUrl:window.location.origin,postLogoutRedirectUri:window.location.origin,clientId:"spa-blog",scope:"openid profile email offline_access",responseType:"code",silentRenew:!0,silentRenewUrl:window.location.origin+"/silent-renew.html",renewTimeBeforeTokenExpiresInSeconds:10,secureRoutes:[Ge.serviceUrl]}};var Dt=class{},ga=(()=>{class n{handle(r){return r.key}static \u0275fac=function(e){return new(e||n)};static \u0275prov=m({token:n,factory:n.\u0275fac})}return n})(),gt=class{},fa=(()=>{class n extends gt{compile(r,e){return r}compileTranslations(r,e){return r}static \u0275fac=(()=>{let r;return function(t){return(r||(r=ee(n)))(t||n)}})();static \u0275prov=m({token:n,factory:n.\u0275fac})}return n})(),ze=class{},va=(()=>{class n extends ze{getTranslation(r){return p({})}static \u0275fac=(()=>{let r;return function(t){return(r||(r=ee(n)))(t||n)}})();static \u0275prov=m({token:n,factory:n.\u0275fac})}return n})();function ni(n,i){if(n===i)return!0;if(n===null||i===null)return!1;if(n!==n&&i!==i)return!0;let r=typeof n,e=typeof i,t;if(r==e&&r=="object")if(Array.isArray(n)){if(!Array.isArray(i))return!1;if((t=n.length)==i.length){for(let s=0;s<t;s++)if(!ni(n[s],i[s]))return!1;return!0}}else{if(Array.isArray(i))return!1;if(Ee(n)&&Ee(i)){let s=Object.create(null);for(let o in n){if(!ni(n[o],i[o]))return!1;s[o]=!0}for(let o in i)if(!(o in s)&&typeof i[o]<"u")return!1;return!0}}return!1}function Be(n){return typeof n<"u"&&n!==null}function cs(n){return n!==void 0}function Ee(n){return Rt(n)&&!et(n)&&n!==null}function Rt(n){return typeof n=="object"&&n!==null}function et(n){return Array.isArray(n)}function si(n){return typeof n=="string"}function _a(n){return typeof n=="function"}function oi(n){if(et(n))return n.map(i=>oi(i));if(Ee(n)){let i={};return Object.keys(n).forEach(r=>{i[r]=oi(n[r])}),i}else return n}function ir(n,i){if(!Rt(n))return oi(i);let r=oi(n);return Rt(r)&&Rt(i)&&Object.keys(i).forEach(e=>{Ee(i[e])?e in n?r[e]=ir(n[e],i[e]):Object.assign(r,{[e]:i[e]}):Object.assign(r,{[e]:i[e]})}),r}function ds(n,i){let r=i.split(".");i="";do{i+=r.shift();let e=!r.length;if(Be(n)){if(Ee(n)&&cs(n[i])&&(Ee(n[i])||et(n[i])||e)){n=n[i],i="";continue}if(et(n)){let t=parseInt(i,10);if(cs(n[t])&&(Ee(n[t])||et(n[t])||e)){n=n[t],i="";continue}}}if(e){n=void 0;continue}i+="."}while(r.length);return n}function ba(n,i,r){return ir(n,wa(i,r))}function wa(n,i){return n.split(".").reduceRight((r,e)=>({[e]:r}),i)}var ft=class{},ya=(()=>{class n extends ft{templateMatcher=/{{\s?([^{}\s]*)\s?}}/g;interpolate(r,e){if(si(r))return this.interpolateString(r,e);if(_a(r))return this.interpolateFunction(r,e)}interpolateFunction(r,e){return r(e)}interpolateString(r,e){return e?r.replace(this.templateMatcher,(t,s)=>{let o=this.getInterpolationReplacement(e,s);return o!==void 0?o:t}):r}getInterpolationReplacement(r,e){return this.formatValue(ds(r,e))}formatValue(r){if(si(r))return r;if(typeof r=="number"||typeof r=="boolean")return r.toString();if(r===null)return"null";if(et(r))return r.join(", ");if(Rt(r))return typeof r.toString=="function"&&r.toString!==Object.prototype.toString?r.toString():JSON.stringify(r)}static \u0275fac=(()=>{let r;return function(t){return(r||(r=ee(n)))(t||n)}})();static \u0275prov=m({token:n,factory:n.\u0275fac})}return n})(),er=(()=>{class n{_onTranslationChange=new C;_onLangChange=new C;_onFallbackLangChange=new C;fallbackLang=null;currentLang;translations={};languages=[];getTranslations(r){return this.translations[r]}setTranslations(r,e,t){this.translations[r]=t&&this.hasTranslationFor(r)?ir(this.translations[r],e):e,this.addLanguages([r]),this._onTranslationChange.next({lang:r,translations:this.getTranslations(r)})}getLanguages(){return this.languages}getCurrentLang(){return this.currentLang}getFallbackLang(){return this.fallbackLang}setFallbackLang(r,e=!0){this.fallbackLang=r,e&&this._onFallbackLangChange.next({lang:r,translations:this.translations[r]})}setCurrentLang(r,e=!0){this.currentLang=r,e&&this._onLangChange.next({lang:r,translations:this.translations[r]})}get onTranslationChange(){return this._onTranslationChange.asObservable()}get onLangChange(){return this._onLangChange.asObservable()}get onFallbackLangChange(){return this._onFallbackLangChange.asObservable()}addLanguages(r){this.languages=Array.from(new Set([...this.languages,...r]))}hasTranslationFor(r){return typeof this.translations[r]<"u"}deleteTranslations(r){delete this.translations[r]}getTranslation(r){let e=this.getValue(this.currentLang,r);return e===void 0&&this.fallbackLang!=null&&this.fallbackLang!==this.currentLang&&(e=this.getValue(this.fallbackLang,r)),e}getValue(r,e){return ds(this.getTranslations(r),e)}static \u0275fac=function(e){return new(e||n)};static \u0275prov=m({token:n,factory:n.\u0275fac})}return n})(),tr=new Q("TRANSLATE_CONFIG"),xt=n=>Ae(n)?n:p(n);var It=(()=>{class n{loadingTranslations;pending=!1;_translationRequests={};lastUseLanguage=null;currentLoader=l(ze);compiler=l(gt);parser=l(ft);missingTranslationHandler=l(Dt);store=l(er);extend=!1;get onTranslationChange(){return this.store.onTranslationChange}get onLangChange(){return this.store.onLangChange}get onFallbackLangChange(){return this.store.onFallbackLangChange}get onDefaultLangChange(){return this.store.onFallbackLangChange}constructor(){let r=b({extend:!1,fallbackLang:null},l(tr,{optional:!0}));r.lang&&this.use(r.lang),r.fallbackLang&&this.setFallbackLang(r.fallbackLang),r.extend&&(this.extend=!0)}setFallbackLang(r){this.getFallbackLang()||this.store.setFallbackLang(r,!1);let e=this.loadOrExtendLanguage(r);return Ae(e)?(e.pipe(pe(1)).subscribe({next:()=>{this.store.setFallbackLang(r)},error:()=>{}}),e):(this.store.setFallbackLang(r),p(this.store.getTranslations(r)))}use(r){this.lastUseLanguage=r,this.getCurrentLang()||this.store.setCurrentLang(r,!1);let e=this.loadOrExtendLanguage(r);return Ae(e)?(e.pipe(pe(1)).subscribe({next:()=>{this.changeLang(r)},error:()=>{}}),e):(this.changeLang(r),p(this.store.getTranslations(r)))}loadOrExtendLanguage(r){if(!this.store.hasTranslationFor(r)||this.extend)return this._translationRequests[r]=this._translationRequests[r]||this.loadAndCompileTranslations(r),this._translationRequests[r]}changeLang(r){r===this.lastUseLanguage&&this.store.setCurrentLang(r)}getCurrentLang(){return this.store.getCurrentLang()}loadAndCompileTranslations(r){this.pending=!0;let e=this.currentLoader.getTranslation(r).pipe(ot(1),pe(1));return this.loadingTranslations=e.pipe(w(t=>this.compiler.compileTranslations(t,r)),ot(1),pe(1)),this.loadingTranslations.subscribe({next:t=>{this.store.setTranslations(r,t,this.extend),this.pending=!1},error:t=>{this.pending=!1}}),e}setTranslation(r,e,t=!1){let s=this.compiler.compileTranslations(e,r);this.store.setTranslations(r,s,t||this.extend)}getLangs(){return this.store.getLanguages()}addLangs(r){this.store.addLanguages(r)}getParsedResultForKey(r,e){let t=this.getTextToInterpolate(r);if(Be(t))return this.runInterpolation(t,e);let s=this.missingTranslationHandler.handle(b({key:r,translateService:this},e!==void 0&&{interpolateParams:e}));return s!==void 0?s:r}getFallbackLang(){return this.store.getFallbackLang()}getTextToInterpolate(r){return this.store.getTranslation(r)}runInterpolation(r,e){if(Be(r))return et(r)?this.runInterpolationOnArray(r,e):Ee(r)?this.runInterpolationOnDict(r,e):this.parser.interpolate(r,e)}runInterpolationOnArray(r,e){return r.map(t=>this.runInterpolation(t,e))}runInterpolationOnDict(r,e){let t={};for(let s in r){let o=this.runInterpolation(r[s],e);o!==void 0&&(t[s]=o)}return t}getParsedResult(r,e){return r instanceof Array?this.getParsedResultForArray(r,e):this.getParsedResultForKey(r,e)}getParsedResultForArray(r,e){let t={},s=!1;for(let a of r)t[a]=this.getParsedResultForKey(a,e),s=s||Ae(t[a]);if(!s)return t;let o=r.map(a=>xt(t[a]));return Pe(o).pipe(w(a=>{let c={};return a.forEach((d,h)=>{c[r[h]]=d}),c}))}get(r,e){if(!Be(r)||!r.length)throw new Error('Parameter "key" is required and cannot be empty');return this.pending?this.loadingTranslations.pipe(x(()=>xt(this.getParsedResult(r,e)))):xt(this.getParsedResult(r,e))}getStreamOnTranslationChange(r,e){if(!Be(r)||!r.length)throw new Error('Parameter "key" is required and cannot be empty');return xi(Ri(()=>this.get(r,e)),this.onTranslationChange.pipe(E(()=>{let t=this.getParsedResult(r,e);return xt(t)})))}stream(r,e){if(!Be(r)||!r.length)throw new Error('Parameter "key" required');return xi(Ri(()=>this.get(r,e)),this.onLangChange.pipe(E(()=>{let t=this.getParsedResult(r,e);return xt(t)})))}instant(r,e){if(!Be(r)||r.length===0)throw new Error('Parameter "key" is required and cannot be empty');let t=this.getParsedResult(r,e);return Ae(t)?Array.isArray(r)?r.reduce((s,o)=>(s[o]=o,s),{}):r:t}set(r,e,t=this.getCurrentLang()){this.store.setTranslations(t,ba(this.store.getTranslations(t),r,si(e)?this.compiler.compile(e,t):this.compiler.compileTranslations(e,t)),!1)}reloadLang(r){return this.resetLang(r),this.loadAndCompileTranslations(r)}resetLang(r){delete this._translationRequests[r],this.store.deleteTranslations(r)}static getBrowserLang(){if(typeof window>"u"||!window.navigator)return;let r=this.getBrowserCultureLang();return r?r.split(/[-_]/)[0]:void 0}static getBrowserCultureLang(){if(!(typeof window>"u"||typeof window.navigator>"u"))return window.navigator.languages?window.navigator.languages[0]:window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage}getBrowserLang(){return n.getBrowserLang()}getBrowserCultureLang(){return n.getBrowserCultureLang()}get defaultLang(){return this.getFallbackLang()}get currentLang(){return this.store.getCurrentLang()}get langs(){return this.store.getLanguages()}setDefaultLang(r){return this.setFallbackLang(r)}getDefaultLang(){return this.getFallbackLang()}static \u0275fac=function(e){return new(e||n)};static \u0275prov=m({token:n,factory:n.\u0275fac})}return n})();var hs=(()=>{class n{translate=l(It);_ref=l(Ce);value="";lastKey=null;lastParams=[];onTranslationChange;onLangChange;onFallbackLangChange;updateValue(r,e,t){let s=o=>{this.value=o!==void 0?o:r,this.lastKey=r,this._ref.markForCheck()};if(t){let o=this.translate.getParsedResult(r,e);Ae(o)?o.subscribe(s):s(o)}this.translate.get(r,e).subscribe(s)}transform(r,...e){if(!r||!r.length)return r;if(ni(r,this.lastKey)&&ni(e,this.lastParams))return this.value;let t;if(Be(e[0])&&e.length)if(si(e[0])&&e[0].length){let s=e[0].replace(/(')?([a-zA-Z0-9_]+)(')?(\s)?:/g,'"$2":').replace(/:(\s)?(')(.*?)(')/g,':"$3"');try{t=JSON.parse(s)}catch(o){throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${e[0]}`)}}else Ee(e[0])&&(t=e[0]);return this.lastKey=r,this.lastParams=e,this.updateValue(r,t),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(s=>{(this.lastKey&&s.lang===this.translate.getCurrentLang()||s.lang===this.translate.getFallbackLang())&&(this.lastKey=null,this.updateValue(r,t,s.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(s=>{this.lastKey&&(this.lastKey=null,this.updateValue(r,t,s.translations))})),this.onFallbackLangChange||(this.onFallbackLangChange=this.translate.onFallbackLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(r,t))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onFallbackLangChange<"u"&&(this.onFallbackLangChange.unsubscribe(),this.onFallbackLangChange=void 0)}ngOnDestroy(){this._dispose()}static \u0275fac=function(e){return new(e||n)};static \u0275pipe=Lr({name:"translate",type:n,pure:!1});static \u0275prov=m({token:n,factory:n.\u0275fac})}return n})();function Sa(n){return{provide:ze,useClass:n}}function ka(n){return{provide:gt,useClass:n}}function Ca(n){return{provide:ft,useClass:n}}function xa(n){return{provide:Dt,useClass:n}}function us(n={}){return Ra(b({compiler:ka(fa),parser:Ca(ya),loader:Sa(va),missingTranslationHandler:xa(ga)},n),!0)}function Ra(n={},i){let r=[];n.loader&&r.push(n.loader),n.compiler&&r.push(n.compiler),n.parser&&r.push(n.parser),n.missingTranslationHandler&&r.push(n.missingTranslationHandler),i&&r.push(er),(n.useDefaultLang||n.defaultLanguage)&&(console.warn("The `useDefaultLang` and `defaultLanguage` options are deprecated. Please use `fallbackLang` instead."),n.useDefaultLang===!0&&n.defaultLanguage&&(n.fallbackLang=n.defaultLanguage));let e={fallbackLang:n.fallbackLang??null,lang:n.lang,extend:n.extend??!1};return r.push({provide:tr,useValue:e}),r.push({provide:It,useClass:It,deps:[er,ze,gt,ft,Dt,tr]}),r}var rr=new Q("TRANSLATE_HTTP_LOADER_CONFIG"),Da=(()=>{class n{http;config;constructor(){this.config=b({prefix:"/assets/i18n/",suffix:".json",enforceLoading:!1,useHttpBackend:!1},l(rr)),this.http=this.config.useHttpBackend?new Me(l(Bi)):l(Me)}getTranslation(r){let e=this.config.enforceLoading?`?enforceLoading=${Date.now()}`:"";return this.http.get(`${this.config.prefix}${r}${this.config.suffix}${e}`)}static \u0275fac=function(e){return new(e||n)};static \u0275prov=m({token:n,factory:n.\u0275fac})}return n})();function ms(n={}){let i=n.useHttpBackend??!1;return[{provide:rr,useValue:n},{provide:ze,useClass:Da,deps:[i?Bi:Me,rr]}]}var ps={providers:[{provide:jr,useValue:"de-CH"},Tr(),Wr({eventCoalescing:!0}),an(ss,ln()),zi(Jr(),Zr([...as,rs()])),An(),ts(ls),us({loader:ms({prefix:"/i18n/",suffix:".json"}),fallbackLang:"en",lang:"en"})]};var Ia=["*",[["mat-toolbar-row"]]],Ea=["*","mat-toolbar-row"],Ta=(()=>{class n{static \u0275fac=function(e){return new(e||n)};static \u0275dir=J({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}return n})(),gs=(()=>{class n{_elementRef=l(L);_platform=l(ie);_document=l(D);color;_toolbarRows;constructor(){}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=T({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,t,s){if(e&1&&me(s,Ta,5),e&2){let o;j(o=H())&&(t._toolbarRows=o)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(e,t){e&2&&(Vr(t.color?"mat-"+t.color:""),q("mat-toolbar-multiple-rows",t._toolbarRows.length>0)("mat-toolbar-single-row",t._toolbarRows.length===0))},inputs:{color:"color"},exportAs:["matToolbar"],ngContentSelectors:Ea,decls:2,vars:0,template:function(e,t){e&1&&(ue(Ia),O(0),O(1,1))},styles:[`.mat-toolbar{background:var(--mat-toolbar-container-background-color, var(--mat-sys-surface));color:var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font, var(--mat-sys-title-large-font));font-size:var(--mat-toolbar-title-text-size, var(--mat-sys-title-large-size));line-height:var(--mat-toolbar-title-text-line-height, var(--mat-sys-title-large-line-height));font-weight:var(--mat-toolbar-title-text-weight, var(--mat-sys-title-large-weight));letter-spacing:var(--mat-toolbar-title-text-tracking, var(--mat-sys-title-large-tracking));margin:0}@media(forced-colors: active){.mat-toolbar{outline:solid 1px}}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mat-button-text-label-text-color: var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface));--mat-button-outlined-label-text-color: var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height, 56px)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height, 56px)}}
`],encapsulation:2,changeDetection:0})}return n})();var fs=(()=>{class n{static \u0275fac=function(e){return new(e||n)};static \u0275mod=V({type:n});static \u0275inj=F({imports:[re,re]})}return n})();var Ma=20,Te=(()=>{class n{_ngZone=l(B);_platform=l(ie);_renderer=l(Re).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new C;_scrolledCount=0;scrollContainers=new Map;register(r){this.scrollContainers.has(r)||this.scrollContainers.set(r,r.elementScrolled().subscribe(()=>this._scrolled.next(r)))}deregister(r){let e=this.scrollContainers.get(r);e&&(e.unsubscribe(),this.scrollContainers.delete(r))}scrolled(r=Ma){return this._platform.isBrowser?new He(e=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let t=r>0?this._scrolled.pipe(Di(r)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{t.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):p()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((r,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(r,e){let t=this.getAncestorScrollContainers(r);return this.scrolled(e).pipe(le(s=>!s||t.indexOf(s)>-1))}getAncestorScrollContainers(r){let e=[];return this.scrollContainers.forEach((t,s)=>{this._scrollableContainsElement(s,r)&&e.push(s)}),e}_scrollableContainsElement(r,e){let t=un(e),s=r.getElementRef().nativeElement;do if(t==s)return!0;while(t=t.parentElement);return!1}static \u0275fac=function(e){return new(e||n)};static \u0275prov=m({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),tt=(()=>{class n{elementRef=l(L);scrollDispatcher=l(Te);ngZone=l(B);dir=l(Fe,{optional:!0});_scrollElement=this.elementRef.nativeElement;_destroyed=new C;_renderer=l(Ke);_cleanupScroll;_elementScrolled=new C;constructor(){}ngOnInit(){this._cleanupScroll=this.ngZone.runOutsideAngular(()=>this._renderer.listen(this._scrollElement,"scroll",r=>this._elementScrolled.next(r))),this.scrollDispatcher.register(this)}ngOnDestroy(){this._cleanupScroll?.(),this._elementScrolled.complete(),this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(r){let e=this.elementRef.nativeElement,t=this.dir&&this.dir.value=="rtl";r.left==null&&(r.left=t?r.end:r.start),r.right==null&&(r.right=t?r.start:r.end),r.bottom!=null&&(r.top=e.scrollHeight-e.clientHeight-r.bottom),t&&dt()!=ct.NORMAL?(r.left!=null&&(r.right=e.scrollWidth-e.clientWidth-r.left),dt()==ct.INVERTED?r.left=r.right:dt()==ct.NEGATED&&(r.left=r.right?-r.right:r.right)):r.right!=null&&(r.left=e.scrollWidth-e.clientWidth-r.right),this._applyScrollToOptions(r)}_applyScrollToOptions(r){let e=this.elementRef.nativeElement;Kt()?e.scrollTo(r):(r.top!=null&&(e.scrollTop=r.top),r.left!=null&&(e.scrollLeft=r.left))}measureScrollOffset(r){let e="left",t="right",s=this.elementRef.nativeElement;if(r=="top")return s.scrollTop;if(r=="bottom")return s.scrollHeight-s.clientHeight-s.scrollTop;let o=this.dir&&this.dir.value=="rtl";return r=="start"?r=o?t:e:r=="end"&&(r=o?e:t),o&&dt()==ct.INVERTED?r==e?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:o&&dt()==ct.NEGATED?r==e?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:r==e?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}static \u0275fac=function(e){return new(e||n)};static \u0275dir=J({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]})}return n})(),Fa=20,Ue=(()=>{class n{_platform=l(ie);_listeners;_viewportSize;_change=new C;_document=l(D);constructor(){let r=l(B),e=l(Re).createRenderer(null,null);r.runOutsideAngular(()=>{if(this._platform.isBrowser){let t=s=>this._change.next(s);this._listeners=[e.listen("window","resize",t),e.listen("window","orientationchange",t)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(r=>r()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let r={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),r}getViewportRect(){let r=this.getViewportScrollPosition(),{width:e,height:t}=this.getViewportSize();return{top:r.top,left:r.left,bottom:r.top+t,right:r.left+e,height:t,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let r=this._document,e=this._getWindow(),t=r.documentElement,s=t.getBoundingClientRect(),o=-s.top||r.body.scrollTop||e.scrollY||t.scrollTop||0,a=-s.left||r.body.scrollLeft||e.scrollX||t.scrollLeft||0;return{top:o,left:a}}change(r=Fa){return r>0?this._change.pipe(Di(r)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let r=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:r.innerWidth,height:r.innerHeight}:{width:0,height:0}}static \u0275fac=function(e){return new(e||n)};static \u0275prov=m({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Ne=(()=>{class n{static \u0275fac=function(e){return new(e||n)};static \u0275mod=V({type:n});static \u0275inj=F({})}return n})(),nr=(()=>{class n{static \u0275fac=function(e){return new(e||n)};static \u0275mod=V({type:n});static \u0275inj=F({imports:[St,Ne,St,Ne]})}return n})();var ci=["*"],La=["content"],Va=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],Ba=["mat-drawer","mat-drawer-content","*"];function za(n,i){if(n&1){let r=ae();S(0,"div",1),U("click",function(){A(r);let t=W();return P(t._onBackdropClicked())}),R()}if(n&2){let r=W();q("mat-drawer-shown",r._isShowingBackdrop())}}function Na(n,i){n&1&&(S(0,"mat-drawer-content"),O(1,2),R())}var Ua=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],Wa=["mat-sidenav","mat-sidenav-content","*"];function ja(n,i){if(n&1){let r=ae();S(0,"div",1),U("click",function(){A(r);let t=W();return P(t._onBackdropClicked())}),R()}if(n&2){let r=W();q("mat-drawer-shown",r._isShowingBackdrop())}}function Ha(n,i){n&1&&(S(0,"mat-sidenav-content"),O(1,2),R())}var $a=`.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color, var(--mat-sys-on-background));background-color:var(--mat-sidenav-content-background-color, var(--mat-sys-background));box-sizing:border-box;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color, color-mix(in srgb, var(--mat-sys-neutral-variant20) 40%, transparent))}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}@media(forced-colors: active){.mat-drawer-backdrop{opacity:.5}}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-content.mat-drawer-content-hidden{opacity:0}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color, var(--mat-sys-on-surface-variant));box-shadow:var(--mat-sidenav-container-elevation-shadow, none);background-color:var(--mat-sidenav-container-background-color, var(--mat-sys-surface));border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));width:var(--mat-sidenav-container-width, 360px);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}@media(forced-colors: active){.mat-drawer,[dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}}@media(forced-colors: active){[dir=rtl] .mat-drawer,.mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-transition .mat-drawer{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating){visibility:hidden;box-shadow:none}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating) .mat-drawer-inner-container{display:none}.mat-drawer.mat-drawer-opened.mat-drawer-opened{transform:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto}.mat-sidenav-fixed{position:fixed}
`;var Ka=new Q("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:Ya}),lr=new Q("MAT_DRAWER_CONTAINER");function Ya(){return!1}var ai=(()=>{class n extends tt{_platform=l(ie);_changeDetectorRef=l(Ce);_container=l(or);constructor(){let r=l(L),e=l(Te),t=l(B);super(r,e,t)}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}_shouldBeHidden(){if(this._platform.isBrowser)return!1;let{start:r,end:e}=this._container;return r!=null&&r.mode!=="over"&&r.opened||e!=null&&e.mode!=="over"&&e.opened}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=T({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:6,hostBindings:function(e,t){e&2&&(wt("margin-left",t._container._contentMargins.left,"px")("margin-right",t._container._contentMargins.right,"px"),q("mat-drawer-content-hidden",t._shouldBeHidden()))},features:[ke([{provide:tt,useExisting:n}]),ge],ngContentSelectors:ci,decls:1,vars:0,template:function(e,t){e&1&&(ue(),O(0))},encapsulation:2,changeDetection:0})}return n})(),sr=(()=>{class n{_elementRef=l(L);_focusTrapFactory=l(fn);_focusMonitor=l(Ht);_platform=l(ie);_ngZone=l(B);_renderer=l(Ke);_interactivityChecker=l(gn);_doc=l(D);_container=l(lr,{optional:!0});_focusTrap=null;_elementFocusedBeforeDrawerWasOpened=null;_eventCleanups;_isAttached;_anchor;get position(){return this._position}set position(r){r=r==="end"?"end":"start",r!==this._position&&(this._isAttached&&this._updatePositionInParent(r),this._position=r,this.onPositionChanged.emit())}_position="start";get mode(){return this._mode}set mode(r){this._mode=r,this._updateFocusTrapState(),this._modeChanged.next()}_mode="over";get disableClose(){return this._disableClose}set disableClose(r){this._disableClose=ne(r)}_disableClose=!1;get autoFocus(){let r=this._autoFocus;return r??(this.mode==="side"?"dialog":"first-tabbable")}set autoFocus(r){(r==="true"||r==="false"||r==null)&&(r=ne(r)),this._autoFocus=r}_autoFocus;get opened(){return this._opened()}set opened(r){this.toggle(ne(r))}_opened=Oe(!1);_openedVia;_animationStarted=new C;_animationEnd=new C;openedChange=new Ye(!0);_openedStream=this.openedChange.pipe(le(r=>r),w(()=>{}));openedStart=this._animationStarted.pipe(le(()=>this.opened),Ii(void 0));_closedStream=this.openedChange.pipe(le(r=>!r),w(()=>{}));closedStart=this._animationStarted.pipe(le(()=>!this.opened),Ii(void 0));_destroyed=new C;onPositionChanged=new Ye;_content;_modeChanged=new C;_injector=l(Z);_changeDetectorRef=l(Ce);constructor(){this.openedChange.pipe(N(this._destroyed)).subscribe(r=>{r?(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement,this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{let r=this._elementRef.nativeElement;xr(r,"keydown").pipe(le(e=>e.keyCode===27&&!this.disableClose&&!$t(e)),N(this._destroyed)).subscribe(e=>this._ngZone.run(()=>{this.close(),e.stopPropagation(),e.preventDefault()})),this._eventCleanups=[this._renderer.listen(r,"transitionrun",this._handleTransitionEvent),this._renderer.listen(r,"transitionend",this._handleTransitionEvent),this._renderer.listen(r,"transitioncancel",this._handleTransitionEvent)]}),this._animationEnd.subscribe(()=>{this.openedChange.emit(this.opened)})}_forceFocus(r,e){this._interactivityChecker.isFocusable(r)||(r.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let t=()=>{s(),o(),r.removeAttribute("tabindex")},s=this._renderer.listen(r,"blur",t),o=this._renderer.listen(r,"mousedown",t)})),r.focus(e)}_focusByCssSelector(r,e){let t=this._elementRef.nativeElement.querySelector(r);t&&this._forceFocus(t,e)}_takeFocus(){if(!this._focusTrap)return;let r=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":we(()=>{!this._focusTrap.focusInitialElement()&&typeof r.focus=="function"&&r.focus()},{injector:this._injector});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus);break}}_restoreFocus(r){this.autoFocus!=="dialog"&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,r):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){let r=this._doc.activeElement;return!!r&&this._elementRef.nativeElement.contains(r)}ngAfterViewInit(){this._isAttached=!0,this._position==="end"&&this._updatePositionInParent("end"),this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState())}ngOnDestroy(){this._eventCleanups.forEach(r=>r()),this._focusTrap?.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(r){return this.toggle(!0,r)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(r=!this.opened,e){r&&e&&(this._openedVia=e);let t=this._setOpen(r,!r&&this._isFocusWithinDrawer(),this._openedVia||"program");return r||(this._openedVia=null),t}_setOpen(r,e,t){return r===this.opened?Promise.resolve(r?"open":"close"):(this._opened.set(r),this._container?._transitionsEnabled?this._setIsAnimating(!0):setTimeout(()=>{this._animationStarted.next(),this._animationEnd.next()}),this._elementRef.nativeElement.classList.toggle("mat-drawer-opened",r),!r&&e&&this._restoreFocus(t),this._changeDetectorRef.markForCheck(),this._updateFocusTrapState(),new Promise(s=>{this.openedChange.pipe(pe(1)).subscribe(o=>s(o?"open":"close"))}))}_setIsAnimating(r){this._elementRef.nativeElement.classList.toggle("mat-drawer-animating",r)}_getWidth(){return this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=!!this._container?.hasBackdrop&&this.opened)}_updatePositionInParent(r){if(!this._platform.isBrowser)return;let e=this._elementRef.nativeElement,t=e.parentNode;r==="end"?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),t.insertBefore(this._anchor,e)),t.appendChild(e)):this._anchor&&this._anchor.parentNode.insertBefore(e,this._anchor)}_handleTransitionEvent=r=>{let e=this._elementRef.nativeElement;r.target===e&&this._ngZone.run(()=>{r.type==="transitionrun"?this._animationStarted.next(r):(r.type==="transitionend"&&this._setIsAnimating(!1),this._animationEnd.next(r))})};static \u0275fac=function(e){return new(e||n)};static \u0275cmp=T({type:n,selectors:[["mat-drawer"]],viewQuery:function(e,t){if(e&1&&De(La,5),e&2){let s;j(s=H())&&(t._content=s.first)}},hostAttrs:[1,"mat-drawer"],hostVars:12,hostBindings:function(e,t){e&2&&(ye("align",null)("tabIndex",t.mode!=="side"?"-1":null),wt("visibility",!t._container&&!t.opened?"hidden":null),q("mat-drawer-end",t.position==="end")("mat-drawer-over",t.mode==="over")("mat-drawer-push",t.mode==="push")("mat-drawer-side",t.mode==="side"))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:ci,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(e,t){e&1&&(ue(),S(0,"div",1,0),O(2),R())},dependencies:[tt],encapsulation:2,changeDetection:0})}return n})(),or=(()=>{class n{_dir=l(Fe,{optional:!0});_element=l(L);_ngZone=l(B);_changeDetectorRef=l(Ce);_animationDisabled=Qe();_transitionsEnabled=!1;_allDrawers;_drawers=new Ar;_content;_userContent;get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(r){this._autosize=ne(r)}_autosize=l(Ka);get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(r){this._backdropOverride=r==null?null:ne(r)}_backdropOverride;backdropClick=new Ye;_start;_end;_left;_right;_destroyed=new C;_doCheckSubject=new C;_contentMargins={left:null,right:null};_contentMarginChanges=new C;get scrollable(){return this._userContent||this._content}_injector=l(Z);constructor(){let r=l(ie),e=l(Ue);this._dir?.change.pipe(N(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),e.change().pipe(N(this._destroyed)).subscribe(()=>this.updateContentMargins()),!this._animationDisabled&&r.isBrowser&&this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{this._element.nativeElement.classList.add("mat-drawer-transition"),this._transitionsEnabled=!0},200)})}ngAfterContentInit(){this._allDrawers.changes.pipe(Bt(this._allDrawers),N(this._destroyed)).subscribe(r=>{this._drawers.reset(r.filter(e=>!e._container||e._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Bt(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(r=>{this._watchDrawerToggle(r),this._watchDrawerPosition(r),this._watchDrawerMode(r)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(Rr(10),N(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(r=>r.open())}close(){this._drawers.forEach(r=>r.close())}updateContentMargins(){let r=0,e=0;if(this._left&&this._left.opened){if(this._left.mode=="side")r+=this._left._getWidth();else if(this._left.mode=="push"){let t=this._left._getWidth();r+=t,e-=t}}if(this._right&&this._right.opened){if(this._right.mode=="side")e+=this._right._getWidth();else if(this._right.mode=="push"){let t=this._right._getWidth();e+=t,r-=t}}r=r||null,e=e||null,(r!==this._contentMargins.left||e!==this._contentMargins.right)&&(this._contentMargins={left:r,right:e},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(r){r._animationStarted.pipe(N(this._drawers.changes)).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),r.mode!=="side"&&r.openedChange.pipe(N(this._drawers.changes)).subscribe(()=>this._setContainerClass(r.opened))}_watchDrawerPosition(r){r.onPositionChanged.pipe(N(this._drawers.changes)).subscribe(()=>{we({read:()=>this._validateDrawers()},{injector:this._injector})})}_watchDrawerMode(r){r._modeChanged.pipe(N(Lt(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(r){let e=this._element.nativeElement.classList,t="mat-drawer-container-has-open";r?e.add(t):e.remove(t)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(r=>{r.position=="end"?(this._end!=null,this._end=r):(this._start!=null,this._start=r)}),this._right=this._left=null,this._dir&&this._dir.value==="rtl"?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&this._start.mode!="over"||this._isDrawerOpen(this._end)&&this._end.mode!="over"}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(r=>r&&!r.disableClose&&this._drawerHasBackdrop(r)).forEach(r=>r._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(r){return r!=null&&r.opened}_drawerHasBackdrop(r){return this._backdropOverride==null?!!r&&r.mode!=="side":this._backdropOverride}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=T({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(e,t,s){if(e&1&&(me(s,ai,5),me(s,sr,5)),e&2){let o;j(o=H())&&(t._content=o.first),j(o=H())&&(t._allDrawers=o)}},viewQuery:function(e,t){if(e&1&&De(ai,5),e&2){let s;j(s=H())&&(t._userContent=s.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,t){e&2&&q("mat-drawer-container-explicit-backdrop",t._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[ke([{provide:lr,useExisting:n}])],ngContentSelectors:Ba,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,t){e&1&&(ue(Va),se(0,za,1,2,"div",0),O(1),O(2,1),se(3,Na,2,0,"mat-drawer-content")),e&2&&(oe(t.hasBackdrop?0:-1),Y(3),oe(t._content?-1:3))},dependencies:[ai],styles:[`.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color, var(--mat-sys-on-background));background-color:var(--mat-sidenav-content-background-color, var(--mat-sys-background));box-sizing:border-box;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color, color-mix(in srgb, var(--mat-sys-neutral-variant20) 40%, transparent))}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}@media(forced-colors: active){.mat-drawer-backdrop{opacity:.5}}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-content.mat-drawer-content-hidden{opacity:0}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color, var(--mat-sys-on-surface-variant));box-shadow:var(--mat-sidenav-container-elevation-shadow, none);background-color:var(--mat-sidenav-container-background-color, var(--mat-sys-surface));border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));width:var(--mat-sidenav-container-width, 360px);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}@media(forced-colors: active){.mat-drawer,[dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}}@media(forced-colors: active){[dir=rtl] .mat-drawer,.mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-transition .mat-drawer{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating){visibility:hidden;box-shadow:none}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating) .mat-drawer-inner-container{display:none}.mat-drawer.mat-drawer-opened.mat-drawer-opened{transform:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto}.mat-sidenav-fixed{position:fixed}
`],encapsulation:2,changeDetection:0})}return n})(),li=(()=>{class n extends ai{static \u0275fac=(()=>{let r;return function(t){return(r||(r=ee(n)))(t||n)}})();static \u0275cmp=T({type:n,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],features:[ke([{provide:tt,useExisting:n}]),ge],ngContentSelectors:ci,decls:1,vars:0,template:function(e,t){e&1&&(ue(),O(0))},encapsulation:2,changeDetection:0})}return n})(),cr=(()=>{class n extends sr{get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(r){this._fixedInViewport=ne(r)}_fixedInViewport=!1;get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(r){this._fixedTopGap=Ie(r)}_fixedTopGap=0;get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(r){this._fixedBottomGap=Ie(r)}_fixedBottomGap=0;static \u0275fac=(()=>{let r;return function(t){return(r||(r=ee(n)))(t||n)}})();static \u0275cmp=T({type:n,selectors:[["mat-sidenav"]],hostAttrs:[1,"mat-drawer","mat-sidenav"],hostVars:16,hostBindings:function(e,t){e&2&&(ye("tabIndex",t.mode!=="side"?"-1":null)("align",null),wt("top",t.fixedInViewport?t.fixedTopGap:null,"px")("bottom",t.fixedInViewport?t.fixedBottomGap:null,"px"),q("mat-drawer-end",t.position==="end")("mat-drawer-over",t.mode==="over")("mat-drawer-push",t.mode==="push")("mat-drawer-side",t.mode==="side")("mat-sidenav-fixed",t.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[ke([{provide:sr,useExisting:n}]),ge],ngContentSelectors:ci,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(e,t){e&1&&(ue(),S(0,"div",1,0),O(2),R())},dependencies:[tt],encapsulation:2,changeDetection:0})}return n})(),bs=(()=>{class n extends or{_allDrawers=void 0;_content=void 0;static \u0275fac=(()=>{let r;return function(t){return(r||(r=ee(n)))(t||n)}})();static \u0275cmp=T({type:n,selectors:[["mat-sidenav-container"]],contentQueries:function(e,t,s){if(e&1&&(me(s,li,5),me(s,cr,5)),e&2){let o;j(o=H())&&(t._content=o.first),j(o=H())&&(t._allDrawers=o)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(e,t){e&2&&q("mat-drawer-container-explicit-backdrop",t._backdropOverride)},exportAs:["matSidenavContainer"],features:[ke([{provide:lr,useExisting:n},{provide:or,useExisting:n}]),ge],ngContentSelectors:Wa,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,t){e&1&&(ue(Ua),se(0,ja,1,2,"div",0),O(1),O(2,1),se(3,Ha,2,0,"mat-sidenav-content")),e&2&&(oe(t.hasBackdrop?0:-1),Y(3),oe(t._content?-1:3))},dependencies:[li],styles:[$a],encapsulation:2,changeDetection:0})}return n})(),ws=(()=>{class n{static \u0275fac=function(e){return new(e||n)};static \u0275mod=V({type:n});static \u0275inj=F({imports:[re,Ne,Ne,re]})}return n})();var ys=(()=>{class n{static \u0275fac=function(e){return new(e||n)};static \u0275mod=V({type:n});static \u0275inj=F({imports:[re,re]})}return n})();var Ss=(()=>{class n{static \u0275fac=function(e){return new(e||n)};static \u0275mod=V({type:n});static \u0275inj=F({imports:[re]})}return n})();var Ga=["*"],Xa=`.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item{display:flex;position:relative;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer;padding-left:16px;padding-right:16px;background-color:var(--mat-list-list-item-container-color, transparent);border-radius:var(--mat-list-list-item-container-shape, var(--mat-sys-corner-none))}.mdc-list-item.mdc-list-item--selected{background-color:var(--mat-list-list-item-selected-container-color)}.mdc-list-item:focus{outline:0}.mdc-list-item.mdc-list-item--disabled{cursor:auto}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mat-list-list-item-one-line-container-height, 48px)}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mat-list-list-item-two-line-container-height, 64px)}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mat-list-list-item-three-line-container-height, 88px)}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--selected::before,.mdc-list-item.mdc-list-item--selected:focus::before,.mdc-list-item:not(.mdc-list-item--selected):focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;content:"";pointer-events:none}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mat-list-list-item-leading-icon-color, var(--mat-sys-on-surface-variant));width:var(--mat-list-list-item-leading-icon-size, 24px);height:var(--mat-list-list-item-leading-icon-size, 24px);margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mat-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mat-list-list-item-leading-avatar-size, 40px);height:var(--mat-list-list-item-leading-avatar-size, 40px);margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item--with-leading-avatar .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mat-list-list-item-trailing-supporting-text-font, var(--mat-sys-label-small-font));line-height:var(--mat-list-list-item-trailing-supporting-text-line-height, var(--mat-sys-label-small-line-height));font-size:var(--mat-list-list-item-trailing-supporting-text-size, var(--mat-sys-label-small-size));font-weight:var(--mat-list-list-item-trailing-supporting-text-weight, var(--mat-sys-label-small-weight));letter-spacing:var(--mat-list-list-item-trailing-supporting-text-tracking, var(--mat-sys-label-small-tracking))}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mat-list-list-item-trailing-icon-color, var(--mat-sys-on-surface-variant));width:var(--mat-list-list-item-trailing-icon-size, 24px);height:var(--mat-list-list-item-trailing-icon-size, 24px)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mat-list-list-item-hover-trailing-icon-color)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mat-list-list-item-trailing-supporting-text-color, var(--mat-sys-on-surface-variant))}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mat-list-list-item-selected-trailing-icon-color, var(--mat-sys-primary))}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;color:var(--mat-list-list-item-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-list-list-item-label-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-list-list-item-label-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-list-list-item-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-list-list-item-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-list-list-item-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mat-list-list-item-hover-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mat-list-list-item-focus-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;color:var(--mat-list-list-item-supporting-text-color, var(--mat-sys-on-surface-variant));font-family:var(--mat-list-list-item-supporting-text-font, var(--mat-sys-body-medium-font));line-height:var(--mat-list-list-item-supporting-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-list-list-item-supporting-text-size, var(--mat-sys-body-medium-size));font-weight:var(--mat-list-list-item-supporting-text-weight, var(--mat-sys-body-medium-weight));letter-spacing:var(--mat-list-list-item-supporting-text-tracking, var(--mat-sys-body-medium-tracking))}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:16px}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:16px;padding-right:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-trailing-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:0;padding-right:0}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-webkit-user-select:none;user-select:none;margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;line-height:normal;align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-left:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-right:0}.mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-group__subheader{margin:.75rem 16px}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text{opacity:var(--mat-list-list-item-disabled-label-text-opacity, 0.3)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mat-list-list-item-disabled-leading-icon-color, var(--mat-sys-on-surface));opacity:var(--mat-list-list-item-disabled-leading-icon-opacity, 0.38)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mat-list-list-item-disabled-trailing-icon-color, var(--mat-sys-on-surface));opacity:var(--mat-list-list-item-disabled-trailing-icon-opacity, 0.38)}.mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing,[dir=rtl] .mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing{padding-left:0;padding-right:0}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mat-list-list-item-disabled-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item:hover::before{background-color:var(--mat-list-list-item-hover-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mat-list-list-item-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mat-list-list-item-disabled-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mat-list-list-item-disabled-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-list-item:focus::before{background-color:var(--mat-list-list-item-focus-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mat-list-list-item-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mat-list-list-item-disabled-label-text-opacity, 0.3)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mat-list-list-item-leading-avatar-shape, var(--mat-sys-corner-full));background-color:var(--mat-list-list-item-leading-avatar-color, var(--mat-sys-primary-container))}.mat-mdc-list-item-icon{font-size:var(--mat-list-list-item-leading-icon-size, 24px)}@media(forced-colors: active){a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none;border-radius:inherit}.mat-mdc-list-item>.mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:start}mat-action-list button::-moz-focus-inner{border:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-inline-start:var(--mat-list-list-item-leading-icon-start-space, 16px);margin-inline-end:var(--mat-list-list-item-leading-icon-end-space, 16px)}.mat-mdc-nav-list .mat-mdc-list-item{border-radius:var(--mat-list-active-indicator-shape, var(--mat-sys-corner-full));--mat-focus-indicator-border-radius: var(--mat-list-active-indicator-shape, var(--mat-sys-corner-full))}.mat-mdc-nav-list .mat-mdc-list-item.mdc-list-item--activated{background-color:var(--mat-list-active-indicator-color, var(--mat-sys-secondary-container))}
`,Qa=["unscopedContent"],Za=["text"],Ja=[[["","matListItemAvatar",""],["","matListItemIcon",""]],[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["","matListItemMeta",""]],[["mat-divider"]]],el=["[matListItemAvatar],[matListItemIcon]","[matListItemTitle]","[matListItemLine]","*","[matListItemMeta]","mat-divider"];var tl=new Q("ListOption"),il=(()=>{class n{_elementRef=l(L);constructor(){}static \u0275fac=function(e){return new(e||n)};static \u0275dir=J({type:n,selectors:[["","matListItemTitle",""]],hostAttrs:[1,"mat-mdc-list-item-title","mdc-list-item__primary-text"]})}return n})(),rl=(()=>{class n{_elementRef=l(L);constructor(){}static \u0275fac=function(e){return new(e||n)};static \u0275dir=J({type:n,selectors:[["","matListItemLine",""]],hostAttrs:[1,"mat-mdc-list-item-line","mdc-list-item__secondary-text"]})}return n})(),nl=(()=>{class n{static \u0275fac=function(e){return new(e||n)};static \u0275dir=J({type:n,selectors:[["","matListItemMeta",""]],hostAttrs:[1,"mat-mdc-list-item-meta","mdc-list-item__end"]})}return n})(),ks=(()=>{class n{_listOption=l(tl,{optional:!0});constructor(){}_isAlignedAtStart(){return!this._listOption||this._listOption?._getTogglePosition()==="after"}static \u0275fac=function(e){return new(e||n)};static \u0275dir=J({type:n,hostVars:4,hostBindings:function(e,t){e&2&&q("mdc-list-item__start",t._isAlignedAtStart())("mdc-list-item__end",!t._isAlignedAtStart())}})}return n})(),sl=(()=>{class n extends ks{static \u0275fac=(()=>{let r;return function(t){return(r||(r=ee(n)))(t||n)}})();static \u0275dir=J({type:n,selectors:[["","matListItemAvatar",""]],hostAttrs:[1,"mat-mdc-list-item-avatar"],features:[ge]})}return n})(),ol=(()=>{class n extends ks{static \u0275fac=(()=>{let r;return function(t){return(r||(r=ee(n)))(t||n)}})();static \u0275dir=J({type:n,selectors:[["","matListItemIcon",""]],hostAttrs:[1,"mat-mdc-list-item-icon"],features:[ge]})}return n})(),al=new Q("MAT_LIST_CONFIG"),dr=(()=>{class n{_isNonInteractive=!0;get disableRipple(){return this._disableRipple}set disableRipple(r){this._disableRipple=ne(r)}_disableRipple=!1;get disabled(){return this._disabled()}set disabled(r){this._disabled.set(ne(r))}_disabled=Oe(!1);_defaultOptions=l(al,{optional:!0});static \u0275fac=function(e){return new(e||n)};static \u0275dir=J({type:n,hostVars:1,hostBindings:function(e,t){e&2&&ye("aria-disabled",t.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"}})}return n})(),ll=(()=>{class n{_elementRef=l(L);_ngZone=l(B);_listBase=l(dr,{optional:!0});_platform=l(ie);_hostElement;_isButtonElement;_noopAnimations=Qe();_avatars;_icons;set lines(r){this._explicitLines=Ie(r,null),this._updateItemLines(!1)}_explicitLines=null;get disableRipple(){return this.disabled||this._disableRipple||this._noopAnimations||!!this._listBase?.disableRipple}set disableRipple(r){this._disableRipple=ne(r)}_disableRipple=!1;get disabled(){return this._disabled()||!!this._listBase?.disabled}set disabled(r){this._disabled.set(ne(r))}_disabled=Oe(!1);_subscriptions=new nt;_rippleRenderer=null;_hasUnscopedTextContent=!1;rippleConfig;get rippleDisabled(){return this.disableRipple||!!this.rippleConfig.disabled}constructor(){l(yt).load(kn);let r=l(Sn,{optional:!0});this.rippleConfig=r||{},this._hostElement=this._elementRef.nativeElement,this._isButtonElement=this._hostElement.nodeName.toLowerCase()==="button",this._listBase&&!this._listBase._isNonInteractive&&this._initInteractiveListItem(),this._isButtonElement&&!this._hostElement.hasAttribute("type")&&this._hostElement.setAttribute("type","button")}ngAfterViewInit(){this._monitorProjectedLinesAndTitle(),this._updateItemLines(!0)}ngOnDestroy(){this._subscriptions.unsubscribe(),this._rippleRenderer!==null&&this._rippleRenderer._removeTriggerEvents()}_hasIconOrAvatar(){return!!(this._avatars.length||this._icons.length)}_initInteractiveListItem(){this._hostElement.classList.add("mat-mdc-list-item-interactive"),this._rippleRenderer=new yn(this,this._ngZone,this._hostElement,this._platform,l(Z)),this._rippleRenderer.setupTriggerEvents(this._hostElement)}_monitorProjectedLinesAndTitle(){this._ngZone.runOutsideAngular(()=>{this._subscriptions.add(Lt(this._lines.changes,this._titles.changes).subscribe(()=>this._updateItemLines(!1)))})}_updateItemLines(r){if(!this._lines||!this._titles||!this._unscopedContent)return;r&&this._checkDomForUnscopedTextContent();let e=this._explicitLines??this._inferLinesFromContent(),t=this._unscopedContent.nativeElement;if(this._hostElement.classList.toggle("mat-mdc-list-item-single-line",e<=1),this._hostElement.classList.toggle("mdc-list-item--with-one-line",e<=1),this._hostElement.classList.toggle("mdc-list-item--with-two-lines",e===2),this._hostElement.classList.toggle("mdc-list-item--with-three-lines",e===3),this._hasUnscopedTextContent){let s=this._titles.length===0&&e===1;t.classList.toggle("mdc-list-item__primary-text",s),t.classList.toggle("mdc-list-item__secondary-text",!s)}else t.classList.remove("mdc-list-item__primary-text"),t.classList.remove("mdc-list-item__secondary-text")}_inferLinesFromContent(){let r=this._titles.length+this._lines.length;return this._hasUnscopedTextContent&&(r+=1),r}_checkDomForUnscopedTextContent(){this._hasUnscopedTextContent=Array.from(this._unscopedContent.nativeElement.childNodes).filter(r=>r.nodeType!==r.COMMENT_NODE).some(r=>!!(r.textContent&&r.textContent.trim()))}static \u0275fac=function(e){return new(e||n)};static \u0275dir=J({type:n,contentQueries:function(e,t,s){if(e&1&&(me(s,sl,4),me(s,ol,4)),e&2){let o;j(o=H())&&(t._avatars=o),j(o=H())&&(t._icons=o)}},hostVars:4,hostBindings:function(e,t){e&2&&(ye("aria-disabled",t.disabled)("disabled",t._isButtonElement&&t.disabled||null),q("mdc-list-item--disabled",t.disabled))},inputs:{lines:"lines",disableRipple:"disableRipple",disabled:"disabled"}})}return n})();var Cs=(()=>{class n extends ll{_lines;_titles;_meta;_unscopedContent;_itemText;get activated(){return this._activated}set activated(r){this._activated=ne(r)}_activated=!1;_getAriaCurrent(){return this._hostElement.nodeName==="A"&&this._activated?"page":null}_hasBothLeadingAndTrailing(){return this._meta.length!==0&&(this._avatars.length!==0||this._icons.length!==0)}static \u0275fac=(()=>{let r;return function(t){return(r||(r=ee(n)))(t||n)}})();static \u0275cmp=T({type:n,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(e,t,s){if(e&1&&(me(s,rl,5),me(s,il,5),me(s,nl,5)),e&2){let o;j(o=H())&&(t._lines=o),j(o=H())&&(t._titles=o),j(o=H())&&(t._meta=o)}},viewQuery:function(e,t){if(e&1&&(De(Qa,5),De(Za,5)),e&2){let s;j(s=H())&&(t._unscopedContent=s.first),j(s=H())&&(t._itemText=s.first)}},hostAttrs:[1,"mat-mdc-list-item","mdc-list-item"],hostVars:13,hostBindings:function(e,t){e&2&&(ye("aria-current",t._getAriaCurrent()),q("mdc-list-item--activated",t.activated)("mdc-list-item--with-leading-avatar",t._avatars.length!==0)("mdc-list-item--with-leading-icon",t._icons.length!==0)("mdc-list-item--with-trailing-meta",t._meta.length!==0)("mat-mdc-list-item-both-leading-and-trailing",t._hasBothLeadingAndTrailing())("_mat-animation-noopable",t._noopAnimations))},inputs:{activated:"activated"},exportAs:["matListItem"],features:[ge],ngContentSelectors:el,decls:10,vars:0,consts:[["unscopedContent",""],[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],[1,"mat-focus-indicator"]],template:function(e,t){if(e&1){let s=ae();ue(Ja),O(0),S(1,"span",1),O(2,1),O(3,2),S(4,"span",2,0),U("cdkObserveContent",function(){return A(s),P(t._updateItemLines(!0))}),O(6,3),R()(),O(7,4),O(8,5),qe(9,"div",3)}},dependencies:[mn],encapsulation:2,changeDetection:0})}return n})();var xs=(()=>{class n extends dr{_isNonInteractive=!1;static \u0275fac=(()=>{let r;return function(t){return(r||(r=ee(n)))(t||n)}})();static \u0275cmp=T({type:n,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-mdc-nav-list","mat-mdc-list-base","mdc-list"],exportAs:["matNavList"],features:[ke([{provide:dr,useExisting:n}]),ge],ngContentSelectors:Ga,decls:1,vars:0,template:function(e,t){e&1&&(ue(),O(0))},styles:[Xa],encapsulation:2,changeDetection:0})}return n})();var Rs=(()=>{class n{static \u0275fac=function(e){return new(e||n)};static \u0275mod=V({type:n});static \u0275inj=F({imports:[pn,re,Cn,Ss,ys]})}return n})();var Et=class{_attachedHost;attach(i){return this._attachedHost=i,i.attach(this)}detach(){let i=this._attachedHost;i!=null&&(this._attachedHost=null,i.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(i){this._attachedHost=i}},Tt=class extends Et{component;viewContainerRef;injector;projectableNodes;constructor(i,r,e,t){super(),this.component=i,this.viewContainerRef=r,this.injector=e,this.projectableNodes=t}},di=class extends Et{templateRef;viewContainerRef;context;injector;constructor(i,r,e,t){super(),this.templateRef=i,this.viewContainerRef=r,this.context=e,this.injector=t}get origin(){return this.templateRef.elementRef}attach(i,r=this.context){return this.context=r,super.attach(i)}detach(){return this.context=void 0,super.detach()}},hr=class extends Et{element;constructor(i){super(),this.element=i instanceof L?i.nativeElement:i}},ur=class{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(i){if(i instanceof Tt)return this._attachedPortal=i,this.attachComponentPortal(i);if(i instanceof di)return this._attachedPortal=i,this.attachTemplatePortal(i);if(this.attachDomPortal&&i instanceof hr)return this._attachedPortal=i,this.attachDomPortal(i)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(i){this._disposeFn=i}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}},hi=class extends ur{outletElement;_appRef;_defaultInjector;constructor(i,r,e){super(),this.outletElement=i,this._appRef=r,this._defaultInjector=e}attachComponentPortal(i){let r;if(i.viewContainerRef){let e=i.injector||i.viewContainerRef.injector,t=e.get(Fr,null,{optional:!0})||void 0;r=i.viewContainerRef.createComponent(i.component,{index:i.viewContainerRef.length,injector:e,ngModuleRef:t,projectableNodes:i.projectableNodes||void 0}),this.setDisposeFn(()=>r.destroy())}else{let e=this._appRef,t=i.injector||this._defaultInjector||Z.NULL,s=t.get(zt,e.injector);r=$r(i.component,{elementInjector:t,environmentInjector:s,projectableNodes:i.projectableNodes||void 0}),e.attachView(r.hostView),this.setDisposeFn(()=>{e.viewCount>0&&e.detachView(r.hostView),r.destroy()})}return this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=i,r}attachTemplatePortal(i){let r=i.viewContainerRef,e=r.createEmbeddedView(i.templateRef,i.context,{injector:i.injector});return e.rootNodes.forEach(t=>this.outletElement.appendChild(t)),e.detectChanges(),this.setDisposeFn(()=>{let t=r.indexOf(e);t!==-1&&r.remove(t)}),this._attachedPortal=i,e}attachDomPortal=i=>{let r=i.element;r.parentNode;let e=this.outletElement.ownerDocument.createComment("dom-portal");r.parentNode.insertBefore(e,r),this.outletElement.appendChild(r),this._attachedPortal=i,super.setDisposeFn(()=>{e.parentNode&&e.parentNode.replaceChild(r,e)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(i){return i.hostView.rootNodes[0]}};var Ds=(()=>{class n{static \u0275fac=function(e){return new(e||n)};static \u0275mod=V({type:n});static \u0275inj=F({})}return n})();var Is=Kt();function Fs(n){return new ui(n.get(Ue),n.get(D))}var ui=class{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(i,r){this._viewportRuler=i,this._document=r}attach(){}enable(){if(this._canBeEnabled()){let i=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=i.style.left||"",this._previousHTMLStyles.top=i.style.top||"",i.style.left=z(-this._previousScrollPosition.left),i.style.top=z(-this._previousScrollPosition.top),i.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let i=this._document.documentElement,r=this._document.body,e=i.style,t=r.style,s=e.scrollBehavior||"",o=t.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,i.classList.remove("cdk-global-scrollblock"),Is&&(e.scrollBehavior=t.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Is&&(e.scrollBehavior=s,t.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let r=this._document.documentElement,e=this._viewportRuler.getViewportSize();return r.scrollHeight>e.height||r.scrollWidth>e.width}};function Ls(n,i){return new mi(n.get(Te),n.get(B),n.get(Ue),i)}var mi=class{_scrollDispatcher;_ngZone;_viewportRuler;_config;_scrollSubscription=null;_overlayRef;_initialScrollPosition;constructor(i,r,e,t){this._scrollDispatcher=i,this._ngZone=r,this._viewportRuler=e,this._config=t}attach(i){this._overlayRef,this._overlayRef=i}enable(){if(this._scrollSubscription)return;let i=this._scrollDispatcher.scrolled(0).pipe(le(r=>!r||!this._overlayRef.overlayElement.contains(r.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=i.subscribe(()=>{let r=this._viewportRuler.getViewportScrollPosition().top;Math.abs(r-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=i.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}_detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}};var At=class{enable(){}disable(){}attach(){}};function mr(n,i){return i.some(r=>{let e=n.bottom<r.top,t=n.top>r.bottom,s=n.right<r.left,o=n.left>r.right;return e||t||s||o})}function Es(n,i){return i.some(r=>{let e=n.top<r.top,t=n.bottom>r.bottom,s=n.left<r.left,o=n.right>r.right;return e||t||s||o})}function rt(n,i){return new pi(n.get(Te),n.get(Ue),n.get(B),i)}var pi=class{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(i,r,e,t){this._scrollDispatcher=i,this._viewportRuler=r,this._ngZone=e,this._config=t}attach(i){this._overlayRef,this._overlayRef=i}enable(){if(!this._scrollSubscription){let i=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(i).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let r=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:t}=this._viewportRuler.getViewportSize();mr(r,[{width:e,height:t,bottom:t,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},Vs=(()=>{class n{_injector=l(Z);constructor(){}noop=()=>new At;close=r=>Ls(this._injector,r);block=()=>Fs(this._injector);reposition=r=>rt(this._injector,r);static \u0275fac=function(e){return new(e||n)};static \u0275prov=m({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),gi=class{positionStrategy;scrollStrategy=new At;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";disableAnimations;width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;constructor(i){if(i){let r=Object.keys(i);for(let e of r)i[e]!==void 0&&(this[e]=i[e])}}};var fi=class{connectionPair;scrollableViewProperties;constructor(i,r){this.connectionPair=i,this.scrollableViewProperties=r}};var Bs=(()=>{class n{_attachedOverlays=[];_document=l(D);_isAttached;constructor(){}ngOnDestroy(){this.detach()}add(r){this.remove(r),this._attachedOverlays.push(r)}remove(r){let e=this._attachedOverlays.indexOf(r);e>-1&&this._attachedOverlays.splice(e,1),this._attachedOverlays.length===0&&this.detach()}static \u0275fac=function(e){return new(e||n)};static \u0275prov=m({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),zs=(()=>{class n extends Bs{_ngZone=l(B);_renderer=l(Re).createRenderer(null,null);_cleanupKeydown;add(r){super.add(r),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener)}),this._isAttached=!0)}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1)}_keydownListener=r=>{let e=this._attachedOverlays;for(let t=e.length-1;t>-1;t--)if(e[t]._keydownEvents.observers.length>0){this._ngZone.run(()=>e[t]._keydownEvents.next(r));break}};static \u0275fac=(()=>{let r;return function(t){return(r||(r=ee(n)))(t||n)}})();static \u0275prov=m({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ns=(()=>{class n extends Bs{_platform=l(ie);_ngZone=l(B);_renderer=l(Re).createRenderer(null,null);_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget;_cleanups;add(r){if(super.add(r),!this._isAttached){let e=this._document.body,t={capture:!0},s=this._renderer;this._cleanups=this._ngZone.runOutsideAngular(()=>[s.listen(e,"pointerdown",this._pointerDownListener,t),s.listen(e,"click",this._clickListener,t),s.listen(e,"auxclick",this._clickListener,t),s.listen(e,"contextmenu",this._clickListener,t)]),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=e.style.cursor,e.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){this._isAttached&&(this._cleanups?.forEach(r=>r()),this._cleanups=void 0,this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}_pointerDownListener=r=>{this._pointerDownEventTarget=Ui(r)};_clickListener=r=>{let e=Ui(r),t=r.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:e;this._pointerDownEventTarget=null;let s=this._attachedOverlays.slice();for(let o=s.length-1;o>-1;o--){let a=s[o];if(a._outsidePointerEvents.observers.length<1||!a.hasAttached())continue;if(Ts(a.overlayElement,e)||Ts(a.overlayElement,t))break;let c=a._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>c.next(r)):c.next(r)}};static \u0275fac=(()=>{let r;return function(t){return(r||(r=ee(n)))(t||n)}})();static \u0275prov=m({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ts(n,i){let r=typeof ShadowRoot<"u"&&ShadowRoot,e=i;for(;e;){if(e===n)return!0;e=r&&e instanceof ShadowRoot?e.host:e.parentNode}return!1}var Us=(()=>{class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=T({type:n,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(e,t){},styles:[`.cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0;touch-action:manipulation}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}@media(prefers-reduced-motion){.cdk-overlay-backdrop{transition-duration:1ms}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}
`],encapsulation:2,changeDetection:0})}return n})(),Ws=(()=>{class n{_platform=l(ie);_containerElement;_document=l(D);_styleLoader=l(yt);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let r="cdk-overlay-container";if(this._platform.isBrowser||Wi()){let t=this._document.querySelectorAll(`.${r}[platform="server"], .${r}[platform="test"]`);for(let s=0;s<t.length;s++)t[s].remove()}let e=this._document.createElement("div");e.classList.add(r),Wi()?e.setAttribute("platform","test"):this._platform.isBrowser||e.setAttribute("platform","server"),this._document.body.appendChild(e),this._containerElement=e}_loadStyles(){this._styleLoader.load(Us)}static \u0275fac=function(e){return new(e||n)};static \u0275prov=m({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),pr=class{_renderer;_ngZone;element;_cleanupClick;_cleanupTransitionEnd;_fallbackTimeout;constructor(i,r,e,t){this._renderer=r,this._ngZone=e,this.element=i.createElement("div"),this.element.classList.add("cdk-overlay-backdrop"),this._cleanupClick=r.listen(this.element,"click",t)}detach(){this._ngZone.runOutsideAngular(()=>{let i=this.element;clearTimeout(this._fallbackTimeout),this._cleanupTransitionEnd?.(),this._cleanupTransitionEnd=this._renderer.listen(i,"transitionend",this.dispose),this._fallbackTimeout=setTimeout(this.dispose,500),i.style.pointerEvents="none",i.classList.remove("cdk-overlay-backdrop-showing")})}dispose=()=>{clearTimeout(this._fallbackTimeout),this._cleanupClick?.(),this._cleanupTransitionEnd?.(),this._cleanupClick=this._cleanupTransitionEnd=this._fallbackTimeout=void 0,this.element.remove()}},vi=class{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropClick=new C;_attachments=new C;_detachments=new C;_positionStrategy;_scrollStrategy;_locationChanges=nt.EMPTY;_backdropRef=null;_detachContentMutationObserver;_detachContentAfterRenderRef;_previousHostParent;_keydownEvents=new C;_outsidePointerEvents=new C;_afterNextRenderRef;constructor(i,r,e,t,s,o,a,c,d,h=!1,u,g){this._portalOutlet=i,this._host=r,this._pane=e,this._config=t,this._ngZone=s,this._keyboardDispatcher=o,this._document=a,this._location=c,this._outsideClickDispatcher=d,this._animationsDisabled=h,this._injector=u,this._renderer=g,t.scrollStrategy&&(this._scrollStrategy=t.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=t.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropRef?.element||null}get hostElement(){return this._host}attach(i){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let r=this._portalOutlet.attach(i);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=we(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._completeDetachContent(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof r?.onDestroy=="function"&&r.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),r}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let i=this._portalOutlet.detach();return this._detachments.next(),this._completeDetachContent(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),i}dispose(){let i=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._backdropRef?.dispose(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=this._backdropRef=null,i&&this._detachments.next(),this._detachments.complete(),this._completeDetachContent()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(i){i!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=i,this.hasAttached()&&(i.attach(this),this.updatePosition()))}updateSize(i){this._config=b(b({},this._config),i),this._updateElementSize()}setDirection(i){this._config=je(b({},this._config),{direction:i}),this._updateElementDirection()}addPanelClass(i){this._pane&&this._toggleClasses(this._pane,i,!0)}removePanelClass(i){this._pane&&this._toggleClasses(this._pane,i,!1)}getDirection(){let i=this._config.direction;return i?typeof i=="string"?i:i.value:"ltr"}updateScrollStrategy(i){i!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=i,this.hasAttached()&&(i.attach(this),i.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let i=this._pane.style;i.width=z(this._config.width),i.height=z(this._config.height),i.minWidth=z(this._config.minWidth),i.minHeight=z(this._config.minHeight),i.maxWidth=z(this._config.maxWidth),i.maxHeight=z(this._config.maxHeight)}_togglePointerEvents(i){this._pane.style.pointerEvents=i?"":"none"}_attachBackdrop(){let i="cdk-overlay-backdrop-showing";this._backdropRef?.dispose(),this._backdropRef=new pr(this._document,this._renderer,this._ngZone,r=>{this._backdropClick.next(r)}),this._animationsDisabled&&this._backdropRef.element.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropRef.element,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropRef.element,this._host),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._backdropRef?.element.classList.add(i))}):this._backdropRef.element.classList.add(i)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){this._animationsDisabled?(this._backdropRef?.dispose(),this._backdropRef=null):this._backdropRef?.detach()}_toggleClasses(i,r,e){let t=Ni(r||[]).filter(s=>!!s);t.length&&(e?i.classList.add(...t):i.classList.remove(...t))}_detachContentWhenEmpty(){let i=!1;try{this._detachContentAfterRenderRef=we(()=>{i=!0,this._detachContent()},{injector:this._injector})}catch(r){if(i)throw r;this._detachContent()}globalThis.MutationObserver&&this._pane&&(this._detachContentMutationObserver||=new globalThis.MutationObserver(()=>{this._detachContent()}),this._detachContentMutationObserver.observe(this._pane,{childList:!0}))}_detachContent(){(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),this._completeDetachContent())}_completeDetachContent(){this._detachContentAfterRenderRef?.destroy(),this._detachContentAfterRenderRef=void 0,this._detachContentMutationObserver?.disconnect()}_disposeScrollStrategy(){let i=this._scrollStrategy;i?.disable(),i?.detach?.()}},As="cdk-overlay-connected-position-bounding-box",dl=/([A-Za-z%]+)$/;function wi(n,i){return new _i(i,n.get(Ue),n.get(D),n.get(ie),n.get(Ws))}var _i=class{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed;_boundingBox;_lastPosition;_lastScrollVisibility;_positionChanges=new C;_resizeSubscription=nt.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount;positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(i,r,e,t,s){this._viewportRuler=r,this._document=e,this._platform=t,this._overlayContainer=s,this.setOrigin(i)}attach(i){this._overlayRef&&this._overlayRef,this._validatePositions(),i.hostElement.classList.add(As),this._overlayRef=i,this._boundingBox=i.hostElement,this._pane=i.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let i=this._originRect,r=this._overlayRect,e=this._viewportRect,t=this._containerRect,s=[],o;for(let a of this._preferredPositions){let c=this._getOriginPoint(i,t,a),d=this._getOverlayPoint(c,r,a),h=this._getOverlayFit(d,r,e,a);if(h.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,c);return}if(this._canFitWithFlexibleDimensions(h,d,e)){s.push({position:a,origin:c,overlayRect:r,boundingBoxRect:this._calculateBoundingBoxRect(c,a)});continue}(!o||o.overlayFit.visibleArea<h.visibleArea)&&(o={overlayFit:h,overlayPoint:d,originPoint:c,position:a,overlayRect:r})}if(s.length){let a=null,c=-1;for(let d of s){let h=d.boundingBoxRect.width*d.boundingBoxRect.height*(d.position.weight||1);h>c&&(c=h,a=d)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(o.position,o.originPoint);return}this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&it(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(As),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let i=this._lastPosition;if(i){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let r=this._getOriginPoint(this._originRect,this._containerRect,i);this._applyPosition(i,r)}else this.apply()}withScrollableContainers(i){return this._scrollables=i,this}withPositions(i){return this._preferredPositions=i,i.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(i){return this._viewportMargin=i,this}withFlexibleDimensions(i=!0){return this._hasFlexibleDimensions=i,this}withGrowAfterOpen(i=!0){return this._growAfterOpen=i,this}withPush(i=!0){return this._canPush=i,this}withLockedPosition(i=!0){return this._positionLocked=i,this}setOrigin(i){return this._origin=i,this}withDefaultOffsetX(i){return this._offsetX=i,this}withDefaultOffsetY(i){return this._offsetY=i,this}withTransformOriginOn(i){return this._transformOriginSelector=i,this}_getOriginPoint(i,r,e){let t;if(e.originX=="center")t=i.left+i.width/2;else{let o=this._isRtl()?i.right:i.left,a=this._isRtl()?i.left:i.right;t=e.originX=="start"?o:a}r.left<0&&(t-=r.left);let s;return e.originY=="center"?s=i.top+i.height/2:s=e.originY=="top"?i.top:i.bottom,r.top<0&&(s-=r.top),{x:t,y:s}}_getOverlayPoint(i,r,e){let t;e.overlayX=="center"?t=-r.width/2:e.overlayX==="start"?t=this._isRtl()?-r.width:0:t=this._isRtl()?0:-r.width;let s;return e.overlayY=="center"?s=-r.height/2:s=e.overlayY=="top"?0:-r.height,{x:i.x+t,y:i.y+s}}_getOverlayFit(i,r,e,t){let s=Os(r),{x:o,y:a}=i,c=this._getOffset(t,"x"),d=this._getOffset(t,"y");c&&(o+=c),d&&(a+=d);let h=0-o,u=o+s.width-e.width,g=0-a,_=a+s.height-e.height,k=this._subtractOverflows(s.width,h,u),v=this._subtractOverflows(s.height,g,_),be=k*v;return{visibleArea:be,isCompletelyWithinViewport:s.width*s.height===be,fitsInViewportVertically:v===s.height,fitsInViewportHorizontally:k==s.width}}_canFitWithFlexibleDimensions(i,r,e){if(this._hasFlexibleDimensions){let t=e.bottom-r.y,s=e.right-r.x,o=Ps(this._overlayRef.getConfig().minHeight),a=Ps(this._overlayRef.getConfig().minWidth),c=i.fitsInViewportVertically||o!=null&&o<=t,d=i.fitsInViewportHorizontally||a!=null&&a<=s;return c&&d}return!1}_pushOverlayOnScreen(i,r,e){if(this._previousPushAmount&&this._positionLocked)return{x:i.x+this._previousPushAmount.x,y:i.y+this._previousPushAmount.y};let t=Os(r),s=this._viewportRect,o=Math.max(i.x+t.width-s.width,0),a=Math.max(i.y+t.height-s.height,0),c=Math.max(s.top-e.top-i.y,0),d=Math.max(s.left-e.left-i.x,0),h=0,u=0;return t.width<=s.width?h=d||-o:h=i.x<this._viewportMargin?s.left-e.left-i.x:0,t.height<=s.height?u=c||-a:u=i.y<this._viewportMargin?s.top-e.top-i.y:0,this._previousPushAmount={x:h,y:u},{x:i.x+h,y:i.y+u}}_applyPosition(i,r){if(this._setTransformOrigin(i),this._setOverlayElementStyles(r,i),this._setBoundingBoxStyles(r,i),i.panelClass&&this._addPanelClasses(i.panelClass),this._positionChanges.observers.length){let e=this._getScrollVisibility();if(i!==this._lastPosition||!this._lastScrollVisibility||!hl(this._lastScrollVisibility,e)){let t=new fi(i,e);this._positionChanges.next(t)}this._lastScrollVisibility=e}this._lastPosition=i,this._isInitialRender=!1}_setTransformOrigin(i){if(!this._transformOriginSelector)return;let r=this._boundingBox.querySelectorAll(this._transformOriginSelector),e,t=i.overlayY;i.overlayX==="center"?e="center":this._isRtl()?e=i.overlayX==="start"?"right":"left":e=i.overlayX==="start"?"left":"right";for(let s=0;s<r.length;s++)r[s].style.transformOrigin=`${e} ${t}`}_calculateBoundingBoxRect(i,r){let e=this._viewportRect,t=this._isRtl(),s,o,a;if(r.overlayY==="top")o=i.y,s=e.height-o+this._viewportMargin;else if(r.overlayY==="bottom")a=e.height-i.y+this._viewportMargin*2,s=e.height-a+this._viewportMargin;else{let _=Math.min(e.bottom-i.y+e.top,i.y),k=this._lastBoundingBoxSize.height;s=_*2,o=i.y-_,s>k&&!this._isInitialRender&&!this._growAfterOpen&&(o=i.y-k/2)}let c=r.overlayX==="start"&&!t||r.overlayX==="end"&&t,d=r.overlayX==="end"&&!t||r.overlayX==="start"&&t,h,u,g;if(d)g=e.width-i.x+this._viewportMargin*2,h=i.x-this._viewportMargin;else if(c)u=i.x,h=e.right-i.x;else{let _=Math.min(e.right-i.x+e.left,i.x),k=this._lastBoundingBoxSize.width;h=_*2,u=i.x-_,h>k&&!this._isInitialRender&&!this._growAfterOpen&&(u=i.x-k/2)}return{top:o,left:u,bottom:a,right:g,width:h,height:s}}_setBoundingBoxStyles(i,r){let e=this._calculateBoundingBoxRect(i,r);!this._isInitialRender&&!this._growAfterOpen&&(e.height=Math.min(e.height,this._lastBoundingBoxSize.height),e.width=Math.min(e.width,this._lastBoundingBoxSize.width));let t={};if(this._hasExactPosition())t.top=t.left="0",t.bottom=t.right=t.maxHeight=t.maxWidth="",t.width=t.height="100%";else{let s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;t.height=z(e.height),t.top=z(e.top),t.bottom=z(e.bottom),t.width=z(e.width),t.left=z(e.left),t.right=z(e.right),r.overlayX==="center"?t.alignItems="center":t.alignItems=r.overlayX==="end"?"flex-end":"flex-start",r.overlayY==="center"?t.justifyContent="center":t.justifyContent=r.overlayY==="bottom"?"flex-end":"flex-start",s&&(t.maxHeight=z(s)),o&&(t.maxWidth=z(o))}this._lastBoundingBoxSize=e,it(this._boundingBox.style,t)}_resetBoundingBoxStyles(){it(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){it(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(i,r){let e={},t=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(t){let h=this._viewportRuler.getViewportScrollPosition();it(e,this._getExactOverlayY(r,i,h)),it(e,this._getExactOverlayX(r,i,h))}else e.position="static";let a="",c=this._getOffset(r,"x"),d=this._getOffset(r,"y");c&&(a+=`translateX(${c}px) `),d&&(a+=`translateY(${d}px)`),e.transform=a.trim(),o.maxHeight&&(t?e.maxHeight=z(o.maxHeight):s&&(e.maxHeight="")),o.maxWidth&&(t?e.maxWidth=z(o.maxWidth):s&&(e.maxWidth="")),it(this._pane.style,e)}_getExactOverlayY(i,r,e){let t={top:"",bottom:""},s=this._getOverlayPoint(r,this._overlayRect,i);if(this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,e)),i.overlayY==="bottom"){let o=this._document.documentElement.clientHeight;t.bottom=`${o-(s.y+this._overlayRect.height)}px`}else t.top=z(s.y);return t}_getExactOverlayX(i,r,e){let t={left:"",right:""},s=this._getOverlayPoint(r,this._overlayRect,i);this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,e));let o;if(this._isRtl()?o=i.overlayX==="end"?"left":"right":o=i.overlayX==="end"?"right":"left",o==="right"){let a=this._document.documentElement.clientWidth;t.right=`${a-(s.x+this._overlayRect.width)}px`}else t.left=z(s.x);return t}_getScrollVisibility(){let i=this._getOriginRect(),r=this._pane.getBoundingClientRect(),e=this._scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Es(i,e),isOriginOutsideView:mr(i,e),isOverlayClipped:Es(r,e),isOverlayOutsideView:mr(r,e)}}_subtractOverflows(i,...r){return r.reduce((e,t)=>e-Math.max(t,0),i)}_getNarrowedViewportRect(){let i=this._document.documentElement.clientWidth,r=this._document.documentElement.clientHeight,e=this._viewportRuler.getViewportScrollPosition();return{top:e.top+this._viewportMargin,left:e.left+this._viewportMargin,right:e.left+i-this._viewportMargin,bottom:e.top+r-this._viewportMargin,width:i-2*this._viewportMargin,height:r-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(i,r){return r==="x"?i.offsetX==null?this._offsetX:i.offsetX:i.offsetY==null?this._offsetY:i.offsetY}_validatePositions(){}_addPanelClasses(i){this._pane&&Ni(i).forEach(r=>{r!==""&&this._appliedPanelClasses.indexOf(r)===-1&&(this._appliedPanelClasses.push(r),this._pane.classList.add(r))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(i=>{this._pane.classList.remove(i)}),this._appliedPanelClasses=[])}_getOriginRect(){let i=this._origin;if(i instanceof L)return i.nativeElement.getBoundingClientRect();if(i instanceof Element)return i.getBoundingClientRect();let r=i.width||0,e=i.height||0;return{top:i.y,bottom:i.y+e,left:i.x,right:i.x+r,height:e,width:r}}};function it(n,i){for(let r in i)i.hasOwnProperty(r)&&(n[r]=i[r]);return n}function Ps(n){if(typeof n!="number"&&n!=null){let[i,r]=n.split(dl);return!r||r==="px"?parseFloat(i):null}return n||null}function Os(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}function hl(n,i){return n===i?!0:n.isOriginClipped===i.isOriginClipped&&n.isOriginOutsideView===i.isOriginOutsideView&&n.isOverlayClipped===i.isOverlayClipped&&n.isOverlayOutsideView===i.isOverlayOutsideView}var Ms="cdk-global-overlay-wrapper";function js(n){return new bi}var bi=class{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(i){let r=i.getConfig();this._overlayRef=i,this._width&&!r.width&&i.updateSize({width:this._width}),this._height&&!r.height&&i.updateSize({height:this._height}),i.hostElement.classList.add(Ms),this._isDisposed=!1}top(i=""){return this._bottomOffset="",this._topOffset=i,this._alignItems="flex-start",this}left(i=""){return this._xOffset=i,this._xPosition="left",this}bottom(i=""){return this._topOffset="",this._bottomOffset=i,this._alignItems="flex-end",this}right(i=""){return this._xOffset=i,this._xPosition="right",this}start(i=""){return this._xOffset=i,this._xPosition="start",this}end(i=""){return this._xOffset=i,this._xPosition="end",this}width(i=""){return this._overlayRef?this._overlayRef.updateSize({width:i}):this._width=i,this}height(i=""){return this._overlayRef?this._overlayRef.updateSize({height:i}):this._height=i,this}centerHorizontally(i=""){return this.left(i),this._xPosition="center",this}centerVertically(i=""){return this.top(i),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let i=this._overlayRef.overlayElement.style,r=this._overlayRef.hostElement.style,e=this._overlayRef.getConfig(),{width:t,height:s,maxWidth:o,maxHeight:a}=e,c=(t==="100%"||t==="100vw")&&(!o||o==="100%"||o==="100vw"),d=(s==="100%"||s==="100vh")&&(!a||a==="100%"||a==="100vh"),h=this._xPosition,u=this._xOffset,g=this._overlayRef.getConfig().direction==="rtl",_="",k="",v="";c?v="flex-start":h==="center"?(v="center",g?k=u:_=u):g?h==="left"||h==="end"?(v="flex-end",_=u):(h==="right"||h==="start")&&(v="flex-start",k=u):h==="left"||h==="start"?(v="flex-start",_=u):(h==="right"||h==="end")&&(v="flex-end",k=u),i.position=this._cssPosition,i.marginLeft=c?"0":_,i.marginTop=d?"0":this._topOffset,i.marginBottom=this._bottomOffset,i.marginRight=c?"0":k,r.justifyContent=v,r.alignItems=d?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let i=this._overlayRef.overlayElement.style,r=this._overlayRef.hostElement,e=r.style;r.classList.remove(Ms),e.justifyContent=e.alignItems=i.marginTop=i.marginBottom=i.marginLeft=i.marginRight=i.position="",this._overlayRef=null,this._isDisposed=!0}},Hs=(()=>{class n{_injector=l(Z);constructor(){}global(){return js()}flexibleConnectedTo(r){return wi(this._injector,r)}static \u0275fac=function(e){return new(e||n)};static \u0275prov=m({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function yi(n,i){n.get(yt).load(Us);let r=n.get(Ws),e=n.get(D),t=n.get(_n),s=n.get(Ti),o=n.get(Fe),a=e.createElement("div"),c=e.createElement("div");c.id=t.getId("cdk-overlay-"),c.classList.add("cdk-overlay-pane"),a.appendChild(c),r.getContainerElement().appendChild(a);let d=new hi(c,s,n),h=new gi(i),u=n.get(Ke,null,{optional:!0})||n.get(Re).createRenderer(null,null);return h.direction=h.direction||o.value,new vi(d,a,c,h,n.get(B),n.get(zs),e,n.get(Kr),n.get(Ns),i?.disableAnimations??n.get(Or,null,{optional:!0})==="NoopAnimations",n.get(zt),u)}var $s=(()=>{class n{scrollStrategies=l(Vs);_positionBuilder=l(Hs);_injector=l(Z);constructor(){}create(r){return yi(this._injector,r)}position(){return this._positionBuilder}static \u0275fac=function(e){return new(e||n)};static \u0275prov=m({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ul=new Q("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let n=l(Z);return()=>rt(n)}});function ml(n){let i=l(Z);return()=>rt(i)}var pl={provide:ul,useFactory:ml},gr=(()=>{class n{static \u0275fac=function(e){return new(e||n)};static \u0275mod=V({type:n});static \u0275inj=F({providers:[$s,pl],imports:[St,Ds,nr,nr]})}return n})();var gl=["tooltip"],fr=20;var vr=new Q("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{let n=l(Z);return()=>rt(n,{scrollThrottle:fr})}});function qs(n){let i=l(Z);return()=>rt(i,{scrollThrottle:fr})}var _r={provide:vr,deps:[],useFactory:qs};function Gs(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}var Xs=new Q("mat-tooltip-default-options",{providedIn:"root",factory:Gs});var Ks="tooltip-panel",Ys=hn({passive:!0}),fl=8,vl=8,_l=24,bl=200,br=(()=>{class n{_elementRef=l(L);_ngZone=l(B);_platform=l(ie);_ariaDescriber=l(bn);_focusMonitor=l(Ht);_dir=l(Fe);_injector=l(Z);_viewContainerRef=l(bt);_animationsDisabled=Qe();_defaultOptions=l(Xs,{optional:!0});_overlayRef;_tooltipInstance;_overlayPanelClass;_portal;_position="below";_positionAtOrigin=!1;_disabled=!1;_tooltipClass;_viewInitialized=!1;_pointerExitEventsInitialized=!1;_tooltipComponent=Qs;_viewportMargin=8;_currentPosition;_cssClassPrefix="mat-mdc";_ariaDescriptionPending;_dirSubscribed=!1;get position(){return this._position}set position(r){r!==this._position&&(this._position=r,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(r){this._positionAtOrigin=ne(r),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(r){let e=ne(r);this._disabled!==e&&(this._disabled=e,e?this.hide(0):this._setupPointerEnterEventsIfNeeded(),this._syncAriaDescription(this.message))}get showDelay(){return this._showDelay}set showDelay(r){this._showDelay=Ie(r)}_showDelay;get hideDelay(){return this._hideDelay}set hideDelay(r){this._hideDelay=Ie(r),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}_hideDelay;touchGestures="auto";get message(){return this._message}set message(r){let e=this._message;this._message=r!=null?String(r).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage()),this._syncAriaDescription(e)}_message="";get tooltipClass(){return this._tooltipClass}set tooltipClass(r){this._tooltipClass=r,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}_passiveListeners=[];_touchstartTimeout=null;_destroyed=new C;_isDestroyed=!1;constructor(){let r=this._defaultOptions;r&&(this._showDelay=r.showDelay,this._hideDelay=r.hideDelay,r.position&&(this.position=r.position),r.positionAtOrigin&&(this.positionAtOrigin=r.positionAtOrigin),r.touchGestures&&(this.touchGestures=r.touchGestures),r.tooltipClass&&(this.tooltipClass=r.tooltipClass)),this._viewportMargin=fl}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(N(this._destroyed)).subscribe(r=>{r?r==="keyboard"&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){let r=this._elementRef.nativeElement;this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([e,t])=>{r.removeEventListener(e,t,Ys)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0,this._ariaDescriber.removeDescription(r,this.message,"tooltip"),this._focusMonitor.stopMonitoring(r)}show(r=this.showDelay,e){if(this.disabled||!this.message||this._isTooltipVisible()){this._tooltipInstance?._cancelPendingAnimations();return}let t=this._createOverlay(e);this._detach(),this._portal=this._portal||new Tt(this._tooltipComponent,this._viewContainerRef);let s=this._tooltipInstance=t.attach(this._portal).instance;s._triggerElement=this._elementRef.nativeElement,s._mouseLeaveHideDelay=this._hideDelay,s.afterHidden().pipe(N(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),s.show(r)}hide(r=this.hideDelay){let e=this._tooltipInstance;e&&(e.isVisible()?e.hide(r):(e._cancelPendingAnimations(),this._detach()))}toggle(r){this._isTooltipVisible()?this.hide():this.show(void 0,r)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(r){if(this._overlayRef){let o=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!r)&&o._origin instanceof L)return this._overlayRef;this._detach()}let e=this._injector.get(Te).getAncestorScrollContainers(this._elementRef),t=`${this._cssClassPrefix}-${Ks}`,s=wi(this._injector,this.positionAtOrigin?r||this._elementRef:this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(e);return s.positionChanges.pipe(N(this._destroyed)).subscribe(o=>{this._updateCurrentPositionClass(o.connectionPair),this._tooltipInstance&&o.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=yi(this._injector,{direction:this._dir,positionStrategy:s,panelClass:this._overlayPanelClass?[...this._overlayPanelClass,t]:t,scrollStrategy:this._injector.get(vr)(),disableAnimations:this._animationsDisabled}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(N(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(N(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(N(this._destroyed)).subscribe(o=>{this._isTooltipVisible()&&o.keyCode===27&&!$t(o)&&(o.preventDefault(),o.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._dirSubscribed||(this._dirSubscribed=!0,this._dir.change.pipe(N(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(r){let e=r.getConfig().positionStrategy,t=this._getOrigin(),s=this._getOverlayPosition();e.withPositions([this._addOffset(b(b({},t.main),s.main)),this._addOffset(b(b({},t.fallback),s.fallback))])}_addOffset(r){let e=vl,t=!this._dir||this._dir.value=="ltr";return r.originY==="top"?r.offsetY=-e:r.originY==="bottom"?r.offsetY=e:r.originX==="start"?r.offsetX=t?-e:e:r.originX==="end"&&(r.offsetX=t?e:-e),r}_getOrigin(){let r=!this._dir||this._dir.value=="ltr",e=this.position,t;e=="above"||e=="below"?t={originX:"center",originY:e=="above"?"top":"bottom"}:e=="before"||e=="left"&&r||e=="right"&&!r?t={originX:"start",originY:"center"}:(e=="after"||e=="right"&&r||e=="left"&&!r)&&(t={originX:"end",originY:"center"});let{x:s,y:o}=this._invertPosition(t.originX,t.originY);return{main:t,fallback:{originX:s,originY:o}}}_getOverlayPosition(){let r=!this._dir||this._dir.value=="ltr",e=this.position,t;e=="above"?t={overlayX:"center",overlayY:"bottom"}:e=="below"?t={overlayX:"center",overlayY:"top"}:e=="before"||e=="left"&&r||e=="right"&&!r?t={overlayX:"end",overlayY:"center"}:(e=="after"||e=="right"&&r||e=="left"&&!r)&&(t={overlayX:"start",overlayY:"center"});let{x:s,y:o}=this._invertPosition(t.overlayX,t.overlayY);return{main:t,fallback:{overlayX:s,overlayY:o}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),we(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(r){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=r,this._tooltipInstance._markForCheck())}_invertPosition(r,e){return this.position==="above"||this.position==="below"?e==="top"?e="bottom":e==="bottom"&&(e="top"):r==="end"?r="start":r==="start"&&(r="end"),{x:r,y:e}}_updateCurrentPositionClass(r){let{overlayY:e,originX:t,originY:s}=r,o;if(e==="center"?this._dir&&this._dir.value==="rtl"?o=t==="end"?"left":"right":o=t==="start"?"left":"right":o=e==="bottom"&&s==="top"?"above":"below",o!==this._currentPosition){let a=this._overlayRef;if(a){let c=`${this._cssClassPrefix}-${Ks}-`;a.removePanelClass(c+this._currentPosition),a.addPanelClass(c+o)}this._currentPosition=o}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",r=>{this._setupPointerExitEventsIfNeeded();let e;r.x!==void 0&&r.y!==void 0&&(e=r),this.show(void 0,e)}]):this.touchGestures!=="off"&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",r=>{let e=r.targetTouches?.[0],t=e?{x:e.clientX,y:e.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),this._touchstartTimeout&&clearTimeout(this._touchstartTimeout);let s=500;this._touchstartTimeout=setTimeout(()=>{this._touchstartTimeout=null,this.show(void 0,t)},this._defaultOptions?.touchLongPressShowDelay??s)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;let r=[];if(this._platformSupportsMouseEvents())r.push(["mouseleave",e=>{let t=e.relatedTarget;(!t||!this._overlayRef?.overlayElement.contains(t))&&this.hide()}],["wheel",e=>this._wheelListener(e)]);else if(this.touchGestures!=="off"){this._disableNativeGesturesIfNecessary();let e=()=>{this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions?.touchendHideDelay)};r.push(["touchend",e],["touchcancel",e])}this._addListeners(r),this._passiveListeners.push(...r)}_addListeners(r){r.forEach(([e,t])=>{this._elementRef.nativeElement.addEventListener(e,t,Ys)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(r){if(this._isTooltipVisible()){let e=this._injector.get(D).elementFromPoint(r.clientX,r.clientY),t=this._elementRef.nativeElement;e!==t&&!t.contains(e)&&this.hide()}}_disableNativeGesturesIfNecessary(){let r=this.touchGestures;if(r!=="off"){let e=this._elementRef.nativeElement,t=e.style;(r==="on"||e.nodeName!=="INPUT"&&e.nodeName!=="TEXTAREA")&&(t.userSelect=t.msUserSelect=t.webkitUserSelect=t.MozUserSelect="none"),(r==="on"||!e.draggable)&&(t.webkitUserDrag="none"),t.touchAction="none",t.webkitTapHighlightColor="transparent"}}_syncAriaDescription(r){this._ariaDescriptionPending||(this._ariaDescriptionPending=!0,this._ariaDescriber.removeDescription(this._elementRef.nativeElement,r,"tooltip"),this._isDestroyed||we({write:()=>{this._ariaDescriptionPending=!1,this.message&&!this.disabled&&this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")}},{injector:this._injector}))}static \u0275fac=function(e){return new(e||n)};static \u0275dir=J({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(e,t){e&2&&q("mat-mdc-tooltip-disabled",t.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]})}return n})(),Qs=(()=>{class n{_changeDetectorRef=l(Ce);_elementRef=l(L);_isMultiline=!1;message;tooltipClass;_showTimeoutId;_hideTimeoutId;_triggerElement;_mouseLeaveHideDelay;_animationsDisabled=Qe();_tooltip;_closeOnInteraction=!1;_isVisible=!1;_onHide=new C;_showAnimation="mat-mdc-tooltip-show";_hideAnimation="mat-mdc-tooltip-hide";constructor(){}show(r){this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},r)}hide(r){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},r)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:r}){(!r||!this._triggerElement.contains(r))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){let r=this._elementRef.nativeElement.getBoundingClientRect();return r.height>_l&&r.width>=bl}_handleAnimationEnd({animationName:r}){(r===this._showAnimation||r===this._hideAnimation)&&this._finalizeAnimation(r===this._showAnimation)}_cancelPendingAnimations(){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(r){r?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(r){let e=this._tooltip.nativeElement,t=this._showAnimation,s=this._hideAnimation;if(e.classList.remove(r?s:t),e.classList.add(r?t:s),this._isVisible!==r&&(this._isVisible=r,this._changeDetectorRef.markForCheck()),r&&!this._animationsDisabled&&typeof getComputedStyle=="function"){let o=getComputedStyle(e);(o.getPropertyValue("animation-duration")==="0s"||o.getPropertyValue("animation-name")==="none")&&(this._animationsDisabled=!0)}r&&this._onShow(),this._animationsDisabled&&(e.classList.add("_mat-animation-noopable"),this._finalizeAnimation(r))}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=T({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(e,t){if(e&1&&De(gl,7),e&2){let s;j(s=H())&&(t._tooltip=s.first)}},hostAttrs:["aria-hidden","true"],hostBindings:function(e,t){e&1&&U("mouseleave",function(o){return t._handleMouseLeave(o)})},decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(e,t){if(e&1){let s=ae();S(0,"div",1,0),U("animationend",function(a){return A(s),P(t._handleAnimationEnd(a))}),S(2,"div",2),G(3),R()()}e&2&&(q("mdc-tooltip--multiline",t._isMultiline),Se("ngClass",t.tooltipClass),Y(3),Nt(t.message))},dependencies:[Yr],styles:[`.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mat-tooltip-container-color, var(--mat-sys-inverse-surface));color:var(--mat-tooltip-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mat-tooltip-container-shape, var(--mat-sys-corner-extra-small));font-family:var(--mat-tooltip-supporting-text-font, var(--mat-sys-body-small-font));font-size:var(--mat-tooltip-supporting-text-size, var(--mat-sys-body-small-size));font-weight:var(--mat-tooltip-supporting-text-weight, var(--mat-sys-body-small-weight));line-height:var(--mat-tooltip-supporting-text-line-height, var(--mat-sys-body-small-line-height));letter-spacing:var(--mat-tooltip-supporting-text-tracking, var(--mat-sys-body-small-tracking))}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel{line-height:normal}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}
`],encapsulation:2,changeDetection:0})}return n})();var wr=(()=>{class n{static \u0275fac=function(e){return new(e||n)};static \u0275mod=V({type:n});static \u0275inj=F({providers:[_r],imports:[vn,gr,re,re,Ne]})}return n})();var yl={isLoading:!1},Si=class n{#e=l(lt);dispatcher=l(Tn);#t=Oe(yl);isLoading=ve(()=>this.#t().isLoading);constructor(){ri.attachState(this.#t,{name:"RouterStore"}),this.#e.events.subscribe(i=>{switch(!0){case i instanceof en:{this.#i(!0);break}case i instanceof tn:case i instanceof rn:case i instanceof nn:{this.#i(!1);break}}}),this.dispatcher.action$.pipe(le(i=>i.type==="SET_LOADING_STATE")).subscribe(i=>{this.#i(i.payload.isLoading)})}#i(i){this.#t.update(r=>je(b({},r),{isLoading:i}))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=m({token:n,factory:n.\u0275fac,providedIn:"root"})};var Sl=()=>["/overview/"],kl=()=>["/add-blog/"],Cl=n=>({value:n});function xl(n,i){n&1&&(S(0,"a",3),G(1),Ut(2,"translate"),R()),n&2&&(Se("routerLink",Mi(4,kl)),Y(),Nt(Fi(2,2,"SIDEBAR.CREATE_NEW_BLOG_BUTTON")))}function Rl(n,i){if(n&1){let r=ae();S(0,"a",6),U("click",function(){A(r);let t=W();return P(t.login.emit())})("keydown",function(){A(r);let t=W();return P(t.login.emit())}),G(1,"Login"),R()}}function Dl(n,i){if(n&1){let r=ae();S(0,"a",13),U("click",function(){A(r);let t=W();return P(t.logout.emit())})("keydown",function(){A(r);let t=W();return P(t.logout.emit())}),G(1,"Log out"),R()}}function Il(n,i){if(n&1){let r=ae();S(0,"button",14),U("click",function(){A(r),W();let t=Oi(2);return P(t.toggle())}),S(1,"mat-icon",15),G(2,"menu"),R()()}}function El(n,i){n&1&&(S(0,"button",16),G(1),Ut(2,"translate"),R()),n&2&&(Y(),Br(" ",Fi(2,1,"SIDEBAR.CREATE_NEW_BLOG_BUTTON")," "))}function Tl(n,i){if(n&1&&se(0,El,3,3,"button",16),n&2){let r=W();oe(r.canAddBlog()?0:-1)}}function Al(n,i){if(n&1){let r=ae();S(0,"a",17),U("click",function(){A(r);let t=W();return P(t.changeLanguage("de"))})("keydown",function(){A(r);let t=W();return P(t.changeLanguage("de"))}),G(1,"DE"),R(),S(2,"span"),G(3,"|"),R(),S(4,"a",17),U("click",function(){A(r);let t=W();return P(t.changeLanguage("en"))})("keydown",function(){A(r);let t=W();return P(t.changeLanguage("en"))}),G(5,"EN"),R()}}function Pl(n,i){if(n&1){let r=ae();qe(0,"div",18),Ut(1,"translate"),S(2,"button",19),U("click",function(){A(r);let t=W();return P(t.logout.emit())}),S(3,"mat-icon"),G(4,"logout"),R()()}if(n&2){let r,e=W();Se("matTooltip",zr(Ur(1,3,"SIDEBAR.LOGGEDIN_USER",Nr(6,Cl,(r=e.userData())==null?null:r.preferred_username))))("innerHTML",e.initials(),Mr)}}function Ol(n,i){if(n&1){let r=ae();S(0,"button",20),U("click",function(){A(r);let t=W();return P(t.login.emit())}),S(1,"mat-icon"),G(2,"login"),R()()}}function Ml(n,i){n&1&&qe(0,"mat-progress-bar",12)}var ki=class n{#e=l(cn);#t=l(It);isLoading=l(Si).isLoading;isAuthenticated=Wt.required();roles=Wt.required();userData=Wt.required();login=Vi();logout=Vi();initials=ve(()=>this.userData()?.preferred_username.split(/[._-]/).map(i=>i.charAt(0)).join(""));canAddBlog=ve(()=>{let i=this.isAuthenticated(),r=this.roles();return i&&r?.includes("user")});isHandset=Xe(this.#e.observe(dn.Handset).pipe(w(i=>i.matches),ot()),{initialValue:!1});changeLanguage(i){this.#t.use(i)}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=T({type:n,selectors:[["Sidebar"]],inputs:{isAuthenticated:[1,"isAuthenticated"],roles:[1,"roles"],userData:[1,"userData"]},outputs:{login:"login",logout:"logout"},decls:25,vars:12,consts:[["drawer",""],[1,"sidenav-container"],["fixedInViewport","",1,"sidenav",3,"mode","opened"],["mat-list-item","",3,"routerLink"],["mat-list-item","","tabindex","0"],["mat-list-item","","tabindex","1"],["mat-list-item","","tabindex","0",3,"click","keydown"],["color","primary",1,"header-toolbar"],["type","button","aria-label","Toggle sidenav","matIconButton",""],[1,"blog-app-title",3,"routerLink"],[1,"spacer"],["data-testid","login-button","mat-icon-button","","matTooltip","Login","aria-label","Login button",1,"example-icon","favorite-icon"],["mode","indeterminate"],["mat-list-item","","tabindex","1",3,"click","keydown"],["type","button","aria-label","Toggle sidenav","matIconButton","",3,"click"],["aria-label","Side nav toggle icon"],["mat-flat-button","","color","accent","routerLink","/add-blog",1,"add-blog"],["mat-list-item","","tabindex","0",1,"language-selector",3,"click","keydown"],["id","profileImage",3,"matTooltip","innerHTML"],["data-testid","logout-button","mat-icon-button","","matTooltip","Logout","aria-label","Logout button",1,"example-icon","favorite-icon",3,"click"],["data-testid","login-button","mat-icon-button","","matTooltip","Login","aria-label","Login button",1,"example-icon","favorite-icon",3,"click"]],template:function(r,e){if(r&1){let t=ae();S(0,"mat-sidenav-container",1)(1,"mat-sidenav",2,0)(3,"mat-toolbar"),G(4,"Menu"),R(),S(5,"mat-nav-list"),se(6,xl,3,5,"a",3),se(7,Rl,2,0,"a",4)(8,Dl,2,0,"a",5),S(9,"a",6),U("click",function(){return A(t),P(e.changeLanguage("de"))})("keydown",function(){return A(t),P(e.changeLanguage("de"))}),G(10,"Deutsch"),R(),S(11,"a",6),U("click",function(){return A(t),P(e.changeLanguage("en"))})("keydown",function(){return A(t),P(e.changeLanguage("en"))}),G(12,"English"),R()()(),S(13,"mat-sidenav-content")(14,"mat-toolbar",7),se(15,Il,3,0,"button",8),S(16,"span",9),G(17,"Blog App"),R(),qe(18,"span",10),se(19,Tl,1,1),se(20,Al,6,0),se(21,Pl,5,8)(22,Ol,3,0,"button",11),R(),se(23,Ml,1,0,"mat-progress-bar",12),qe(24,"router-outlet"),R()()}if(r&2){let t;Y(),Se("mode","over")("opened",!1),ye("role","dialog"),Y(5),oe(e.canAddBlog()?6:-1),Y(),oe((t=e.isAuthenticated())===!1?7:t===!0?8:-1),Y(8),oe(e.isHandset()?15:-1),Y(),Se("routerLink",Mi(11,Sl)),Y(3),oe(e.isHandset()===!1?19:-1),Y(),oe(e.isHandset()===!1?20:-1),Y(),oe(e.isAuthenticated()?21:22),Y(2),oe(e.isLoading()?23:-1)}},dependencies:[fs,gs,En,In,Dn,ws,cr,bs,li,Rs,xs,Cs,Rn,xn,sn,on,wr,br,wn,hs],styles:[".sidenav-container[_ngcontent-%COMP%]{height:100%}.sidenav[_ngcontent-%COMP%]{width:12.5rem}.sidenav[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{background:inherit}.mat-toolbar.mat-primary[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1}.header-toolbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:0 1rem;position:fixed;z-index:1000}.header-toolbar[_ngcontent-%COMP%]   .blog-app-title[_ngcontent-%COMP%]{cursor:pointer}#profileImage[_ngcontent-%COMP%]{width:2.1875rem;height:2.1875rem;border-radius:1.25rem;background:#0c2354;font-size:.9rem;color:#fff;text-align:center;line-height:2.1875rem;text-transform:uppercase;cursor:pointer}.add-blog[_ngcontent-%COMP%]{margin-right:1rem}.spacer[_ngcontent-%COMP%]{flex:1}.language-selector[_ngcontent-%COMP%]{margin-left:3px;margin-right:3px;cursor:pointer;width:60px}.language-selector[_ngcontent-%COMP%]:nth-last-of-type(1){margin-right:50px}"],changeDetection:0})};var Ci=class n{#e=l(pt);onModeChange(i){console.log(`event fired ${i}`)}title="blogapp-20";isAuthenticated=this.#e.isAuthenticated;userData=this.#e.userData;roles=this.#e.roles;login(){this.#e.login()}logout(){this.#e.logout()}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=T({type:n,selectors:[["App"]],decls:1,vars:3,consts:[[3,"login","logout","isAuthenticated","roles","userData"]],template:function(r,e){r&1&&(S(0,"Sidebar",0),U("login",function(){return e.login()})("logout",function(){return e.logout()}),R()),r&2&&Se("isAuthenticated",e.isAuthenticated())("roles",e.roles())("userData",e.userData())},dependencies:[ki],encapsulation:2})};Gr(Ci,ps).catch(n=>console.error(n));
