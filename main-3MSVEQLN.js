import{a as on}from"./chunk-6SSSAEUC.js";import{a as _n,b as bn}from"./chunk-LMJQA63X.js";import{a as kn}from"./chunk-6MGN6ZVS.js";import"./chunk-JSXN6GF2.js";import{a as qr,b as Yr,c as Gr,d as Xr,e as Zr,f as st,g as Qr,h as Jr,i as en,j as wn,k as yn,l as Sn}from"./chunk-ISAZHY5Q.js";import{A as wt,C as an,D as ln,E as cn,F as dn,G as hn,H as un,I as Kt,J as mn,K as z,L as se,O as pn,P as gn,R as fn,S as vn,b as Ur,e as zr,f as Wr,i as J,j as Vi,k as tn,l as rn,m as nn,o as Ke,p as Oe,q as ee,r as at,s as Ht,t as lt,u as Bi,v as Ni,x as xe,y as sn,z as $t}from"./chunk-T6G7XS2O.js";import{a as bt}from"./chunk-5CNXTSMD.js";import{g as nt,h as jt,i as jr,j as Hr,k as Fi,l as ot,m as Li,n as $r,o as Kr}from"./chunk-7FGFWX45.js";import{$ as V,$a as Se,$b as q,A as Mt,Aa as M,Ab as ne,B as Ot,Ba as xr,Bc as Br,C as ue,Cc as we,D as xi,E as $,Eb as Ae,F as C,Fa as Dr,Fb as y,G as wr,Ga as Rr,Gb as x,H as ge,Hb as $e,I as Di,Ib as Nt,Ic as Nr,J as Ri,Jb as Ti,K as yr,Lb as oe,Nb as U,O as et,Ob as Ar,P as Ft,Pb as L,Qb as pe,R as tt,Rb as A,Sb as Pe,T as Lt,Ta as Ir,Tb as Me,U as T,Ub as W,V as K,Vb as j,W as ce,Wa as O,X as Ii,Zb as Ai,_ as u,_a as _e,_b as _t,a as _,ab as ke,ac as Ut,b as Ie,ba as X,bc as Y,cc as rt,da as a,db as vt,dc as Pr,ea as Sr,eb as Er,f as Je,ga as Vt,h as We,hb as F,hc as Mr,i as k,ia as I,ib as N,ic as Ce,j as At,ja as E,jb as Z,jc as Pi,k as fr,ka as te,kb as Tr,kc as Or,la as D,lb as fe,lc as zt,m as Pt,ma as Bt,mc as Mi,n as p,nc as Fr,o as g,oa as He,p as Ee,pa as B,qa as kr,qc as Lr,r as vr,rc as Vr,s as _r,sa as Cr,sb as Ei,sc as ae,t as br,ta as me,u as b,va as it,vb as be,w as je,wc as Oi,x as ki,xc as Wt,y as Ci,ya as ie,z as Te,zb as re}from"./chunk-QYOJBZ2I.js";var qt=class r{handleError(o){let e=o.message?o.message:o.toString();this.postCustomData(o,e),bt.production?window.location.href="/error":console.log("ERROR ->",o)}async postCustomData(o,e){try{await fetch(`${bt.serviceUrl}/api/report-error/client-fatal`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({"client-message":e||"","client-error":o.stack||""})})}catch(t){console.error("Failed to report error:",t)}}static \u0275fac=function(e){return new(e||r)};static \u0275prov=u({token:r,factory:r.\u0275fac})};var Cn=()=>({provide:kr,useClass:qt});var xn=[{path:"error",loadComponent:()=>import("./chunk-NKZBLFR6.js")}];var Dn=[{path:"**",loadComponent:()=>import("./chunk-ANBZSHSH.js")}];var Rn={chars:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bits:6};var In={parse:function(o,e){return $o(o,Rn,e)},stringify:function(o,e){return Ko(o,Rn,e)}};function $o(r,o,e){var t;if(e===void 0&&(e={}),!o.codes){o.codes={};for(var i=0;i<o.chars.length;++i)o.codes[o.chars[i]]=i}if(!e.loose&&r.length*o.bits&7)throw new SyntaxError("Invalid padding");for(var n=r.length;r[n-1]==="=";)if(--n,!e.loose&&!((r.length-n)*o.bits&7))throw new SyntaxError("Invalid padding");for(var s=new((t=e.out)!=null?t:Uint8Array)(n*o.bits/8|0),l=0,c=0,h=0,d=0;d<n;++d){var m=o.codes[r[d]];if(m===void 0)throw new SyntaxError("Invalid character "+r[d]);c=c<<o.bits|m,l+=o.bits,l>=8&&(l-=8,s[h++]=255&c>>l)}if(l>=o.bits||255&c<<8-l)throw new SyntaxError("Unexpected end of data");return s}function Ko(r,o,e){e===void 0&&(e={});for(var t=e,i=t.pad,n=i===void 0?!0:i,s=(1<<o.bits)-1,l="",c=0,h=0,d=0;d<r.length;++d)for(h=h<<8|255&r[d],c+=8;c>o.bits;)c-=o.bits,l+=o.chars[s&h>>c];if(c&&(l+=o.chars[s&h<<o.bits-c]),n)for(;l.length*o.bits&7;)l+="=";return l}function qe(r,o){let t=!o?.manualCleanup?o?.injector?.get(Bt)??a(Bt):null,i=Yo(o?.equal),n;o?.requireSync?n=me({kind:0},{equal:i}):n=me({kind:1,value:o?.initialValue},{equal:i});let s,l=r.subscribe({next:c=>n.set({kind:1,value:c}),error:c=>{n.set({kind:2,error:c}),s?.()},complete:()=>{s?.()}});if(o?.requireSync&&n().kind===0)throw new Ii(601,!1);return s=t?.onDestroy(l.unsubscribe.bind(l)),ae(()=>{let c=n();switch(c.kind){case 1:return c.value;case 2:throw c.error;case 0:throw new Ii(601,!1)}},{equal:o?.equal})}function Yo(r=Object.is){return(o,e)=>o.kind===1&&e.kind===1&&r(o.value,e.value)}var Yt=class{},zi=class{constructor(o){this.passedConfigs=o}loadConfigs(){return Array.isArray(this.passedConfigs)?p(this.passedConfigs):p([this.passedConfigs])}};function Go(r){if(!r?.config)throw new Error("No config provided!");return new zi(r.config)}var En=new X("PASSED_CONFIG"),On=(()=>{class r{static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),Xo=(()=>{class r{logError(e,...t){console.error(e,...t)}logWarning(e,...t){console.warn(e,...t)}logDebug(e,...t){console.debug(e,...t)}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),yt=(function(r){return r[r.None=0]="None",r[r.Debug=1]="Debug",r[r.Warn=2]="Warn",r[r.Error=3]="Error",r})(yt||{}),w=(()=>{class r{constructor(){this.abstractLoggerService=a(On)}logError(e,t,...i){if(this.loggingIsTurnedOff(e))return;let{configId:n}=e,s=this.isObject(t)?JSON.stringify(t):t;i&&i.length?this.abstractLoggerService.logError(`[ERROR] ${n} - ${s}`,...i):this.abstractLoggerService.logError(`[ERROR] ${n} - ${s}`)}logWarning(e,t,...i){if(!this.logLevelIsSet(e)||this.loggingIsTurnedOff(e)||!this.currentLogLevelIsEqualOrSmallerThan(e,yt.Warn))return;let{configId:n}=e,s=this.isObject(t)?JSON.stringify(t):t;i&&i.length?this.abstractLoggerService.logWarning(`[WARN] ${n} - ${s}`,...i):this.abstractLoggerService.logWarning(`[WARN] ${n} - ${s}`)}logDebug(e,t,...i){if(!e||!this.logLevelIsSet(e)||this.loggingIsTurnedOff(e)||!this.currentLogLevelIsEqualOrSmallerThan(e,yt.Debug))return;let{configId:n}=e,s=this.isObject(t)?JSON.stringify(t):t;i&&i.length?this.abstractLoggerService.logDebug(`[DEBUG] ${n} - ${s}`,...i):this.abstractLoggerService.logDebug(`[DEBUG] ${n} - ${s}`)}currentLogLevelIsEqualOrSmallerThan(e,t){let{logLevel:i}=e||{};return i?i<=t:!1}logLevelIsSet(e){let{logLevel:t}=e||{};return t===null?!1:t!==void 0}loggingIsTurnedOff(e){let{logLevel:t}=e||{};return t===yt.None}isObject(e){return Object.prototype.toString.call(e)==="[object Object]"}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),de=(function(r){return r[r.ConfigLoaded=0]="ConfigLoaded",r[r.CheckingAuth=1]="CheckingAuth",r[r.CheckingAuthFinished=2]="CheckingAuthFinished",r[r.CheckingAuthFinishedWithError=3]="CheckingAuthFinishedWithError",r[r.ConfigLoadingFailed=4]="ConfigLoadingFailed",r[r.CheckSessionReceived=5]="CheckSessionReceived",r[r.UserDataChanged=6]="UserDataChanged",r[r.NewAuthenticationResult=7]="NewAuthenticationResult",r[r.TokenExpired=8]="TokenExpired",r[r.IdTokenExpired=9]="IdTokenExpired",r[r.SilentRenewStarted=10]="SilentRenewStarted",r[r.SilentRenewFailed=11]="SilentRenewFailed",r})(de||{}),Ye=(()=>{class r{constructor(){this.notify=new fr(1)}fireEvent(e,t){this.notify.next({type:e,value:t})}registerForEvents(){return this.notify.asObservable()}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),Fn=(()=>{class r{static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),Zo=(()=>{class r{constructor(){this.loggerService=a(w),this.abstractSecurityStorage=a(Fn)}read(e,t){let{configId:i}=t;if(!i)return this.loggerService.logDebug(t,`Wanted to read '${e}' but configId was '${i}'`),null;if(!this.hasStorage())return this.loggerService.logDebug(t,`Wanted to read '${e}' but Storage was undefined`),null;let n=this.abstractSecurityStorage.read(i);return n?JSON.parse(n):null}write(e,t){let{configId:i}=t;return i?this.hasStorage()?(e=e||null,this.abstractSecurityStorage.write(i,JSON.stringify(e)),!0):(this.loggerService.logDebug(t,"Wanted to write but Storage was falsy"),!1):(this.loggerService.logDebug(t,`Wanted to write but configId was '${i}'`),!1)}remove(e,t){return this.hasStorage()?(this.abstractSecurityStorage.remove(e),!0):(this.loggerService.logDebug(t,`Wanted to remove '${e}' but Storage was falsy`),!1)}clear(e){return this.hasStorage()?(this.abstractSecurityStorage.clear(),!0):(this.loggerService.logDebug(e,"Wanted to clear storage but Storage was falsy"),!1)}hasStorage(){return typeof Storage<"u"}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),H=(()=>{class r{constructor(){this.browserStorageService=a(Zo)}read(e,t){return(this.browserStorageService.read(e,t)||{})[e]}write(e,t,i){let n=this.browserStorageService.read(e,i)||{};return n[e]=t,this.browserStorageService.write(n,i)}remove(e,t){let i=this.browserStorageService.read(e,t)||{};delete i[e],this.browserStorageService.write(i,t)}clear(e){this.browserStorageService.clear(e)}resetStorageFlowData(e){this.remove("session_state",e),this.remove("storageSilentRenewRunning",e),this.remove("storageCodeFlowInProgress",e),this.remove("codeVerifier",e),this.remove("userData",e),this.remove("storageCustomParamsAuthRequest",e),this.remove("access_token_expires_at",e),this.remove("storageCustomParamsRefresh",e),this.remove("storageCustomParamsEndSession",e),this.remove("reusable_refresh_token",e)}resetAuthStateInStorage(e){this.remove("authzData",e),this.remove("reusable_refresh_token",e),this.remove("authnResult",e)}getAccessToken(e){return this.read("authzData",e)}getIdToken(e){return this.read("authnResult",e)?.id_token}getRefreshToken(e){let t=this.read("authnResult",e)?.refresh_token;return!t&&e.allowUnsafeReuseRefreshToken?this.read("reusable_refresh_token",e):t}getAuthenticationResult(e){return this.read("authnResult",e)}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),Ln=(()=>{class r{extractJwk(e,t,i=!0){if(e.length===0)throw Qo;let n=e.filter(s=>t?.kid?s.kid===t.kid:!0).filter(s=>t?.use?s.use===t.use:!0).filter(s=>t?.kty?s.kty===t.kty:!0);if(n.length===0&&i)throw Jo;if(n.length>1&&t==null)throw es;return n}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function ji(r){return Ln.name+": "+r}var Qo={name:ji("InvalidArgumentError"),message:"Array of keys was empty. Unable to extract"},Jo={name:ji("NoMatchingKeysError"),message:"No key found matching the spec"},es={name:ji("SeveralMatchingKeysError"),message:"More than one key found. Please use spec to filter"},Tn=3,Xt=(()=>{class r{constructor(){this.loggerService=a(w),this.document=a(D)}getTokenExpirationDate(e){if(!Object.prototype.hasOwnProperty.call(e,"exp"))return new Date(new Date().toUTCString());let t=new Date(0);return t.setUTCSeconds(e.exp),t}getSigningInputFromToken(e,t,i){if(!this.tokenIsValid(e,i))return"";let n=this.getHeaderFromToken(e,t,i),s=this.getPayloadFromToken(e,t,i);return[n,s].join(".")}getHeaderFromToken(e,t,i){return this.tokenIsValid(e,i)?this.getPartOfToken(e,0,t):{}}getPayloadFromToken(e,t,i){return i?this.tokenIsValid(e,i)?this.getPartOfToken(e,1,t):{}:{}}getSignatureFromToken(e,t,i){return this.tokenIsValid(e,i)?this.getPartOfToken(e,2,t):{}}getPartOfToken(e,t,i){let n=this.extractPartOfToken(e,t);if(i)return n;let s=this.urlBase64Decode(n);return JSON.parse(s)}urlBase64Decode(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw Error("Illegal base64url string!")}let i=typeof this.document.defaultView<"u"?this.document.defaultView?.atob(t):Buffer.from(t,"base64").toString("binary");if(!i)return"";try{return decodeURIComponent(i.split("").map(n=>"%"+("00"+n.charCodeAt(0).toString(16)).slice(-2)).join(""))}catch{return i}}tokenIsValid(e,t){return e?e.includes(".")?e.split(".").length!==Tn?(this.loggerService.logError(t,`token '${e}' is not valid --> token has to have exactly ${Tn-1} dots`),!1):!0:(this.loggerService.logError(t,`token '${e}' is not valid --> no dots included`),!1):(this.loggerService.logError(t,`token '${e}' is not valid --> token falsy`),!1)}extractPartOfToken(e,t){return e.split(".")[t]}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),Hi=(()=>{class r{constructor(){this.document=a(D)}getCrypto(){return this.document.defaultView?.crypto||this.document.defaultView?.msCrypto}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),ts=(()=>{class r{constructor(){this.cryptoService=a(Hi)}importVerificationKey(e,t){return this.cryptoService.getCrypto().subtle.importKey("jwk",e,t,!1,["verify"])}verifyKey(e,t,i,n){return this.cryptoService.getCrypto().subtle.verify(e,t,i,new TextEncoder().encode(n))}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),Vn=(()=>{class r{constructor(){this.cryptoService=a(Hi)}generateCodeChallenge(e){return this.calcHash(e).pipe(b(t=>this.base64UrlEncode(t)))}generateAtHash(e,t){return this.calcHash(e,t).pipe(b(i=>{let n=i.substr(0,i.length/2);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}))}calcHash(e,t="SHA-256"){let i=new TextEncoder().encode(e);return Pt(this.cryptoService.getCrypto().subtle.digest(t,i)).pipe(b(n=>{let s=n,l=Array.from(new Uint8Array(s));return this.toHashString(l)}))}toHashString(e){let t="";for(let i of e)t+=String.fromCharCode(i);return t}base64UrlEncode(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function is(r){switch(r.charAt(0)){case"R":return{name:"RSASSA-PKCS1-v1_5",hash:"SHA-256"};case"E":return r.includes("256")?{name:"ECDSA",hash:"SHA-256"}:r.includes("384")?{name:"ECDSA",hash:"SHA-384"}:null;default:return null}}function rs(r){switch(r.charAt(0)){case"R":return"RSA";case"E":return"EC";default:throw new Error("Cannot infer kty from alg: "+r)}}function ns(r){switch(r.charAt(0)){case"R":return r.includes("256")?{name:"RSASSA-PKCS1-v1_5",hash:"SHA-256"}:r.includes("384")?{name:"RSASSA-PKCS1-v1_5",hash:"SHA-384"}:r.includes("512")?{name:"RSASSA-PKCS1-v1_5",hash:"SHA-512"}:null;case"E":return r.includes("256")?{name:"ECDSA",namedCurve:"P-256"}:r.includes("384")?{name:"ECDSA",namedCurve:"P-384"}:null;default:return null}}var Zt=(()=>{class r{constructor(){this.keyAlgorithms=["HS256","HS384","HS512","RS256","RS384","RS512","ES256","ES384","PS256","PS384","PS512"],this.tokenHelperService=a(Xt),this.loggerService=a(w),this.jwkExtractor=a(Ln),this.jwkWindowCryptoService=a(ts),this.jwtWindowCryptoService=a(Vn)}static{this.refreshTokenNoncePlaceholder="--RefreshToken--"}hasIdTokenExpired(e,t,i){let n=this.tokenHelperService.getPayloadFromToken(e,!1,t);return!this.validateIdTokenExpNotExpired(n,t,i)}validateIdTokenExpNotExpired(e,t,i){let n=this.tokenHelperService.getTokenExpirationDate(e);if(i=i||0,!n)return!1;let s=n.valueOf(),l=this.calculateNowWithOffset(i),c=s>l;return this.loggerService.logDebug(t,`Has idToken expired: ${!c} --> expires in ${this.millisToMinutesAndSeconds(s-l)} , ${new Date(s).toLocaleTimeString()} > ${new Date(l).toLocaleTimeString()}`),c}validateAccessTokenNotExpired(e,t,i){if(!e)return!0;i=i||0;let n=e.valueOf(),s=this.calculateNowWithOffset(i),l=n>s;return this.loggerService.logDebug(t,`Has accessToken expired: ${!l} --> expires in ${this.millisToMinutesAndSeconds(n-s)} , ${new Date(n).toLocaleTimeString()} > ${new Date(s).toLocaleTimeString()}`),l}validateRequiredIdToken(e,t){let i=!0;return Object.prototype.hasOwnProperty.call(e,"iss")||(i=!1,this.loggerService.logWarning(t,"iss is missing, this is required in the id_token")),Object.prototype.hasOwnProperty.call(e,"sub")||(i=!1,this.loggerService.logWarning(t,"sub is missing, this is required in the id_token")),Object.prototype.hasOwnProperty.call(e,"aud")||(i=!1,this.loggerService.logWarning(t,"aud is missing, this is required in the id_token")),Object.prototype.hasOwnProperty.call(e,"exp")||(i=!1,this.loggerService.logWarning(t,"exp is missing, this is required in the id_token")),Object.prototype.hasOwnProperty.call(e,"iat")||(i=!1,this.loggerService.logWarning(t,"iat is missing, this is required in the id_token")),i}validateIdTokenIatMaxOffset(e,t,i,n){if(i)return!0;if(!Object.prototype.hasOwnProperty.call(e,"iat"))return!1;let s=new Date(0);s.setUTCSeconds(e.iat),t=t||0;let c=new Date(new Date().toUTCString()).valueOf()-s.valueOf(),h=t*1e3;return this.loggerService.logDebug(n,`validate id token iat max offset ${c} < ${h}`),c>0?c<h:-c<h}validateIdTokenNonce(e,t,i,n){return!((e.nonce===void 0||i)&&t===r.refreshTokenNoncePlaceholder)&&e.nonce!==t?(this.loggerService.logDebug(n,"Validate_id_token_nonce failed, dataIdToken.nonce: "+e.nonce+" local_nonce:"+t),!1):!0}validateIdTokenIss(e,t,i){return e.iss!==t?(this.loggerService.logDebug(i,"Validate_id_token_iss failed, dataIdToken.iss: "+e.iss+" authWellKnownEndpoints issuer:"+t),!1):!0}validateIdTokenAud(e,t,i){return Array.isArray(e.aud)?e.aud.includes(t)?!0:(this.loggerService.logDebug(i,"Validate_id_token_aud array failed, dataIdToken.aud: "+e.aud+" client_id:"+t),!1):e.aud!==t?(this.loggerService.logDebug(i,"Validate_id_token_aud failed, dataIdToken.aud: "+e.aud+" client_id:"+t),!1):!0}validateIdTokenAzpExistsIfMoreThanOneAud(e){return e?!(Array.isArray(e.aud)&&e.aud.length>1&&!e.azp):!1}validateIdTokenAzpValid(e,t){return e?.azp?e.azp===t:!0}validateStateFromHashCallback(e,t,i){return e!==t?(this.loggerService.logDebug(i,"ValidateStateFromHashCallback failed, state: "+e+" local_state:"+t),!1):!0}validateSignatureIdToken(e,t,i){if(!e)return p(!0);if(!t||!t.keys)return p(!1);let n=this.tokenHelperService.getHeaderFromToken(e,!1,i);if(Object.keys(n).length===0&&n.constructor===Object)return this.loggerService.logWarning(i,"id token has no header data"),p(!1);let s=n.kid,l=n.alg,c=t.keys,h,d;if(!this.keyAlgorithms.includes(l))return this.loggerService.logWarning(i,"alg not supported",l),p(!1);let m=rs(l),v="sig";try{h=s?this.jwkExtractor.extractJwk(c,{kid:s,kty:m,use:v},!1):this.jwkExtractor.extractJwk(c,{kty:m,use:v},!1),h.length===0&&(h=s?this.jwkExtractor.extractJwk(c,{kid:s,kty:m}):this.jwkExtractor.extractJwk(c,{kty:m})),d=h[0]}catch(le){return this.loggerService.logError(i,le),p(!1)}let S=ns(l),f=this.tokenHelperService.getSigningInputFromToken(e,!0,i),G=this.tokenHelperService.getSignatureFromToken(e,!0,i);return Pt(this.jwkWindowCryptoService.importVerificationKey(d,S)).pipe(je(le=>{let ze=In.parse(G,{loose:!0}),ft=is(l);return Pt(this.jwkWindowCryptoService.verifyKey(ft,le,ze,f))}),ce(le=>{le||this.loggerService.logWarning(i,"incorrect Signature, validation failed for id_token")}))}validateIdTokenAtHash(e,t,i,n){this.loggerService.logDebug(n,"at_hash from the server:"+t);let s="SHA-256";return i.includes("384")?s="SHA-384":i.includes("512")&&(s="SHA-512"),this.jwtWindowCryptoService.generateAtHash(""+e,s).pipe(je(l=>(this.loggerService.logDebug(n,"at_hash client validation not decoded:"+l),l===t?p(!0):this.jwtWindowCryptoService.generateAtHash(""+decodeURIComponent(e),s).pipe(b(c=>(this.loggerService.logDebug(n,"-gen access--"+l),c===t))))))}millisToMinutesAndSeconds(e){let t=Math.floor(e/6e4),i=(e%6e4/1e3).toFixed(0);return t+":"+(+i<10?"0":"")+i}calculateNowWithOffset(e){return new Date(new Date().toUTCString()).valueOf()+e*1e3}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),os={isAuthenticated:!1,allConfigsAuthenticated:[]},ve=(()=>{class r{constructor(){this.storagePersistenceService=a(H),this.loggerService=a(w),this.publicEventsService=a(Ye),this.tokenValidationService=a(Zt),this.authenticatedInternal$=new At(os)}get authenticated$(){return this.authenticatedInternal$.asObservable().pipe(Ri())}setAuthenticatedAndFireEvent(e){let t=this.composeAuthenticatedResult(e);this.authenticatedInternal$.next(t)}setUnauthenticatedAndFireEvent(e,t){this.storagePersistenceService.resetAuthStateInStorage(e);let i=this.composeUnAuthenticatedResult(t);this.authenticatedInternal$.next(i)}updateAndPublishAuthState(e){this.publicEventsService.fireEvent(de.NewAuthenticationResult,e)}setAuthorizationData(e,t,i,n){this.loggerService.logDebug(i,`storing the accessToken '${e}'`),this.storagePersistenceService.write("authzData",e,i),this.persistAccessTokenExpirationTime(t,i),this.setAuthenticatedAndFireEvent(n)}getAccessToken(e){if(!e||!this.isAuthenticated(e))return"";let t=this.storagePersistenceService.getAccessToken(e);return this.decodeURIComponentSafely(t)}getIdToken(e){if(!e||!this.isAuthenticated(e))return"";let t=this.storagePersistenceService.getIdToken(e);return this.decodeURIComponentSafely(t)}getRefreshToken(e){if(!e||!this.isAuthenticated(e))return"";let t=this.storagePersistenceService.getRefreshToken(e);return this.decodeURIComponentSafely(t)}getAuthenticationResult(e){return!e||!this.isAuthenticated(e)?null:this.storagePersistenceService.getAuthenticationResult(e)}areAuthStorageTokensValid(e){return!e||!this.isAuthenticated(e)?!1:this.hasIdTokenExpiredAndRenewCheckIsEnabled(e)?(this.loggerService.logDebug(e,"persisted idToken is expired"),!1):this.hasAccessTokenExpiredIfExpiryExists(e)?(this.loggerService.logDebug(e,"persisted accessToken is expired"),!1):(this.loggerService.logDebug(e,"persisted idToken and accessToken are valid"),!0)}hasIdTokenExpiredAndRenewCheckIsEnabled(e){let{renewTimeBeforeTokenExpiresInSeconds:t,triggerRefreshWhenIdTokenExpired:i,disableIdTokenValidation:n}=e;if(!i||n)return!1;let s=this.storagePersistenceService.getIdToken(e),l=this.tokenValidationService.hasIdTokenExpired(s,e,t);return l&&this.publicEventsService.fireEvent(de.IdTokenExpired,l),l}hasAccessTokenExpiredIfExpiryExists(e){let{renewTimeBeforeTokenExpiresInSeconds:t}=e,i=this.storagePersistenceService.read("access_token_expires_at",e),s=!this.tokenValidationService.validateAccessTokenNotExpired(i,e,t);return s&&this.publicEventsService.fireEvent(de.TokenExpired,s),s}isAuthenticated(e){if(!e)return g(()=>new Error("Please provide a configuration before setting up the module")),!1;let t=!!this.storagePersistenceService.getAccessToken(e),i=!!this.storagePersistenceService.getIdToken(e);return t&&i}decodeURIComponentSafely(e){return e?decodeURIComponent(e):""}persistAccessTokenExpirationTime(e,t){if(e?.expires_in){let i=new Date(new Date().toUTCString()).valueOf()+e.expires_in*1e3;this.storagePersistenceService.write("access_token_expires_at",i,t)}}composeAuthenticatedResult(e){if(e.length===1){let{configId:t}=e[0];return{isAuthenticated:!0,allConfigsAuthenticated:[{configId:t??"",isAuthenticated:!0}]}}return this.checkAllConfigsIfTheyAreAuthenticated(e)}composeUnAuthenticatedResult(e){if(e.length===1){let{configId:t}=e[0];return{isAuthenticated:!1,allConfigsAuthenticated:[{configId:t??"",isAuthenticated:!1}]}}return this.checkAllConfigsIfTheyAreAuthenticated(e)}checkAllConfigsIfTheyAreAuthenticated(e){let t=e.map(n=>({configId:n.configId??"",isAuthenticated:this.isAuthenticated(n)})),i=t.every(n=>n.isAuthenticated);return{allConfigsAuthenticated:t,isAuthenticated:i}}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),Ui="redirect",ss=(()=>{class r{constructor(){this.storageService=a(H),this.router=a(st)}checkSavedRedirectRouteAndNavigate(e){if(!e)return;let t=this.getStoredRedirectRoute(e);t!=null&&(this.deleteStoredRedirectRoute(e),this.router.navigateByUrl(t))}saveRedirectRoute(e,t){e&&this.storageService.write(Ui,t,e)}getStoredRedirectRoute(e){return this.storageService.read(Ui,e)}deleteStoredRedirectRoute(e){this.storageService.remove(Ui,e)}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),Fe=(()=>{class r{isCurrentFlowCodeFlow(e){return this.currentFlowIs("code",e)}isCurrentFlowAnyImplicitFlow(e){return this.isCurrentFlowImplicitFlowWithAccessToken(e)||this.isCurrentFlowImplicitFlowWithoutAccessToken(e)}isCurrentFlowCodeFlowWithRefreshTokens(e){if(!e)return!1;let{useRefreshToken:t}=e;return this.isCurrentFlowCodeFlow(e)&&!!t}isCurrentFlowImplicitFlowWithAccessToken(e){return this.currentFlowIs("id_token token",e)}currentFlowIs(e,t){let{responseType:i}=t;return Array.isArray(e)?e.some(n=>i===n):i===e}isCurrentFlowImplicitFlowWithoutAccessToken(e){return this.currentFlowIs("id_token",e)}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),as=(()=>{class r{constructor(){this.loggerService=a(w),this.cryptoService=a(Hi)}createRandom(e,t){if(e<=0)return"";e>0&&e<7&&(this.loggerService.logWarning(t,`RandomService called with ${e} but 7 chars is the minimum, returning 10 chars`),e=10);let i=e-6,n=new Uint8Array(Math.floor(i/2)),s=this.cryptoService.getCrypto();return s&&s.getRandomValues(n),Array.from(n,this.toHex).join("")+this.randomString(7)}toHex(e){return("0"+e.toString(16)).substr(-2)}randomString(e){let t="",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=new Uint32Array(e),s=this.cryptoService.getCrypto();if(s){s.getRandomValues(n);for(let l=0;l<e;l++)t+=i[n[l]%i.length]}return t}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),he=(()=>{class r{constructor(){this.loggerService=a(w),this.storagePersistenceService=a(H),this.randomService=a(as)}createNonce(e){let t=this.randomService.createRandom(40,e);return this.loggerService.logDebug(e,"Nonce created. nonce:"+t),this.setNonce(t,e),t}setNonce(e,t){this.storagePersistenceService.write("authNonce",e,t)}getAuthStateControl(e){return e?this.storagePersistenceService.read("authStateControl",e):""}setAuthStateControl(e,t){return t?this.storagePersistenceService.write("authStateControl",e,t):!1}getExistingOrCreateAuthStateControl(e){let t=this.storagePersistenceService.read("authStateControl",e);return t||(t=this.randomService.createRandom(40,e),this.storagePersistenceService.write("authStateControl",t,e)),t}setSessionState(e,t){this.storagePersistenceService.write("session_state",e,t)}resetStorageFlowData(e){this.storagePersistenceService.resetStorageFlowData(e)}getCodeVerifier(e){return this.storagePersistenceService.read("codeVerifier",e)}createCodeVerifier(e){let t=this.randomService.createRandom(67,e);return this.storagePersistenceService.write("codeVerifier",t,e),t}isCodeFlowInProgress(e){return!!this.storagePersistenceService.read("storageCodeFlowInProgress",e)}setCodeFlowInProgress(e){this.storagePersistenceService.write("storageCodeFlowInProgress",!0,e)}resetCodeFlowInProgress(e){this.storagePersistenceService.write("storageCodeFlowInProgress",!1,e)}isSilentRenewRunning(e){let{configId:t,silentRenewTimeoutInSeconds:i}=e,n=this.getSilentRenewRunningStorageEntry(e);if(!n||n.state==="not-running")return!1;let s=(i??0)*1e3,l=Date.parse(n.dateOfLaunchedProcessUtc),c=Date.parse(new Date().toISOString());return Math.abs(c-l)>s?(this.loggerService.logDebug(e,"silent renew process is probably stuck, state will be reset.",t),this.resetSilentRenewRunning(e),!1):n.state==="running"}setSilentRenewRunning(e){let t={state:"running",dateOfLaunchedProcessUtc:new Date().toISOString()};this.storagePersistenceService.write("storageSilentRenewRunning",JSON.stringify(t),e)}resetSilentRenewRunning(e){e&&this.storagePersistenceService.write("storageSilentRenewRunning","",e)}getSilentRenewRunningStorageEntry(e){let t=this.storagePersistenceService.read("storageSilentRenewRunning",e);return t?JSON.parse(t):{dateOfLaunchedProcessUtc:"",state:"not-running"}}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),Wi=class{encodeKey(o){return encodeURIComponent(o)}encodeValue(o){return encodeURIComponent(o)}decodeKey(o){return decodeURIComponent(o)}decodeValue(o){return decodeURIComponent(o)}},ls=["code","state","token","id_token"],cs="auth0.com",ye=(()=>{class r{constructor(){this.loggerService=a(w),this.flowsDataService=a(he),this.flowHelper=a(Fe),this.storagePersistenceService=a(H),this.jwtWindowCryptoService=a(Vn)}getUrlParameter(e,t){if(!e||!t)return"";t=t.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");let n=new RegExp("[\\?&#]"+t+"=([^&#]*)").exec(e);return n===null?"":decodeURIComponent(n[1])}getUrlWithoutQueryParameters(e){let t=new URL(e.toString()),i=[];for(let n of t.searchParams.keys())i.push(n);return i.forEach(n=>{t.searchParams.delete(n)}),t}queryParametersExist(e,t){let i=!0;return e.forEach((n,s)=>{t.has(s)||(i=!1)}),i}isCallbackFromSts(e,t){if(t&&t.checkRedirectUrlWhenCheckingIfIsCallback){let i=new URL(e),n=this.getRedirectUrl(t);if(!n)return this.loggerService.logError(t,"UrlService.isCallbackFromSts: could not get redirectUrl from config, was: ",n),!1;let s=new URL(n),l=this.getUrlWithoutQueryParameters(s).toString(),c=this.getUrlWithoutQueryParameters(i).toString(),h=this.queryParametersExist(s.searchParams,i.searchParams);if(l!==c||!h)return this.loggerService.logDebug(t,"UrlService.isCallbackFromSts: configured redirectUrl does not match with the current url"),!1}return ls.some(i=>!!this.getUrlParameter(e,i))}getRefreshSessionSilentRenewUrl(e,t){return this.flowHelper.isCurrentFlowCodeFlow(e)?this.createUrlCodeFlowWithSilentRenew(e,t):p(this.createUrlImplicitFlowWithSilentRenew(e,t))}getAuthorizeParUrl(e,t){let i=this.storagePersistenceService.read("authWellKnownEndPoints",t);if(!i)return this.loggerService.logError(t,"authWellKnownEndpoints is undefined"),null;let n=i.authorizationEndpoint;if(!n)return this.loggerService.logError(t,`Can not create an authorize URL when authorizationEndpoint is '${n}'`),null;let{clientId:s}=t;if(!s)return this.loggerService.logError(t,"getAuthorizeParUrl could not add clientId because it was: ",s),null;let l=n.split("?"),c=l[0],h=l[1],d=this.createHttpParams(h);return d=d.set("request_uri",e),d=d.append("client_id",s),`${c}?${d}`}getAuthorizeUrl(e,t){return e?this.flowHelper.isCurrentFlowCodeFlow(e)?this.createUrlCodeFlowAuthorize(e,t):p(this.createUrlImplicitFlowAuthorize(e,t)||""):p(null)}getEndSessionEndpoint(e){let i=this.storagePersistenceService.read("authWellKnownEndPoints",e)?.endSessionEndpoint;if(!i)return{url:"",existingParams:""};let n=i.split("?"),s=n[0],l=n[1]??"";return{url:s,existingParams:l}}getEndSessionUrl(e,t){if(!e)return null;let i=this.storagePersistenceService.getIdToken(e),{customParamsEndSessionRequest:n}=e,s=_(_({},n),t);return this.createEndSessionUrl(i,e,s)}createRevocationEndpointBodyAccessToken(e,t){let i=this.getClientId(t);if(!i)return null;let n=this.createHttpParams();return n=n.set("client_id",i),n=n.set("token",e),n=n.set("token_type_hint","access_token"),n.toString()}createRevocationEndpointBodyRefreshToken(e,t){let i=this.getClientId(t);if(!i)return null;let n=this.createHttpParams();return n=n.set("client_id",i),n=n.set("token",e),n=n.set("token_type_hint","refresh_token"),n.toString()}getRevocationEndpointUrl(e){let i=this.storagePersistenceService.read("authWellKnownEndPoints",e)?.revocationEndpoint;return i?i.split("?")[0]:null}createBodyForCodeFlowCodeRequest(e,t,i){let n=this.getClientId(t);if(!n)return null;let s=this.createHttpParams();if(s=s.set("grant_type","authorization_code"),s=s.set("client_id",n),!t.disablePkce){let h=this.flowsDataService.getCodeVerifier(t);if(!h)return this.loggerService.logError(t,"CodeVerifier is not set ",h),null;s=s.set("code_verifier",h)}s=s.set("code",e),i&&(s=this.appendCustomParams(_({},i),s));let l=this.getSilentRenewUrl(t);if(this.flowsDataService.isSilentRenewRunning(t)&&l)return s=s.set("redirect_uri",l),s.toString();let c=this.getRedirectUrl(t);return c?(s=s.set("redirect_uri",c),s.toString()):null}createBodyForCodeFlowRefreshTokensRequest(e,t,i){let n=this.getClientId(t);if(!n)return null;let s=this.createHttpParams();return s=s.set("grant_type","refresh_token"),s=s.set("client_id",n),s=s.set("refresh_token",e),i&&(s=this.appendCustomParams(_({},i),s)),s.toString()}createBodyForParCodeFlowRequest(e,t){let i=this.getRedirectUrl(e,t);if(!i)return p(null);let n=this.flowsDataService.getExistingOrCreateAuthStateControl(e),s=this.flowsDataService.createNonce(e);this.loggerService.logDebug(e,"Authorize created. adding myautostate: "+n);let l=this.flowsDataService.createCodeVerifier(e);return this.jwtWindowCryptoService.generateCodeChallenge(l).pipe(b(c=>{let{clientId:h,responseType:d,scope:m,hdParam:v,customParamsAuthRequest:S}=e,f=this.createHttpParams("");return f=f.set("client_id",h??""),f=f.append("redirect_uri",i),f=f.append("response_type",d??""),f=f.append("scope",m??""),f=f.append("nonce",s),f=f.append("state",n),f=f.append("code_challenge",c),f=f.append("code_challenge_method","S256"),v&&(f=f.append("hd",v)),S&&(f=this.appendCustomParams(_({},S),f)),t?.customParams&&(f=this.appendCustomParams(_({},t.customParams),f)),f.toString()}))}getPostLogoutRedirectUrl(e){let{postLogoutRedirectUri:t}=e;return t||(this.loggerService.logError(e,"could not get postLogoutRedirectUri, was: ",t),null)}createEndSessionUrl(e,t,i){if(this.isAuth0Endpoint(t))return this.composeAuth0Endpoint(t);let{url:n,existingParams:s}=this.getEndSessionEndpoint(t);if(!n)return null;let l=this.createHttpParams(s);e&&(l=l.set("id_token_hint",e));let c=this.getPostLogoutRedirectUrl(t);return c&&(l=l.append("post_logout_redirect_uri",c)),i&&(l=this.appendCustomParams(_({},i),l)),`${n}?${l}`}createAuthorizeUrl(e,t,i,n,s,l,c){let d=this.storagePersistenceService.read("authWellKnownEndPoints",s)?.authorizationEndpoint;if(!d)return this.loggerService.logError(s,`Can not create an authorize URL when authorizationEndpoint is '${d}'`),"";let{clientId:m,responseType:v,scope:S,hdParam:f,customParamsAuthRequest:G}=s;if(!m)return this.loggerService.logError(s,"createAuthorizeUrl could not add clientId because it was: ",m),"";if(!v)return this.loggerService.logError(s,"createAuthorizeUrl could not add responseType because it was: ",v),"";if(!S)return this.loggerService.logError(s,"createAuthorizeUrl could not add scope because it was: ",S),"";let le=d.split("?"),ze=le[0],ft=le[1],R=this.createHttpParams(ft);R=R.set("client_id",m),R=R.append("redirect_uri",t),R=R.append("response_type",v),R=R.append("scope",S),R=R.append("nonce",i),R=R.append("state",n),this.flowHelper.isCurrentFlowCodeFlow(s)&&(R=R.append("code_challenge",e),R=R.append("code_challenge_method","S256"));let gr=_(_({},G),c);return Object.keys(gr).length>0&&(R=this.appendCustomParams(_({},gr),R)),l&&(R=this.overWriteParam(R,"prompt",l)),f&&(R=R.append("hd",f)),`${ze}?${R}`}createUrlImplicitFlowWithSilentRenew(e,t){let i=this.flowsDataService.getExistingOrCreateAuthStateControl(e),n=this.flowsDataService.createNonce(e),s=this.getSilentRenewUrl(e);return s?(this.loggerService.logDebug(e,"RefreshSession created. adding myautostate: ",i),this.storagePersistenceService.read("authWellKnownEndPoints",e)?this.createAuthorizeUrl("",s,n,i,e,"none",t):(this.loggerService.logError(e,"authWellKnownEndpoints is undefined"),null)):null}createUrlCodeFlowWithSilentRenew(e,t){let i=this.flowsDataService.getExistingOrCreateAuthStateControl(e),n=this.flowsDataService.createNonce(e);this.loggerService.logDebug(e,"RefreshSession created. adding myautostate: "+i);let s=this.flowsDataService.createCodeVerifier(e);return this.jwtWindowCryptoService.generateCodeChallenge(s).pipe(b(l=>{let c=this.getSilentRenewUrl(e);return c?this.storagePersistenceService.read("authWellKnownEndPoints",e)?this.createAuthorizeUrl(l,c,n,i,e,"none",t):(this.loggerService.logWarning(e,"authWellKnownEndpoints is undefined"),""):""}))}createUrlImplicitFlowAuthorize(e,t){let i=this.flowsDataService.getExistingOrCreateAuthStateControl(e),n=this.flowsDataService.createNonce(e);this.loggerService.logDebug(e,"Authorize created. adding myautostate: "+i);let s=this.getRedirectUrl(e,t);if(!s)return null;if(this.storagePersistenceService.read("authWellKnownEndPoints",e)){let{customParams:c}=t||{};return this.createAuthorizeUrl("",s,n,i,e,"",c)}return this.loggerService.logError(e,"authWellKnownEndpoints is undefined"),null}createUrlCodeFlowAuthorize(e,t){let i=this.flowsDataService.getExistingOrCreateAuthStateControl(e),n=this.flowsDataService.createNonce(e);this.loggerService.logDebug(e,"Authorize created. adding myautostate: "+i);let s=this.getRedirectUrl(e,t);return s?this.getCodeChallenge(e).pipe(b(l=>{if(this.storagePersistenceService.read("authWellKnownEndPoints",e)){let{customParams:h}=t||{};return this.createAuthorizeUrl(l,s,n,i,e,"",h)}return this.loggerService.logError(e,"authWellKnownEndpoints is undefined"),""})):p(null)}getCodeChallenge(e){if(e.disablePkce)return p("");let t=this.flowsDataService.createCodeVerifier(e);return this.jwtWindowCryptoService.generateCodeChallenge(t)}getRedirectUrl(e,t){let{redirectUrl:i}=e;return t?.redirectUrl&&(i=t.redirectUrl),i||(this.loggerService.logError(e,"could not get redirectUrl, was: ",i),null)}getSilentRenewUrl(e){let{silentRenewUrl:t}=e;return t||(this.loggerService.logError(e,"could not get silentRenewUrl, was: ",t),null)}getClientId(e){let{clientId:t}=e;return t||(this.loggerService.logError(e,"could not get clientId, was: ",t),null)}appendCustomParams(e,t){for(let[i,n]of Object.entries(_({},e)))t=t.append(i,n.toString());return t}overWriteParam(e,t,i){return e.set(t,i)}createHttpParams(e){return e=e??"",new jt({fromString:e,encoder:new Wi})}isAuth0Endpoint(e){let{authority:t,useCustomAuth0Domain:i}=e;return t?t.endsWith(cs)||!!i:!1}composeAuth0Endpoint(e){let{authority:t,clientId:i}=e,n=this.getPostLogoutRedirectUrl(e);return`${t}/v2/logout?client_id=${i}&returnTo=${n}`}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),ds=(()=>{class r{constructor(){this.http=a(ot)}get(e,t){return this.http.get(e,t)}post(e,t,i){return this.http.post(e,t,i)}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),hs="ngsw-bypass",Ge=(()=>{class r{constructor(){this.httpClient=a(ds)}get(e,t,i){let n=this.prepareHeaders(i),s=this.prepareParams(t);return this.httpClient.get(e,{headers:n,params:s})}post(e,t,i,n){let s=n||this.prepareHeaders(),l=this.prepareParams(i);return this.httpClient.post(e??"",t,{headers:s,params:l})}prepareHeaders(e){let t=new nt;return t=t.set("Accept","application/json"),e&&(t=t.set("Authorization","Bearer "+decodeURIComponent(e))),t}prepareParams(e){let t=new jt,{ngswBypass:i}=e;return i&&(t=t.set(hs,"")),t}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),Bn=r=>!!r&&r instanceof Hr&&(r.error instanceof ProgressEvent&&r.error.type==="error"||r.status===0&&!!r.error),us=(()=>{class r{constructor(){this.urlService=a(ye),this.loggerService=a(w),this.tokenValidationService=a(Zt),this.flowsDataService=a(he),this.storagePersistenceService=a(H),this.dataService=a(Ge)}codeFlowCallback(e,t){let i=this.urlService.getUrlParameter(e,"code"),n=this.urlService.getUrlParameter(e,"state"),s=this.urlService.getUrlParameter(e,"session_state");return n?i?(this.loggerService.logDebug(t,"running validation for callback",e),p({code:i,refreshToken:"",state:n,sessionState:s,authResult:null,isRenewProcess:!1,jwtKeys:null,validationResult:null,existingIdToken:null})):(this.loggerService.logDebug(t,"no code in url"),g(()=>new Error("no code in url"))):(this.loggerService.logDebug(t,"no state in url"),g(()=>new Error("no state in url")))}codeFlowCodeRequest(e,t){let i=this.flowsDataService.getAuthStateControl(t);if(!this.tokenValidationService.validateStateFromHashCallback(e.state,i,t))return g(()=>new Error("codeFlowCodeRequest incorrect state"));let l=this.storagePersistenceService.read("authWellKnownEndPoints",t)?.tokenEndpoint;if(!l)return g(()=>new Error("Token Endpoint not defined"));let c=new nt;c=c.set("Content-Type","application/x-www-form-urlencoded");let h=this.urlService.createBodyForCodeFlowCodeRequest(e.code,t,t?.customParamsCodeRequest);return this.dataService.post(l,h,t,c).pipe(T(d=>{if(d){let m=Ie(_({},d),{state:e.state,session_state:e.sessionState});e.authResult=m}return p(e)}),Ft(d=>this.handleRefreshRetry(d,t)),$(d=>{let{authority:m}=t,v=`OidcService code request ${m}`;return this.loggerService.logError(t,v,d),g(()=>new Error(v))}))}handleRefreshRetry(e,t){return e.pipe(je(i=>{if(Bn(i)){let{authority:n,refreshTokenRetryInSeconds:s}=t,l=`OidcService code request ${n} - no internet connection`;return this.loggerService.logWarning(t,l,i),Mt((s??0)*1e3)}return g(()=>i)}))}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),P=(function(r){return r.NotSet="NotSet",r.StatesDoNotMatch="StatesDoNotMatch",r.SignatureFailed="SignatureFailed",r.IncorrectNonce="IncorrectNonce",r.RequiredPropertyMissing="RequiredPropertyMissing",r.MaxOffsetExpired="MaxOffsetExpired",r.IssDoesNotMatchIssuer="IssDoesNotMatchIssuer",r.NoAuthWellKnownEndPoints="NoAuthWellKnownEndPoints",r.IncorrectAud="IncorrectAud",r.IncorrectIdTokenClaimsAfterRefresh="IncorrectIdTokenClaimsAfterRefresh",r.IncorrectAzp="IncorrectAzp",r.TokenExpired="TokenExpired",r.IncorrectAtHash="IncorrectAtHash",r.Ok="Ok",r.LoginRequired="LoginRequired",r.SecureTokenServerError="SecureTokenServerError",r})(P||{}),ms={userData:null,allUserData:[]},ct=(()=>{class r{constructor(){this.userDataInternal$=new At(ms),this.loggerService=a(w),this.tokenHelperService=a(Xt),this.flowHelper=a(Fe),this.oidcDataService=a(Ge),this.storagePersistenceService=a(H),this.eventService=a(Ye)}get userData$(){return this.userDataInternal$.asObservable()}getAndPersistUserDataInStore(e,t,i=!1,n,s){n=n||this.storagePersistenceService.getIdToken(e),s=s||this.tokenHelperService.getPayloadFromToken(n,!1,e);let l=this.getUserDataFromStore(e),c=!!l,h=this.flowHelper.isCurrentFlowImplicitFlowWithAccessToken(e),d=this.flowHelper.isCurrentFlowCodeFlow(e),m=this.storagePersistenceService.getAccessToken(e);if(!(h||d))return this.loggerService.logDebug(e,`authCallback idToken flow with accessToken ${m}`),this.setUserDataToStore(s,e,t),p(s);let{renewUserInfoAfterTokenRenew:v}=e;return!i||v||!c?this.getUserDataOidcFlowAndSave(s.sub,e,t).pipe(T(S=>(this.loggerService.logDebug(e,"Received user data: ",S),S?(this.loggerService.logDebug(e,"accessToken: ",m),p(S)):g(()=>new Error("Received no user data, request failed"))))):p(l)}getUserDataFromStore(e){return e?this.storagePersistenceService.read("userData",e)||null:g(()=>new Error("Please provide a configuration before setting up the module"))}publishUserDataIfExists(e,t){let i=this.getUserDataFromStore(e);i&&this.fireUserDataEvent(e,t,i)}setUserDataToStore(e,t,i){this.storagePersistenceService.write("userData",e,t),this.fireUserDataEvent(t,i,e)}resetUserDataInStore(e,t){this.storagePersistenceService.remove("userData",e),this.fireUserDataEvent(e,t,null)}getUserDataOidcFlowAndSave(e,t,i){return this.getIdentityUserData(t).pipe(b(n=>this.validateUserDataSubIdToken(t,e,n?.sub)?(this.setUserDataToStore(n,t,i),n):(this.loggerService.logWarning(t,"User data sub does not match sub in id_token, resetting"),this.resetUserDataInStore(t,i),null)))}getIdentityUserData(e){let t=this.storagePersistenceService.getAccessToken(e),i=this.storagePersistenceService.read("authWellKnownEndPoints",e);if(!i)return this.loggerService.logWarning(e,"init check session: authWellKnownEndpoints is undefined"),g(()=>new Error("authWellKnownEndpoints is undefined"));let n=i.userInfoEndpoint;return n?this.oidcDataService.get(n,e,t).pipe(et(2)):(this.loggerService.logError(e,"init check session: authWellKnownEndpoints.userinfo_endpoint is undefined; set auto_userinfo = false in config"),g(()=>new Error("authWellKnownEndpoints.userinfo_endpoint is undefined")))}validateUserDataSubIdToken(e,t,i){return!t||!i?!1:t.toString()!==i.toString()?(this.loggerService.logDebug(e,"validateUserDataSubIdToken failed",t,i),!1):!0}fireUserDataEvent(e,t,i){let n=this.composeSingleOrMultipleUserDataObject(e,t,i);this.userDataInternal$.next(n);let{configId:s}=e;this.eventService.fireEvent(de.UserDataChanged,{configId:s,userData:i})}composeSingleOrMultipleUserDataObject(e,t,i){if(!(t.length>1)){let{configId:l}=e;return this.composeSingleUserDataResult(l??"",i)}return{userData:null,allUserData:t.map(l=>{let c=e.configId??"",h=l.configId??"";if(this.currentConfigIsToUpdate(c,l))return{configId:h,userData:i};let d=this.storagePersistenceService.read("userData",l)||null;return{configId:h,userData:d}})}}composeSingleUserDataResult(e,t){return{userData:t,allUserData:[{configId:e,userData:t}]}}currentConfigIsToUpdate(e,t){return t.configId===e}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),Le=(()=>{class r{constructor(){this.loggerService=a(w),this.userService=a(ct),this.flowsDataService=a(he),this.authStateService=a(ve)}resetAuthorizationData(e,t){e&&(this.userService.resetUserDataInStore(e,t),this.flowsDataService.resetStorageFlowData(e),this.authStateService.setUnauthenticatedAndFireEvent(e,t),this.loggerService.logDebug(e,"Local Login information cleaned up and event fired"))}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),ps=(()=>{class r{constructor(){this.loggerService=a(w),this.storagePersistenceService=a(H),this.dataService=a(Ge)}getSigningKeys(e){let i=this.storagePersistenceService.read("authWellKnownEndPoints",e)?.jwksUri;if(!i){let n=`getSigningKeys: authWellKnownEndpoints.jwksUri is: '${i}'`;return this.loggerService.logWarning(e,n),g(()=>new Error(n))}return this.loggerService.logDebug(e,"Getting signinkeys from ",i),this.dataService.get(i,e).pipe(et(2),$(n=>this.handleErrorGetSigningKeys(n,e)))}handleErrorGetSigningKeys(e,t){let i="";if(e instanceof jr){let n=e.body||{},s=JSON.stringify(n),{status:l,statusText:c}=e;i=`${l||""} - ${c||""} ${s||""}`}else{let{message:n}=e;i=n||`${e}`}return this.loggerService.logError(t,i),g(()=>new Error(i))}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),An="jwtKeys",gs=(()=>{class r{constructor(){this.loggerService=a(w),this.authStateService=a(ve),this.flowsDataService=a(he),this.signInKeyDataService=a(ps),this.storagePersistenceService=a(H),this.resetAuthDataService=a(Le),this.document=a(D)}callbackHistoryAndResetJwtKeys(e,t,i){let n=_({},e.authResult);if(!this.responseHasIdToken(e)){let s=this.storagePersistenceService.getIdToken(t);n=Ie(_({},n),{id_token:s})}if(this.storagePersistenceService.write("authnResult",n,t),t.allowUnsafeReuseRefreshToken&&e.authResult?.refresh_token&&this.storagePersistenceService.write("reusable_refresh_token",e.authResult.refresh_token,t),this.historyCleanUpTurnedOn(t)&&!e.isRenewProcess?this.resetBrowserHistory():this.loggerService.logDebug(t,"history clean up inactive"),e.authResult?.error){let s=`AuthCallback AuthResult came with error: ${e.authResult.error}`;return this.loggerService.logDebug(t,s),this.resetAuthDataService.resetAuthorizationData(t,i),this.flowsDataService.setNonce("",t),this.handleResultErrorFromCallback(e.authResult,e.isRenewProcess,t.configId),g(()=>new Error(s))}return this.loggerService.logDebug(t,`AuthResult '${JSON.stringify(e.authResult,null,2)}'.
      AuthCallback created, begin token validation`),this.signInKeyDataService.getSigningKeys(t).pipe(ce(s=>this.storeSigningKeys(s,t)),$(s=>{let l=this.readSigningKeys(t);return l?(this.loggerService.logWarning(t,"Failed to retrieve signing keys, fallback to stored keys"),p(l)):g(()=>new Error(s))}),T(s=>{if(s)return e.jwtKeys=s,p(e);let l="Failed to retrieve signing key";return this.loggerService.logWarning(t,l),g(()=>new Error(l))}),$(s=>{let l=`Failed to retrieve signing key with error: ${s}`;return this.loggerService.logWarning(t,l),g(()=>new Error(l))}))}responseHasIdToken(e){return!!e?.authResult?.id_token}handleResultErrorFromCallback(e,t,i){let n=P.SecureTokenServerError;e&&typeof e=="object"&&"error"in e&&e.error==="login_required"&&(n=P.LoginRequired),this.authStateService.updateAndPublishAuthState({isAuthenticated:!1,validationResult:n,isRenewProcess:t,configId:i})}historyCleanUpTurnedOn(e){let{historyCleanupOff:t}=e;return!t}resetBrowserHistory(){this.document.defaultView?.history.replaceState({},this.document.title,this.document.defaultView.location.origin+this.document.defaultView.location.pathname)}storeSigningKeys(e,t){this.storagePersistenceService.write(An,e,t)}readSigningKeys(e){return this.storagePersistenceService.read(An,e)}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),fs=(()=>{class r{constructor(){this.loggerService=a(w),this.resetAuthDataService=a(Le),this.flowsDataService=a(he),this.document=a(D)}implicitFlowCallback(e,t,i){let n=this.flowsDataService.isSilentRenewRunning(e);this.loggerService.logDebug(e,"BEGIN callback, no auth data"),n||this.resetAuthDataService.resetAuthorizationData(e,t),i=i||this.document.location.hash.substring(1);let l={code:"",refreshToken:"",state:"",sessionState:null,authResult:i.split("&").reduce((c,h)=>{let d=h.split("=");return c[d.shift()]=d.join("="),c},{}),isRenewProcess:n,jwtKeys:null,validationResult:null,existingIdToken:null};return p(l)}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),vs=(()=>{class r{constructor(){this.loggerService=a(w),this.authStateService=a(ve),this.flowsDataService=a(he)}refreshSessionWithRefreshTokens(e){let t=this.flowsDataService.getExistingOrCreateAuthStateControl(e);this.loggerService.logDebug(e,"RefreshSession created. Adding myautostate: "+t);let i=this.authStateService.getRefreshToken(e),n=this.authStateService.getIdToken(e);if(i){let s={code:"",refreshToken:i,state:t,sessionState:null,authResult:null,isRenewProcess:!0,jwtKeys:null,validationResult:null,existingIdToken:n};return this.loggerService.logDebug(e,"found refresh code, obtaining new credentials with refresh code"),this.flowsDataService.setNonce(Zt.refreshTokenNoncePlaceholder,e),p(s)}else{let s="no refresh token found, please login";return this.loggerService.logError(e,s),g(()=>new Error(s))}}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),_s=(()=>{class r{constructor(){this.urlService=a(ye),this.loggerService=a(w),this.dataService=a(Ge),this.storagePersistenceService=a(H)}refreshTokensRequestTokens(e,t,i){let n=new nt;n=n.set("Content-Type","application/x-www-form-urlencoded");let l=this.storagePersistenceService.read("authWellKnownEndPoints",t)?.tokenEndpoint;if(!l)return g(()=>new Error("Token Endpoint not defined"));let c=this.urlService.createBodyForCodeFlowRefreshTokensRequest(e.refreshToken,t,i);return this.dataService.post(l,c,t,n).pipe(T(h=>(this.loggerService.logDebug(t,`token refresh response: ${h}`),h&&(h.state=e.state),e.authResult=h,p(e))),Ft(h=>this.handleRefreshRetry(h,t)),$(h=>{let{authority:d}=t,m=`OidcService code request ${d}`;return this.loggerService.logError(t,m,h),g(()=>new Error(m))}))}handleRefreshRetry(e,t){return e.pipe(je(i=>{if(Bn(i)){let{authority:n,refreshTokenRetryInSeconds:s}=t,l=`OidcService code request ${n} - no internet connection`;return this.loggerService.logWarning(t,l,i),Mt((s??0)*1e3)}return g(()=>i)}))}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),bs=(()=>{class r{isStringEqualOrNonOrderedArrayEqual(e,t){return this.isNullOrUndefined(e)||this.isNullOrUndefined(t)||this.oneValueIsStringAndTheOtherIsArray(e,t)?!1:this.bothValuesAreStrings(e,t)?e===t:this.arraysHaveEqualContent(e,t)}areEqual(e,t){if(!e||!t)return!1;if(this.bothValuesAreArrays(e,t))return this.arraysStrictEqual(e,t);if(this.bothValuesAreStrings(e,t))return e===t;if(this.bothValuesAreObjects(e,t))return JSON.stringify(e).toLowerCase()===JSON.stringify(t).toLowerCase();if(this.oneValueIsStringAndTheOtherIsArray(e,t)){if(Array.isArray(e)&&this.valueIsString(t))return e[0]===t;if(Array.isArray(t)&&this.valueIsString(e))return t[0]===e}return e===t}oneValueIsStringAndTheOtherIsArray(e,t){return Array.isArray(e)&&this.valueIsString(t)||Array.isArray(t)&&this.valueIsString(e)}bothValuesAreObjects(e,t){return this.valueIsObject(e)&&this.valueIsObject(t)}bothValuesAreStrings(e,t){return this.valueIsString(e)&&this.valueIsString(t)}bothValuesAreArrays(e,t){return Array.isArray(e)&&Array.isArray(t)}valueIsString(e){return typeof e=="string"||e instanceof String}valueIsObject(e){return typeof e=="object"}arraysStrictEqual(e,t){if(e.length!==t.length)return!1;for(let i=e.length;i--;)if(e[i]!==t[i])return!1;return!0}arraysHaveEqualContent(e,t){return e.length!==t.length?!1:e.some(i=>t.includes(i))}isNullOrUndefined(e){return e==null}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),Gt=class{constructor(o="",e="",t=!1,i={at_hash:""},n=P.NotSet){this.accessToken=o,this.idToken=e,this.authResponseIsValid=t,this.decodedIdToken=i,this.state=n}},ws=(()=>{class r{constructor(){this.storagePersistenceService=a(H),this.tokenValidationService=a(Zt),this.tokenHelperService=a(Xt),this.loggerService=a(w),this.equalityService=a(bs),this.flowHelper=a(Fe)}getValidatedStateResult(e,t){let i=!!e.authResult?.error;return!!!e||i?p(new Gt("","",!1,{})):this.validateState(e,t)}validateState(e,t){let i=new Gt,n=this.storagePersistenceService.read("authStateControl",t);if(!this.tokenValidationService.validateStateFromHashCallback(e.authResult?.state,n,t))return this.loggerService.logWarning(t,"authCallback incorrect state"),i.state=P.StatesDoNotMatch,this.handleUnsuccessfulValidation(t),p(i);let s=this.flowHelper.isCurrentFlowImplicitFlowWithAccessToken(t),l=this.flowHelper.isCurrentFlowCodeFlow(t);if((s||l)&&(i.accessToken=e.authResult?.access_token??""),t.disableIdTokenValidation)return i.state=P.Ok,i.authResponseIsValid=!0,p(i);let h=e.isRenewProcess&&!!e.refreshToken,d=!!e.authResult?.id_token;if(h&&!d)return i.state=P.Ok,i.authResponseIsValid=!0,p(i);if(d){let{clientId:m,issValidationOff:v,maxIdTokenIatOffsetAllowedInSeconds:S,disableIatOffsetValidation:f,ignoreNonceAfterRefresh:G,renewTimeBeforeTokenExpiresInSeconds:le}=t;return i.idToken=e.authResult?.id_token??"",i.decodedIdToken=this.tokenHelperService.getPayloadFromToken(i.idToken,!1,t),this.tokenValidationService.validateSignatureIdToken(i.idToken,e.jwtKeys,t).pipe(je(ze=>{if(!ze)return this.loggerService.logDebug(t,"authCallback Signature validation failed id_token"),i.state=P.SignatureFailed,this.handleUnsuccessfulValidation(t),p(i);let ft=this.storagePersistenceService.read("authNonce",t);if(!this.tokenValidationService.validateIdTokenNonce(i.decodedIdToken,ft,!!G,t))return this.loggerService.logWarning(t,"authCallback incorrect nonce, did you call the checkAuth() method multiple times?"),i.state=P.IncorrectNonce,this.handleUnsuccessfulValidation(t),p(i);if(!this.tokenValidationService.validateRequiredIdToken(i.decodedIdToken,t))return this.loggerService.logDebug(t,"authCallback Validation, one of the REQUIRED properties missing from id_token"),i.state=P.RequiredPropertyMissing,this.handleUnsuccessfulValidation(t),p(i);if(!h&&!this.tokenValidationService.validateIdTokenIatMaxOffset(i.decodedIdToken,S??120,!!f,t))return this.loggerService.logWarning(t,"authCallback Validation, iat rejected id_token was issued too far away from the current time"),i.state=P.MaxOffsetExpired,this.handleUnsuccessfulValidation(t),p(i);let R=this.storagePersistenceService.read("authWellKnownEndPoints",t);if(R){if(v)this.loggerService.logDebug(t,"iss validation is turned off, this is not recommended!");else if(!v&&!this.tokenValidationService.validateIdTokenIss(i.decodedIdToken,R.issuer,t))return this.loggerService.logWarning(t,"authCallback incorrect iss does not match authWellKnownEndpoints issuer"),i.state=P.IssDoesNotMatchIssuer,this.handleUnsuccessfulValidation(t),p(i)}else return this.loggerService.logWarning(t,"authWellKnownEndpoints is undefined"),i.state=P.NoAuthWellKnownEndPoints,this.handleUnsuccessfulValidation(t),p(i);return this.tokenValidationService.validateIdTokenAud(i.decodedIdToken,m,t)?this.tokenValidationService.validateIdTokenAzpExistsIfMoreThanOneAud(i.decodedIdToken)?this.tokenValidationService.validateIdTokenAzpValid(i.decodedIdToken,m)?this.isIdTokenAfterRefreshTokenRequestValid(e,i.decodedIdToken,t)?!h&&!this.tokenValidationService.validateIdTokenExpNotExpired(i.decodedIdToken,t,le)?(this.loggerService.logWarning(t,"authCallback id token expired"),i.state=P.TokenExpired,this.handleUnsuccessfulValidation(t),p(i)):this.validateDefault(s,l,i,t,e):(this.loggerService.logWarning(t,"authCallback pre, post id_token claims do not match in refresh"),i.state=P.IncorrectIdTokenClaimsAfterRefresh,this.handleUnsuccessfulValidation(t),p(i)):(this.loggerService.logWarning(t,"authCallback incorrect azp"),i.state=P.IncorrectAzp,this.handleUnsuccessfulValidation(t),p(i)):(this.loggerService.logWarning(t,"authCallback missing azp"),i.state=P.IncorrectAzp,this.handleUnsuccessfulValidation(t),p(i)):(this.loggerService.logWarning(t,"authCallback incorrect aud"),i.state=P.IncorrectAud,this.handleUnsuccessfulValidation(t),p(i))}))}else this.loggerService.logDebug(t,"No id_token found, skipping id_token validation");return this.validateDefault(s,l,i,t,e)}validateDefault(e,t,i,n,s){if(!e&&!t)return i.authResponseIsValid=!0,i.state=P.Ok,this.handleSuccessfulValidation(n),this.handleUnsuccessfulValidation(n),p(i);if(s.authResult?.id_token){let l=this.tokenHelperService.getHeaderFromToken(i.idToken,!1,n);if(t&&!i.decodedIdToken.at_hash)this.loggerService.logDebug(n,"Code Flow active, and no at_hash in the id_token, skipping check!");else return this.tokenValidationService.validateIdTokenAtHash(i.accessToken,i.decodedIdToken.at_hash,l.alg,n).pipe(b(c=>!c||!i.accessToken?(this.loggerService.logWarning(n,"authCallback incorrect at_hash"),i.state=P.IncorrectAtHash,this.handleUnsuccessfulValidation(n),i):(i.authResponseIsValid=!0,i.state=P.Ok,this.handleSuccessfulValidation(n),i)))}return i.authResponseIsValid=!0,i.state=P.Ok,this.handleSuccessfulValidation(n),p(i)}isIdTokenAfterRefreshTokenRequestValid(e,t,i){let{useRefreshToken:n,disableRefreshIdTokenAuthTimeValidation:s}=i;if(!n||!e.existingIdToken)return!0;let l=this.tokenHelperService.getPayloadFromToken(e.existingIdToken,!1,i);return l.iss!==t.iss?(this.loggerService.logDebug(i,`iss do not match: ${l.iss} ${t.iss}`),!1):l.azp!==t.azp?(this.loggerService.logDebug(i,`azp do not match: ${l.azp} ${t.azp}`),!1):l.sub!==t.sub?(this.loggerService.logDebug(i,`sub do not match: ${l.sub} ${t.sub}`),!1):this.equalityService.isStringEqualOrNonOrderedArrayEqual(l?.aud,t?.aud)?s?!0:l.auth_time!==t.auth_time?(this.loggerService.logDebug(i,`auth_time do not match: ${l.auth_time} ${t.auth_time}`),!1):!0:(this.loggerService.logDebug(i,`aud in new id_token is not valid: '${l?.aud}' '${t.aud}'`),!1)}handleSuccessfulValidation(e){let{autoCleanStateAfterAuthentication:t}=e;this.storagePersistenceService.write("authNonce",null,e),t&&this.storagePersistenceService.write("authStateControl","",e),this.loggerService.logDebug(e,"authCallback token(s) validated, continue")}handleUnsuccessfulValidation(e){let{autoCleanStateAfterAuthentication:t}=e;this.storagePersistenceService.write("authNonce",null,e),t&&this.storagePersistenceService.write("authStateControl","",e),this.loggerService.logDebug(e,"authCallback token(s) invalid")}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),ys=(()=>{class r{constructor(){this.loggerService=a(w),this.stateValidationService=a(ws),this.authStateService=a(ve),this.resetAuthDataService=a(Le),this.document=a(D)}callbackStateValidation(e,t,i){return this.stateValidationService.getValidatedStateResult(e,t).pipe(b(n=>{if(e.validationResult=n,n.authResponseIsValid)return this.authStateService.setAuthorizationData(n.accessToken,e.authResult,t,i),e;{let s=`authorizedCallback, token(s) validation failed, resetting. Hash: ${this.document.location.hash}`;throw this.loggerService.logWarning(t,s),this.resetAuthDataService.resetAuthorizationData(t,i),this.publishUnauthorizedState(e.validationResult,e.isRenewProcess,t.configId),new Error(s)}}))}publishUnauthorizedState(e,t,i){this.authStateService.updateAndPublishAuthState({isAuthenticated:!1,validationResult:e.state,isRenewProcess:t,configId:i})}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),Ss=(()=>{class r{constructor(){this.loggerService=a(w),this.authStateService=a(ve),this.flowsDataService=a(he),this.userService=a(ct),this.resetAuthDataService=a(Le)}callbackUser(e,t,i){let{isRenewProcess:n,validationResult:s,authResult:l,refreshToken:c}=e,{autoUserInfo:h,renewUserInfoAfterTokenRenew:d}=t;return h?this.userService.getAndPersistUserDataInStore(t,i,n,s?.idToken,s?.decodedIdToken).pipe(T(m=>{if(m)return c||this.flowsDataService.setSessionState(l?.session_state,t),this.publishAuthState(s,n,t.configId),p(e);{this.resetAuthDataService.resetAuthorizationData(t,i),this.publishUnauthenticatedState(s,n,t.configId);let v=`Called for userData but they were ${m}`;return this.loggerService.logWarning(t,v),g(()=>new Error(v))}}),$(m=>{let v=`Failed to retrieve user info with error:  ${m}`;return this.loggerService.logWarning(t,v),g(()=>new Error(v))})):((!n||d)&&s?.decodedIdToken&&this.userService.setUserDataToStore(s.decodedIdToken,t,i),!n&&!c&&this.flowsDataService.setSessionState(l?.session_state,t),this.publishAuthState(s,n,t.configId),p(e))}publishAuthState(e,t,i){e&&this.authStateService.updateAndPublishAuthState({isAuthenticated:!0,validationResult:e.state,isRenewProcess:t,configId:i})}publishUnauthenticatedState(e,t,i){e&&this.authStateService.updateAndPublishAuthState({isAuthenticated:!1,validationResult:e.state,isRenewProcess:t,configId:i})}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),Qt=(()=>{class r{constructor(){this.codeFlowCallbackHandlerService=a(us),this.implicitFlowCallbackHandlerService=a(fs),this.historyJwtKeysCallbackHandlerService=a(gs),this.userHandlerService=a(Ss),this.stateValidationCallbackHandlerService=a(ys),this.refreshSessionCallbackHandlerService=a(vs),this.refreshTokenCallbackHandlerService=a(_s)}processCodeFlowCallback(e,t,i){return this.codeFlowCallbackHandlerService.codeFlowCallback(e,t).pipe(C(n=>this.codeFlowCallbackHandlerService.codeFlowCodeRequest(n,t)),C(n=>this.historyJwtKeysCallbackHandlerService.callbackHistoryAndResetJwtKeys(n,t,i)),C(n=>this.stateValidationCallbackHandlerService.callbackStateValidation(n,t,i)),C(n=>this.userHandlerService.callbackUser(n,t,i)))}processSilentRenewCodeFlowCallback(e,t,i){return this.codeFlowCallbackHandlerService.codeFlowCodeRequest(e,t).pipe(C(n=>this.historyJwtKeysCallbackHandlerService.callbackHistoryAndResetJwtKeys(n,t,i)),C(n=>this.stateValidationCallbackHandlerService.callbackStateValidation(n,t,i)),C(n=>this.userHandlerService.callbackUser(n,t,i)))}processImplicitFlowCallback(e,t,i){return this.implicitFlowCallbackHandlerService.implicitFlowCallback(e,t,i).pipe(C(n=>this.historyJwtKeysCallbackHandlerService.callbackHistoryAndResetJwtKeys(n,e,t)),C(n=>this.stateValidationCallbackHandlerService.callbackStateValidation(n,e,t)),C(n=>this.userHandlerService.callbackUser(n,e,t)))}processRefreshToken(e,t,i){return this.refreshSessionCallbackHandlerService.refreshSessionWithRefreshTokens(e).pipe(C(n=>this.refreshTokenCallbackHandlerService.refreshTokensRequestTokens(n,e,i)),C(n=>this.historyJwtKeysCallbackHandlerService.callbackHistoryAndResetJwtKeys(n,e,t)),C(n=>this.stateValidationCallbackHandlerService.callbackStateValidation(n,e,t)),C(n=>this.userHandlerService.callbackUser(n,e,t)))}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),St=(()=>{class r{constructor(){this.runTokenValidationRunning=null,this.zone=a(B),this.document=a(D)}isTokenValidationRunning(){return!!this.runTokenValidationRunning}stopPeriodicTokenCheck(){this.runTokenValidationRunning&&(this.runTokenValidationRunning.unsubscribe(),this.runTokenValidationRunning=null)}startPeriodicTokenCheck(e){let t=e*1e3;return new We(i=>{let n;return this.zone.runOutsideAngular(()=>{n=this.document?.defaultView?.setInterval(()=>this.zone.run(()=>i.next()),t)}),()=>{clearInterval(n)}})}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),ks=(()=>{class r{constructor(){this.flowsService=a(Qt),this.router=a(st),this.flowsDataService=a(he),this.intervalService=a(St)}authenticatedCallbackWithCode(e,t,i){let n=this.flowsDataService.isSilentRenewRunning(t),{triggerAuthorizationResultEvent:s}=t,l=t.postLoginRoute||"/",c=t.unauthorizedRoute||"/";return this.flowsService.processCodeFlowCallback(e,t,i).pipe(ce(h=>{this.flowsDataService.resetCodeFlowInProgress(t),!s&&!h.isRenewProcess&&this.router.navigateByUrl(l)}),$(h=>(this.flowsDataService.resetSilentRenewRunning(t),this.flowsDataService.resetCodeFlowInProgress(t),this.intervalService.stopPeriodicTokenCheck(),!s&&!n&&this.router.navigateByUrl(c),g(()=>new Error(h)))))}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),Nn=(()=>{class r{constructor(){this.flowsService=a(Qt),this.router=a(st),this.flowsDataService=a(he),this.intervalService=a(St)}authenticatedImplicitFlowCallback(e,t,i){let n=this.flowsDataService.isSilentRenewRunning(e),s=!!e.triggerAuthorizationResultEvent,l=e.postLoginRoute??"",c=e.unauthorizedRoute??"";return this.flowsService.processImplicitFlowCallback(e,t,i).pipe(ce(h=>{!s&&!h.isRenewProcess&&this.router.navigateByUrl(l)}),$(h=>(this.flowsDataService.resetSilentRenewRunning(e),this.intervalService.stopPeriodicTokenCheck(),!s&&!n&&this.router.navigateByUrl(c),g(()=>new Error(h)))))}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),Un=(()=>{class r{constructor(){this.urlService=a(ye),this.flowHelper=a(Fe),this.implicitFlowCallbackService=a(Nn),this.codeFlowCallbackService=a(ks),this.stsCallbackInternal$=new k}get stsCallback$(){return this.stsCallbackInternal$.asObservable()}isCallback(e,t){return e?this.urlService.isCallbackFromSts(e,t):!1}handleCallbackAndFireEvents(e,t,i){let n=new We;if(this.flowHelper.isCurrentFlowCodeFlow(t))n=this.codeFlowCallbackService.authenticatedCallbackWithCode(e,t,i);else if(this.flowHelper.isCurrentFlowAnyImplicitFlow(t))if(e?.includes("#")){let s=e.substring(e.indexOf("#")+1);n=this.implicitFlowCallbackService.authenticatedImplicitFlowCallback(t,i,s)}else n=this.implicitFlowCallbackService.authenticatedImplicitFlowCallback(t,i);return n.pipe(ce(()=>this.stsCallbackInternal$.next()))}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),Cs=(()=>{class r{constructor(){this.platformId=a(Dr)}isBrowser(){return zr(this.platformId)}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),Pn="/.well-known/openid-configuration",xs=(()=>{class r{constructor(){this.loggerService=a(w),this.http=a(Ge)}getWellKnownEndPointsForConfig(e){let{authWellknownEndpointUrl:t,authWellknownEndpoints:i={}}=e;if(!t){let n="no authWellknownEndpoint given!";return this.loggerService.logError(e,n),g(()=>new Error(n))}return this.getWellKnownDocument(t,e).pipe(b(n=>({issuer:n.issuer,jwksUri:n.jwks_uri,authorizationEndpoint:n.authorization_endpoint,tokenEndpoint:n.token_endpoint,userInfoEndpoint:n.userinfo_endpoint,endSessionEndpoint:n.end_session_endpoint,checkSessionIframe:n.check_session_iframe,revocationEndpoint:n.revocation_endpoint,introspectionEndpoint:n.introspection_endpoint,parEndpoint:n.pushed_authorization_request_endpoint})),b(n=>_(_({},n),i)),ce(n=>{let s=n.issuer||"",l=e.authWellknownUrlSuffix||Pn,c=t.replace(l,"");if(s!==c&&s!==`${c}/`){let h=`Issuer mismatch. Well known issuer ${n.issuer} does not match configured well known url ${t}`;throw this.loggerService.logError(e,h),new Error(h)}}))}getWellKnownDocument(e,t){let i=e,n=t.authWellknownUrlSuffix||Pn;return e.includes(n)||(i=`${e}${n}`),this.http.get(i,t).pipe(et(2))}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),dt=(()=>{class r{constructor(){this.dataService=a(xs),this.publicEventsService=a(Ye),this.storagePersistenceService=a(H)}storeWellKnownEndpoints(e,t){this.storagePersistenceService.write("authWellKnownEndPoints",t,e)}queryAndStoreAuthWellKnownEndPoints(e){return e?this.dataService.getWellKnownEndPointsForConfig(e).pipe(ce(t=>this.storeWellKnownEndpoints(e,t)),$(t=>(this.publicEventsService.fireEvent(de.ConfigLoadingFailed,null),g(()=>new Error(t))))):g(()=>new Error("Please provide a configuration before setting up the module"))}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),Ds={authority:"https://please_set",authWellknownEndpointUrl:"",authWellknownEndpoints:void 0,redirectUrl:"https://please_set",checkRedirectUrlWhenCheckingIfIsCallback:!0,clientId:"please_set",responseType:"code",scope:"openid email profile",hdParam:"",postLogoutRedirectUri:"https://please_set",startCheckSession:!1,silentRenew:!1,silentRenewUrl:"https://please_set",silentRenewTimeoutInSeconds:20,renewTimeBeforeTokenExpiresInSeconds:0,useRefreshToken:!1,usePushedAuthorisationRequests:!1,ignoreNonceAfterRefresh:!1,postLoginRoute:"/",forbiddenRoute:"/forbidden",unauthorizedRoute:"/unauthorized",autoUserInfo:!0,autoCleanStateAfterAuthentication:!0,triggerAuthorizationResultEvent:!1,logLevel:yt.Warn,issValidationOff:!1,historyCleanupOff:!1,maxIdTokenIatOffsetAllowedInSeconds:120,disableIatOffsetValidation:!1,customParamsAuthRequest:{},customParamsRefreshTokenRequest:{},customParamsEndSessionRequest:{},customParamsCodeRequest:{},disableRefreshIdTokenAuthTimeValidation:!1,triggerRefreshWhenIdTokenExpired:!0,tokenRefreshInSeconds:4,refreshTokenRetryInSeconds:3,ngswBypass:!1},ht={result:!0,messages:[],level:"none"},Rs=r=>r.authority?ht:{result:!1,messages:["The authority URL MUST be provided in the configuration! "],level:"error"},Is=r=>r.clientId?ht:{result:!1,messages:["The clientId is required and missing from your config!"],level:"error"},Es=r=>{if(!r)return"";let{authority:o,clientId:e,scope:t}=r;return`${o}${e}${t}`},Ts=r=>new Set(r).size!==r.length,As=r=>{let o=r.map(i=>Es(i));return o.some(i=>i==="")?{result:!1,messages:["Please make sure you add an object with a 'config' property: ....({ config }) instead of ...(config)"],level:"error"}:Ts(o)?{result:!1,messages:["You added multiple configs with the same authority, clientId and scope"],level:"warning"}:ht},Ps=r=>r.redirectUrl?ht:{result:!1,messages:["The redirectUrl is required and missing from your config"],level:"error"},Ms=r=>{let o=r.silentRenew,e=r.useRefreshToken,t=r.silentRenewUrl;return o&&!e&&!t?{result:!1,messages:["Please provide a silent renew URL if using renew and not refresh tokens"],level:"error"}:ht},Os=r=>{let o=r.useRefreshToken,e=r.silentRenew,i=(r.scope||"").split(" ").includes("offline_access");return o&&e&&!i?{result:!1,messages:["When using silent renew and refresh tokens please set the `offline_access` scope"],level:"warning"}:ht},Fs=[Rs,Os,Ps,Is,Ms],Ls=[As],Vs=(()=>{class r{constructor(){this.loggerService=a(w)}validateConfigs(e){return this.validateConfigsInternal(e??[],Ls)}validateConfig(e){return this.validateConfigInternal(e,Fs)}validateConfigsInternal(e,t){if(e.length===0)return!1;let i=t.map(s=>s(e)),n=0;return e.forEach(s=>{let l=this.processValidationResultsAndGetErrorCount(i,s);n+=l}),n===0}validateConfigInternal(e,t){let i=t.map(s=>s(e));return this.processValidationResultsAndGetErrorCount(i,e)===0}processValidationResultsAndGetErrorCount(e,t){let i=e.filter(l=>l.messages.length>0),n=this.getAllMessagesOfType("error",i),s=this.getAllMessagesOfType("warning",i);return n.forEach(l=>this.loggerService.logError(t,l)),s.forEach(l=>this.loggerService.logWarning(t,l)),n.length}getAllMessagesOfType(e,t){return t.filter(n=>n.level===e).map(n=>n.messages).reduce((n,s)=>n.concat(s),[])}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),$i=(()=>{class r{constructor(){this.configsInternal={},this.loggerService=a(w),this.publicEventsService=a(Ye),this.storagePersistenceService=a(H),this.platformProvider=a(Cs),this.authWellKnownService=a(dt),this.loader=a(Yt),this.configValidationService=a(Vs)}hasManyConfigs(){return Object.keys(this.configsInternal).length>1}getAllConfigurations(){return Object.values(this.configsInternal)}getOpenIDConfiguration(e){return this.configsAlreadySaved()?p(this.getConfig(e)):this.getOpenIDConfigurations(e).pipe(b(t=>t.currentConfig))}getOpenIDConfigurations(e){return this.loadConfigs().pipe(C(t=>this.prepareAndSaveConfigs(t)),b(t=>({allConfigs:t,currentConfig:this.getConfig(e)})))}hasAtLeastOneConfig(){return Object.keys(this.configsInternal).length>0}saveConfig(e){let{configId:t}=e;this.configsInternal[t]=e}loadConfigs(){return this.loader.loadConfigs()}configsAlreadySaved(){return this.hasAtLeastOneConfig()}getConfig(e){if(e){let i=this.configsInternal[e];return!i&&Br()&&console.warn(`[angular-auth-oidc-client] No configuration found for config id '${e}'.`),i||null}let[,t]=Object.entries(this.configsInternal)[0]||[[null,null]];return t||null}prepareAndSaveConfigs(e){if(!this.configValidationService.validateConfigs(e))return p([]);this.createUniqueIds(e);let t=e.map(i=>this.handleConfig(i));return Te(t).pipe(b(i=>i.filter(n=>!!n)),b(i=>i))}createUniqueIds(e){e.forEach((t,i)=>{t.configId||(t.configId=`${i}-${t.clientId}`)})}handleConfig(e){if(!this.configValidationService.validateConfig(e))return this.loggerService.logError(e,"Validation of config rejected with errors. Config is NOT set."),p(null);e.authWellknownEndpointUrl||(e.authWellknownEndpointUrl=e.authority);let t=this.prepareConfig(e);this.saveConfig(t);let i=this.enhanceConfigWithWellKnownEndpoint(t);return this.publicEventsService.fireEvent(de.ConfigLoaded,i),p(t)}enhanceConfigWithWellKnownEndpoint(e){let t=this.storagePersistenceService.read("authWellKnownEndPoints",e);if(t)return e.authWellknownEndpoints=t,e;let i=e.authWellknownEndpoints;return i&&(this.authWellKnownService.storeWellKnownEndpoints(e,i),e.authWellknownEndpoints=i),e}prepareConfig(e){let t=_(_({},Ds),e);return this.setSpecialCases(t),t}setSpecialCases(e){this.platformProvider.isBrowser()||(e.startCheckSession=!1,e.silentRenew=!1,e.useRefreshToken=!1,e.usePushedAuthorisationRequests=!1)}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),zn=(()=>{class r{constructor(){this.document=a(D),this.loggerService=a(w)}getExistingIFrame(e){let t=this.getIFrameFromParentWindow(e);if(this.isIFrameElement(t))return t;let i=this.getIFrameFromWindow(e);return this.isIFrameElement(i)?i:null}addIFrameToWindowBody(e,t){let i=this.document.createElement("iframe");return i.id=e,i.title=e,this.loggerService.logDebug(t,i),i.style.display="none",this.document.body.appendChild(i),i}getIFrameFromParentWindow(e){try{let t=this.document.defaultView?.parent.document.getElementById(e);return this.isIFrameElement(t)?t:null}catch{return null}}getIFrameFromWindow(e){let t=this.document.getElementById(e);return this.isIFrameElement(t)?t:null}isIFrameElement(e){return!!e&&e instanceof HTMLIFrameElement}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),Bs="myiFrameForSilentRenew",Wn=r=>`${Bs}_${r}`,Ki=(()=>{class r{constructor(){this.refreshSessionWithIFrameCompletedInternal$=new k,this.loggerService=a(w),this.iFrameService=a(zn),this.flowsService=a(Qt),this.resetAuthDataService=a(Le),this.flowsDataService=a(he),this.authStateService=a(ve),this.flowHelper=a(Fe),this.implicitFlowCallbackService=a(Nn),this.intervalService=a(St)}get refreshSessionWithIFrameCompleted$(){return this.refreshSessionWithIFrameCompletedInternal$.asObservable()}getOrCreateIframe(e){let t=Wn(e.configId),i=this.iFrameService.getExistingIFrame(t);return i?(this.loggerService.logDebug(e,`Using existing iframe: ${t}`),i):(this.loggerService.logDebug(e,`Creating new iframe: ${t}`),this.iFrameService.addIFrameToWindowBody(t,e))}isSilentRenewConfigured(e){let{useRefreshToken:t,silentRenew:i}=e;return!t&&!!i}codeFlowCallbackSilentRenewIframe(e,t,i){let n=new jt({fromString:e[1]}),s=n.get("error");if(s)return this.authStateService.updateAndPublishAuthState({isAuthenticated:!1,validationResult:P.LoginRequired,isRenewProcess:!0,configId:t.configId}),this.resetAuthDataService.resetAuthorizationData(t,i),this.flowsDataService.setNonce("",t),this.intervalService.stopPeriodicTokenCheck(),g(()=>new Error(s));let l=n.get("code")??"",c=n.get("state")??"",h=n.get("session_state"),d={code:l,refreshToken:"",state:c,sessionState:h,authResult:null,isRenewProcess:!0,jwtKeys:null,validationResult:null,existingIdToken:null};return this.flowsService.processSilentRenewCodeFlowCallback(d,t,i).pipe($(m=>(this.intervalService.stopPeriodicTokenCheck(),this.resetAuthDataService.resetAuthorizationData(t,i),g(()=>new Error(m)))))}silentRenewEventHandler(e,t,i){if(this.loggerService.logDebug(t,"silentRenewEventHandler"),!e.detail)return;let n;if(this.flowHelper.isCurrentFlowCodeFlow(t)){let l=e.detail.toString().split("?");n=this.codeFlowCallbackSilentRenewIframe(l,t,i)}else n=this.implicitFlowCallbackService.authenticatedImplicitFlowCallback(t,i,e.detail);n.subscribe({next:({authResult:l})=>{this.refreshSessionWithIFrameCompletedInternal$.next({authResult:l,configId:t.configId,success:!0}),this.flowsDataService.resetSilentRenewRunning(t)},error:l=>{this.loggerService.logError(t,"Error: "+l),this.refreshSessionWithIFrameCompletedInternal$.next({configId:t.configId,success:!1}),this.flowsDataService.resetSilentRenewRunning(t)}})}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),jn=(()=>{class r{constructor(){this.renderer=a(Se).createRenderer(null,null),this.loggerService=a(w),this.urlService=a(ye),this.silentRenewService=a(Ki),this.document=a(D)}refreshSessionWithIframe(e,t,i){return this.loggerService.logDebug(e,"BEGIN refresh session Authorize Iframe renew"),this.urlService.getRefreshSessionSilentRenewUrl(e,i).pipe(T(n=>this.sendAuthorizeRequestUsingSilentRenew(n,e,t)))}sendAuthorizeRequestUsingSilentRenew(e,t,i){let n=this.silentRenewService.getOrCreateIframe(t);return this.initSilentRenewRequest(t,i),this.loggerService.logDebug(t,`sendAuthorizeRequestUsingSilentRenew for URL: ${e}`),new We(s=>{let l=()=>{n.removeEventListener("load",l),this.loggerService.logDebug(t,"removed event listener from IFrame"),s.next(!0),s.complete()};n.addEventListener("load",l),n.contentWindow?.location.replace(e??"")})}initSilentRenewRequest(e,t){let i=Math.random();this.loggerService.logDebug(e,`Creating new silent renew handlers for config: ${e.configId}, instance: ${i}`);let n=this.renderer.listen("window","oidc-silent-renew-init",l=>{let c=l.detail;c.configId===e.configId&&c.instanceId!==i&&(this.loggerService.logDebug(e,`Destroying old handlers for config: ${e.configId} (old instance: ${i}, new instance: ${c.instanceId})`),n(),s())}),s=this.renderer.listen("window","oidc-silent-renew-message",l=>{if(this.shouldProcessRenewMessage(l,e)){let c=this.convertToLegacyEvent(l);this.silentRenewService.silentRenewEventHandler(c,e,t)}});this.document.defaultView?.dispatchEvent(new CustomEvent("oidc-silent-renew-init",{detail:{instanceId:i,configId:e.configId}}))}shouldProcessRenewMessage(e,t){if(!e?.detail)return this.loggerService.logDebug(t,`Silent renew event has no valid payload: ${e?.detail}`),!1;if(e.detail.srcFrameId){let i=Wn(t.configId)===e.detail.srcFrameId;return this.loggerService.logDebug(t,`Silent renew event from frame: ${e.detail.srcFrameId}, current configId: ${t.configId}, processing: ${i}`),i}return this.loggerService.logDebug(t,"Silent renew event without srcFrameId - processing for backward compatibility"),!0}convertToLegacyEvent(e){return e?.detail?.url?new CustomEvent(e.type,{detail:e.detail.url}):e}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),Hn=(()=>{class r{constructor(){this.loggerService=a(w),this.resetAuthDataService=a(Le),this.flowsService=a(Qt),this.intervalService=a(St)}refreshSessionWithRefreshTokens(e,t,i){this.loggerService.logDebug(e,"BEGIN refresh session Authorize");let n=!1;return this.flowsService.processRefreshToken(e,t,i).pipe($(s=>(this.resetAuthDataService.resetAuthorizationData(e,t),n=!0,g(()=>new Error(s)))),yr(()=>n&&this.intervalService.stopPeriodicTokenCheck()))}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),Ns=(()=>{class r{constructor(){this.resetAuthDataService=a(Le),this.flowHelper=a(Fe),this.flowsDataService=a(he),this.loggerService=a(w),this.userService=a(ct),this.authStateService=a(ve),this.refreshSessionIframeService=a(jn),this.refreshSessionRefreshTokenService=a(Hn),this.intervalService=a(St),this.storagePersistenceService=a(H),this.publicEventsService=a(Ye),this.configurationService=a($i)}startTokenValidationPeriodically(e,t){let i=this.getConfigsWithSilentRenewEnabled(e);if(i.length<=0||this.intervalService.isTokenValidationRunning())return;let n=this.getSmallestRefreshTimeFromConfigs(i),s=this.intervalService.startPeriodicTokenCheck(n).pipe(T(()=>{let l={};return i.forEach(c=>{let h=c.configId;l[h]=this.getRefreshEvent(c,e)}),Te(l)}));this.intervalService.runTokenValidationRunning=s.pipe($(l=>g(()=>new Error(l)))).subscribe({next:l=>{for(let[c,h]of Object.entries(l))this.configurationService.getOpenIDConfiguration(c).subscribe(d=>{this.loggerService.logDebug(d,"silent renew, periodic check finished!"),this.flowHelper.isCurrentFlowCodeFlowWithRefreshTokens(d)&&this.flowsDataService.resetSilentRenewRunning(d)})},error:l=>{this.loggerService.logError(t,"silent renew failed!",l)}})}getRefreshEvent(e,t){if(!this.shouldStartPeriodicallyCheckForConfig(e))return p(null);let n=this.createRefreshEventForConfig(e,t);return this.publicEventsService.fireEvent(de.SilentRenewStarted),n.pipe($(s=>(this.loggerService.logError(e,"silent renew failed!",s),this.publicEventsService.fireEvent(de.SilentRenewFailed,s),this.flowsDataService.resetSilentRenewRunning(e),g(()=>new Error(s)))))}getSmallestRefreshTimeFromConfigs(e){return e.reduce((i,n)=>(i.tokenRefreshInSeconds??0)<(n.tokenRefreshInSeconds??0)?i:n).tokenRefreshInSeconds??0}getConfigsWithSilentRenewEnabled(e){return e.filter(t=>t.silentRenew)}createRefreshEventForConfig(e,t){return this.loggerService.logDebug(e,"starting silent renew..."),this.configurationService.getOpenIDConfiguration(e.configId).pipe(T(i=>{if(!i?.silentRenew)return this.resetAuthDataService.resetAuthorizationData(i,t),p(null);if(this.flowsDataService.setSilentRenewRunning(i),this.flowHelper.isCurrentFlowCodeFlowWithRefreshTokens(i)){let s=this.storagePersistenceService.read("storageCustomParamsRefresh",i)||{},{customParamsRefreshTokenRequest:l}=i,c=_(_({},l),s);return this.refreshSessionRefreshTokenService.refreshSessionWithRefreshTokens(i,t,c)}let n=this.storagePersistenceService.read("storageCustomParamsAuthRequest",i);return this.refreshSessionIframeService.refreshSessionWithIframe(i,t,n)}))}shouldStartPeriodicallyCheckForConfig(e){let t=this.authStateService.getIdToken(e),i=this.flowsDataService.isSilentRenewRunning(e),n=this.flowsDataService.isCodeFlowInProgress(e),s=this.userService.getUserDataFromStore(e);if(this.loggerService.logDebug(e,`Checking: silentRenewRunning: ${i}, isCodeFlowInProgress: ${n} - has idToken: ${!!t} - has userData: ${!!s}`),!(!!s&&!i&&!!t&&!n))return!1;let c=this.authStateService.hasIdTokenExpiredAndRenewCheckIsEnabled(e),h=this.authStateService.hasAccessTokenExpiredIfExpiryExists(e);return c||h}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),Us=3,$n=(()=>{class r{constructor(){this.flowHelper=a(Fe),this.flowsDataService=a(he),this.loggerService=a(w),this.silentRenewService=a(Ki),this.authStateService=a(ve),this.authWellKnownService=a(dt),this.refreshSessionIframeService=a(jn),this.storagePersistenceService=a(H),this.refreshSessionRefreshTokenService=a(Hn),this.userService=a(ct)}userForceRefreshSession(e,t,i){return e?(this.persistCustomParams(i,e),this.forceRefreshSession(e,t,i).pipe(ce(()=>this.flowsDataService.resetSilentRenewRunning(e)))):g(()=>new Error("Please provide a configuration before setting up the module"))}forceRefreshSession(e,t,i){let{customParamsRefreshTokenRequest:n,configId:s}=e,l=_(_({},n),i);if(this.flowHelper.isCurrentFlowCodeFlowWithRefreshTokens(e))return this.startRefreshSession(e,t,l).pipe(b(()=>{let d=this.authStateService.areAuthStorageTokensValid(e);return d?{idToken:this.authStateService.getIdToken(e),accessToken:this.authStateService.getAccessToken(e),userData:this.userService.getUserDataFromStore(e),isAuthenticated:d,configId:s}:{isAuthenticated:!1,errorMessage:"",userData:null,idToken:"",accessToken:"",configId:s}}));let{silentRenewTimeoutInSeconds:c}=e,h=(c??0)*1e3;return Te([this.startRefreshSession(e,t,i),this.silentRenewService.refreshSessionWithIFrameCompleted$.pipe(ue(d=>d?.configId===e.configId),ge(1))]).pipe(br(h),Ft(d=>d.pipe(je((m,v)=>{let f=v+1;return!(m instanceof _r)||f>Us?g(()=>new Error(m)):(this.loggerService.logDebug(e,`forceRefreshSession timeout. Attempt #${f}`),this.flowsDataService.resetSilentRenewRunning(e),Mt(f*1e3))}))),b(([d,m])=>{let v=this.authStateService.areAuthStorageTokensValid(e);if(v){let S=m.success?m.authResult:null;return{idToken:S?.id_token??"",accessToken:S?.access_token??"",userData:this.userService.getUserDataFromStore(e),isAuthenticated:v,configId:s}}return{isAuthenticated:!1,errorMessage:"",userData:null,idToken:"",accessToken:"",configId:s}}))}persistCustomParams(e,t){let{useRefreshToken:i}=t;e&&(i?this.storagePersistenceService.write("storageCustomParamsRefresh",e,t):this.storagePersistenceService.write("storageCustomParamsAuthRequest",e,t))}startRefreshSession(e,t,i){let n=this.flowsDataService.isSilentRenewRunning(e);return this.loggerService.logDebug(e,`Checking: silentRenewRunning: ${n}`),!n?this.authWellKnownService.queryAndStoreAuthWellKnownEndPoints(e).pipe(T(()=>(this.flowsDataService.setSilentRenewRunning(e),this.flowHelper.isCurrentFlowCodeFlowWithRefreshTokens(e)?this.refreshSessionRefreshTokenService.refreshSessionWithRefreshTokens(e,t,i):this.refreshSessionIframeService.refreshSessionWithIframe(e,t,i)))):p(null)}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),Mn="myiFrameForCheckSession",qi=(()=>{class r{constructor(){this.checkSessionReceived=!1,this.scheduledHeartBeatRunning=null,this.lastIFrameRefresh=0,this.outstandingMessages=0,this.loggerService=a(w),this.storagePersistenceService=a(H),this.iFrameService=a(zn),this.eventService=a(Ye),this.zone=a(B),this.document=a(D),this.heartBeatInterval=3e3,this.iframeRefreshInterval=6e4,this.checkSessionChangedInternal$=new At(!1)}get checkSessionChanged$(){return this.checkSessionChangedInternal$.asObservable()}ngOnDestroy(){this.stop();let e=this.document.defaultView;e&&this.iframeMessageEventListener&&e.removeEventListener("message",this.iframeMessageEventListener,!1)}isCheckSessionConfigured(e){let{startCheckSession:t}=e;return!!t}start(e){if(this.scheduledHeartBeatRunning)return;let{clientId:t}=e;this.pollServerSession(t,e)}stop(){this.scheduledHeartBeatRunning&&(this.clearScheduledHeartBeat(),this.checkSessionReceived=!1)}serverStateChanged(e){let{startCheckSession:t}=e;return!!t&&this.checkSessionReceived}getExistingIframe(){return this.iFrameService.getExistingIFrame(Mn)}init(e){if(this.lastIFrameRefresh+this.iframeRefreshInterval>Date.now())return p();let t=this.storagePersistenceService.read("authWellKnownEndPoints",e);if(!t)return this.loggerService.logWarning(e,"CheckSession - init check session: authWellKnownEndpoints is undefined. Returning."),p();let i=this.getOrCreateIframe(e);this.bindMessageEventToIframe(e);let n=t.checkSessionIframe,s=i.contentWindow;return n?(s?s.location.replace(n):this.loggerService.logWarning(e,"CheckSession - init check session: IFrame contentWindow does not exist"),new We(l=>{i.onload=()=>{this.lastIFrameRefresh=Date.now(),l.next(),l.complete()}})):(this.loggerService.logWarning(e,"CheckSession - init check session: checkSessionIframe is not configured to run"),p())}pollServerSession(e,t){this.outstandingMessages=0;let i=()=>{this.init(t).pipe(ge(1)).subscribe(()=>{let n=this.getExistingIframe();if(n&&e){this.loggerService.logDebug(t,`CheckSession - clientId : '${e}' - existingIframe: '${n}'`);let s=this.storagePersistenceService.read("session_state",t),l=this.storagePersistenceService.read("authWellKnownEndPoints",t),c=n.contentWindow;if(s&&l?.checkSessionIframe&&c){let h=new URL(l.checkSessionIframe)?.origin;this.outstandingMessages++,c.postMessage(e+" "+s,h)}else this.loggerService.logDebug(t,`CheckSession - session_state is '${s}' - AuthWellKnownEndPoints is '${JSON.stringify(l,null,2)}'`),this.checkSessionChangedInternal$.next(!0)}else this.loggerService.logWarning(t,`CheckSession - OidcSecurityCheckSession pollServerSession checkSession IFrame does not exist:
               clientId : '${e}' - existingIframe: '${n}'`);this.outstandingMessages>3&&this.loggerService.logError(t,`CheckSession - OidcSecurityCheckSession not receiving check session response messages.
                            Outstanding messages: '${this.outstandingMessages}'. Server unreachable?`),this.zone.runOutsideAngular(()=>{this.scheduledHeartBeatRunning=this.document?.defaultView?.setTimeout(()=>this.zone.run(i),this.heartBeatInterval)??null})})};i()}clearScheduledHeartBeat(){this.scheduledHeartBeatRunning!==null&&(clearTimeout(this.scheduledHeartBeatRunning),this.scheduledHeartBeatRunning=null)}messageHandler(e,t){let i=this.getExistingIframe(),s=!!this.storagePersistenceService.read("authWellKnownEndPoints",e)?.checkSessionIframe?.startsWith(t.origin);this.outstandingMessages=0,i&&s&&t.source===i.contentWindow&&(t.data==="error"?this.loggerService.logWarning(e,"CheckSession - error from check session messageHandler"):t.data==="changed"?(this.loggerService.logDebug(e,`CheckSession - ${t} from check session messageHandler`),this.checkSessionReceived=!0,this.eventService.fireEvent(de.CheckSessionReceived,t.data),this.checkSessionChangedInternal$.next(!0)):(this.eventService.fireEvent(de.CheckSessionReceived,t.data),this.loggerService.logDebug(e,`CheckSession - ${t.data} from check session messageHandler`)))}bindMessageEventToIframe(e){let t=this.document.defaultView;this.iframeMessageEventListener&&t&&t.removeEventListener("message",this.iframeMessageEventListener,!1),this.iframeMessageEventListener=this.messageHandler.bind(this,e),t&&t.addEventListener("message",this.iframeMessageEventListener,!1)}getOrCreateIframe(e){return this.getExistingIframe()||this.iFrameService.addIFrameToWindowBody(Mn,e)}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),Jt=(()=>{class r{constructor(){this.popUp=null,this.handle=-1,this.loggerService=a(w),this.storagePersistenceService=a(H),this.document=a(D),this.STORAGE_IDENTIFIER="popupauth",this.resultInternal$=new k}get result$(){return this.resultInternal$.asObservable()}get windowInternal(){return this.document.defaultView}isCurrentlyInPopup(e){if(this.canAccessSessionStorage()){let t=this.storagePersistenceService.read(this.STORAGE_IDENTIFIER,e),i=this.windowInternal;return i?!!i.opener&&i.opener!==i&&!!t:!1}return!1}openPopUp(e,t,i){let n=this.getOptions(t);this.storagePersistenceService.write(this.STORAGE_IDENTIFIER,"true",i);let s=this.windowInternal;if(!s)return;if(!e){this.loggerService.logError(i,"Could not open popup, url is empty");return}if(this.popUp=s.open(e,"_blank",n),!this.popUp){this.storagePersistenceService.remove(this.STORAGE_IDENTIFIER,i),this.loggerService.logError(i,"Could not open popup");return}this.loggerService.logDebug(i,"Opened popup with url "+e);let l=c=>{if(!c?.data||typeof c.data!="string"){if(i.disableCleaningPopupOnInvalidMessage)return;this.cleanUp(l,i);return}this.loggerService.logDebug(i,"Received message from popup with url "+c.data),this.resultInternal$.next({userClosed:!1,receivedUrl:c.data}),this.cleanUp(l,i)};s.addEventListener("message",l,!1),this.handle=s.setInterval(()=>{this.popUp?.closed&&(this.resultInternal$.next({userClosed:!0,receivedUrl:""}),this.cleanUp(l,i))},200)}sendMessageToMainWindow(e,t){let i=this.windowInternal;if(i&&i.opener){let n=i.location.href;this.sendMessage(e,n,t)}}cleanUp(e,t){let i=this.windowInternal;i&&(i.removeEventListener("message",e,!1),i.clearInterval(this.handle),this.popUp&&(this.storagePersistenceService.remove(this.STORAGE_IDENTIFIER,t),this.popUp.close(),this.popUp=null))}sendMessage(e,t,i){let n=this.windowInternal;if(n){if(!e){this.loggerService.logDebug(i,`Can not send message to parent, no url: '${e}'`);return}n.opener.postMessage(e,t)}}getOptions(e){let t={width:500,height:500,left:50,top:50},i=_(_({},t),e||{}),n=this.windowInternal;if(!n)return"";let s=i.width||t.width,l=i.height||t.height,c=n.screenLeft+(n.outerWidth-s)/2,h=n.screenTop+(n.outerHeight-l)/2;return i.left=c,i.top=h,Object.entries(i).map(([d,m])=>`${encodeURIComponent(d)}=${encodeURIComponent(m)}`).join(",")}canAccessSessionStorage(){return typeof navigator<"u"&&navigator.cookieEnabled&&typeof Storage<"u"}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),zs=(()=>{class r{constructor(){this.document=a(D)}getStateParamFromCurrentUrl(e){let t=e||this.getCurrentUrl();if(!t)return null;let i=new URL(t);return new URLSearchParams(i.search).get("state")}getCurrentUrl(){return this.document?.defaultView?.location.toString()??null}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),Yi=(()=>{class r{constructor(){this.checkSessionService=a(qi),this.currentUrlService=a(zs),this.silentRenewService=a(Ki),this.userService=a(ct),this.loggerService=a(w),this.authStateService=a(ve),this.callbackService=a(Un),this.refreshSessionService=a($n),this.periodicallyTokenCheckService=a(Ns),this.popupService=a(Jt),this.autoLoginService=a(ss),this.storagePersistenceService=a(H),this.publicEventsService=a(Ye)}checkAuth(e,t,i){if(!e)return g(()=>new Error("Please provide a configuration before setting up the module"));this.publicEventsService.fireEvent(de.CheckingAuth);let n=this.currentUrlService.getStateParamFromCurrentUrl(i);return this.getConfig(e,i)?this.checkAuthWithConfig(e,t,i):g(()=>new Error(`could not find matching config for state ${n}`))}checkAuthMultiple(e,t){let i=this.currentUrlService.getStateParamFromCurrentUrl(t);if(i){let l=this.getConfigurationWithUrlState(e,i);return l?this.composeMultipleLoginResults(e,l,t):g(()=>new Error(`could not find matching config for state ${i}`))}let n=e,s=n.map(l=>this.checkAuthWithConfig(l,n,t));return Te(s)}checkAuthIncludingServer(e,t){return e?this.checkAuthWithConfig(e,t).pipe(T(i=>{let{isAuthenticated:n}=i;return n?p(i):this.refreshSessionService.forceRefreshSession(e,t).pipe(ce(s=>{s?.isAuthenticated&&this.startCheckSessionAndValidation(e,t)}))})):g(()=>new Error("Please provide a configuration before setting up the module"))}getConfig(e,t){let i=this.currentUrlService.getStateParamFromCurrentUrl(t);return i?this.getConfigurationWithUrlState([e],i):e}checkAuthWithConfig(e,t,i){if(!e){let d="Please provide at least one configuration before setting up the module";return this.loggerService.logError(e,d),p({isAuthenticated:!1,errorMessage:d,userData:null,idToken:"",accessToken:"",configId:""})}let n=i||this.currentUrlService.getCurrentUrl();if(!n){let d="No URL found!";return this.loggerService.logError(e,d),p({isAuthenticated:!1,errorMessage:d,userData:null,idToken:"",accessToken:"",configId:""})}let{configId:s,authority:l}=e;if(this.loggerService.logDebug(e,`Working with config '${s}' using '${l}'`),this.popupService.isCurrentlyInPopup(e))return this.popupService.sendMessageToMainWindow(n,e),p({isAuthenticated:!1,errorMessage:"",userData:null,idToken:"",accessToken:"",configId:""});let c=this.callbackService.isCallback(n,e);return this.loggerService.logDebug(e,`currentUrl to check auth with: '${n}'`),(c?this.callbackService.handleCallbackAndFireEvents(n,e,t):p({})).pipe(b(()=>{let d=this.authStateService.areAuthStorageTokensValid(e);return this.loggerService.logDebug(e,`checkAuth completed. Firing events now. isAuthenticated: ${d}`),d&&(this.startCheckSessionAndValidation(e,t),c||(this.authStateService.setAuthenticatedAndFireEvent(t),this.userService.publishUserDataIfExists(e,t))),this.publicEventsService.fireEvent(de.CheckingAuthFinished),{isAuthenticated:d,userData:this.userService.getUserDataFromStore(e),accessToken:this.authStateService.getAccessToken(e),idToken:this.authStateService.getIdToken(e),configId:s}}),ce(({isAuthenticated:d})=>{d&&this.autoLoginService.checkSavedRedirectRouteAndNavigate(e)}),$(({message:d})=>(this.loggerService.logError(e,d),this.publicEventsService.fireEvent(de.CheckingAuthFinishedWithError,d),p({isAuthenticated:!1,errorMessage:d,userData:null,idToken:"",accessToken:"",configId:s}))))}startCheckSessionAndValidation(e,t){this.checkSessionService.isCheckSessionConfigured(e)&&this.checkSessionService.start(e),this.periodicallyTokenCheckService.startTokenValidationPeriodically(t,e),this.silentRenewService.isSilentRenewConfigured(e)&&this.silentRenewService.getOrCreateIframe(e)}getConfigurationWithUrlState(e,t){if(!t)return null;for(let i of e)if(this.storagePersistenceService.read("authStateControl",i)===t)return i;return null}composeMultipleLoginResults(e,t,i){let n=e.filter(c=>c.configId!==t.configId),s=this.checkAuthWithConfig(t,e,i),l=n.map(c=>{let{redirectUrl:h}=c;return this.checkAuthWithConfig(c,e,h)});return Te([s,...l])}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),Gi=(()=>{class r{constructor(){this.document=a(D)}redirectTo(e){this.document.location.href=e}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),Xi=(()=>{class r{constructor(){this.loggerService=a(w),this.flowHelper=a(Fe)}hasConfigValidResponseType(e){return this.flowHelper.isCurrentFlowAnyImplicitFlow(e)||this.flowHelper.isCurrentFlowCodeFlow(e)?!0:(this.loggerService.logWarning(e,"module configured incorrectly, invalid response_type. Check the responseType in the config"),!1)}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),Ws=(()=>{class r{constructor(){this.loggerService=a(w),this.urlService=a(ye),this.dataService=a(Ge),this.storagePersistenceService=a(H)}postParRequest(e,t){let i=new nt;i=i.set("Content-Type","application/x-www-form-urlencoded");let n=this.storagePersistenceService.read("authWellKnownEndPoints",e);if(!n)return g(()=>new Error("Could not read PAR endpoint because authWellKnownEndPoints are not given"));let s=n.parEndpoint;return s?this.urlService.createBodyForParCodeFlowRequest(e,t).pipe(T(l=>this.dataService.post(s,l,e,i).pipe(et(2),b(c=>(this.loggerService.logDebug(e,"par response: ",c),{expiresIn:c.expires_in,requestUri:c.request_uri})),$(c=>{let h="There was an error on ParService postParRequest";return this.loggerService.logError(e,h,c),g(()=>new Error(h))})))):g(()=>new Error("Could not read PAR endpoint from authWellKnownEndpoints"))}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),js=(()=>{class r{constructor(){this.loggerService=a(w),this.responseTypeValidationService=a(Xi),this.urlService=a(ye),this.redirectService=a(Gi),this.authWellKnownService=a(dt),this.popupService=a(Jt),this.checkAuthService=a(Yi),this.parService=a(Ws)}loginPar(e,t){if(!this.responseTypeValidationService.hasConfigValidResponseType(e)){this.loggerService.logError(e,"Invalid response type!");return}this.loggerService.logDebug(e,"BEGIN Authorize OIDC Flow, no auth data"),this.authWellKnownService.queryAndStoreAuthWellKnownEndPoints(e).pipe(T(()=>this.parService.postParRequest(e,t))).subscribe(i=>{this.loggerService.logDebug(e,"par response: ",i);let n=this.urlService.getAuthorizeParUrl(i.requestUri,e);if(this.loggerService.logDebug(e,"par request url: ",n),!n){this.loggerService.logError(e,`Could not create URL with param ${i.requestUri}: '${n}'`);return}t?.urlHandler?t.urlHandler(n):this.redirectService.redirectTo(n)})}loginWithPopUpPar(e,t,i,n){let{configId:s}=e;if(!this.responseTypeValidationService.hasConfigValidResponseType(e)){let l="Invalid response type!";return this.loggerService.logError(e,l),g(()=>new Error(l))}return this.loggerService.logDebug(e,"BEGIN Authorize OIDC Flow with popup, no auth data"),this.authWellKnownService.queryAndStoreAuthWellKnownEndPoints(e).pipe(T(()=>this.parService.postParRequest(e,i)),T(l=>{this.loggerService.logDebug(e,`par response: ${l}`);let c=this.urlService.getAuthorizeParUrl(l.requestUri,e);if(this.loggerService.logDebug(e,"par request url: ",c),!c){let h=`Could not create URL with param ${l.requestUri}: 'url'`;return this.loggerService.logError(e,h),g(()=>new Error(h))}return this.popupService.openPopUp(c,n,e),this.popupService.result$.pipe(ge(1),T(h=>{let{userClosed:d,receivedUrl:m}=h;return d?p({isAuthenticated:!1,errorMessage:"User closed popup",userData:null,idToken:"",accessToken:"",configId:s}):this.checkAuthService.checkAuth(e,t,m)}))}))}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),Hs=(()=>{class r{constructor(){this.loggerService=a(w),this.responseTypeValidationService=a(Xi),this.urlService=a(ye),this.authWellKnownService=a(dt),this.popupService=a(Jt),this.checkAuthService=a(Yi)}loginWithPopUpStandard(e,t,i,n){let{configId:s}=e;if(!this.responseTypeValidationService.hasConfigValidResponseType(e)){let l="Invalid response type!";return this.loggerService.logError(e,l),g(()=>new Error(l))}return this.loggerService.logDebug(e,"BEGIN Authorize OIDC Flow with popup, no auth data"),this.authWellKnownService.queryAndStoreAuthWellKnownEndPoints(e).pipe(T(()=>this.urlService.getAuthorizeUrl(e,i)),ce(l=>this.popupService.openPopUp(l,n,e)),T(()=>this.popupService.result$.pipe(ge(1),T(l=>{let{userClosed:c,receivedUrl:h}=l;return c?p({isAuthenticated:!1,errorMessage:"User closed popup",userData:null,idToken:"",accessToken:"",configId:s}):this.checkAuthService.checkAuth(e,t,h)}))))}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),$s=(()=>{class r{constructor(){this.loggerService=a(w),this.responseTypeValidationService=a(Xi),this.urlService=a(ye),this.redirectService=a(Gi),this.authWellKnownService=a(dt),this.flowsDataService=a(he)}loginStandard(e,t){if(!this.responseTypeValidationService.hasConfigValidResponseType(e)){this.loggerService.logError(e,"Invalid response type!");return}this.loggerService.logDebug(e,"BEGIN Authorize OIDC Flow, no auth data"),this.flowsDataService.setCodeFlowInProgress(e),this.authWellKnownService.queryAndStoreAuthWellKnownEndPoints(e).subscribe(()=>{let{urlHandler:i}=t||{};this.flowsDataService.resetSilentRenewRunning(e),this.urlService.getAuthorizeUrl(e,t).subscribe(n=>{if(!n){this.loggerService.logError(e,"Could not create URL",n);return}i?i(n):this.redirectService.redirectTo(n)})})}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),Ks=(()=>{class r{constructor(){this.parLoginService=a(js),this.popUpLoginService=a(Hs),this.standardLoginService=a($s),this.storagePersistenceService=a(H),this.popupService=a(Jt)}login(e,t){if(!e)throw new Error("Please provide a configuration before setting up the module");let{usePushedAuthorisationRequests:i}=e;return t?.customParams&&this.storagePersistenceService.write("storageCustomParamsAuthRequest",t.customParams,e),i?this.parLoginService.loginPar(e,t):this.standardLoginService.loginStandard(e,t)}loginWithPopUp(e,t,i,n){if(!e)throw new Error("Please provide a configuration before setting up the module");if(this.popupService.isCurrentlyInPopup(e))return p({errorMessage:"There is already a popup open."});let{usePushedAuthorisationRequests:l}=e;return i?.customParams&&this.storagePersistenceService.write("storageCustomParamsAuthRequest",i.customParams,e),l?this.parLoginService.loginWithPopUpPar(e,t,i,n):this.popUpLoginService.loginWithPopUpStandard(e,t,i,n)}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function qs(r){let o=_({},r);for(let e in r)(r[e]===void 0||r[e]===null)&&delete o[e];return o}var Ys=(()=>{class r{constructor(){this.loggerService=a(w),this.dataService=a(Ge),this.storagePersistenceService=a(H),this.urlService=a(ye),this.checkSessionService=a(qi),this.resetAuthDataService=a(Le),this.redirectService=a(Gi)}logoff(e,t,i){if(!e)return g(()=>new Error("Please provide a configuration before setting up the module"));this.loggerService.logDebug(e,"logoff, remove auth",i);let{urlHandler:n,customParams:s}=i||{},l=this.urlService.getEndSessionUrl(e,s);return l?this.checkSessionService.serverStateChanged(e)?(this.loggerService.logDebug(e,"Server State changed. Logoff was only locally. Returning."),p(null)):n?(this.loggerService.logDebug(e,`Custom UrlHandler found. Using this to handle logoff with url '${l}'`),n(l),this.resetAuthDataService.resetAuthorizationData(e,t),p(null)):this.logoffInternal(i,l,e,t):(this.loggerService.logDebug(e,"No endsessionUrl present. Logoff was only locally. Returning."),p(null))}logoffLocal(e,t){this.resetAuthDataService.resetAuthorizationData(e,t),this.checkSessionService.stop()}logoffLocalMultiple(e){e.forEach(t=>this.logoffLocal(t,e))}logoffAndRevokeTokens(e,t,i){if(!e)return g(()=>new Error("Please provide a configuration before setting up the module"));let{revocationEndpoint:n}=this.storagePersistenceService.read("authWellKnownEndPoints",e)||{};return n?this.storagePersistenceService.getRefreshToken(e)?this.revokeRefreshToken(e).pipe(T(s=>this.revokeAccessToken(e)),$(s=>{let l="revoke token failed";return this.loggerService.logError(e,l,s),g(()=>new Error(l))}),C(()=>this.logoff(e,t,i))):this.revokeAccessToken(e).pipe($(s=>{let l="revoke accessToken failed";return this.loggerService.logError(e,l,s),g(()=>new Error(l))}),C(()=>this.logoff(e,t,i))):(this.loggerService.logDebug(e,"revocation endpoint not supported"),this.logoff(e,t,i))}revokeAccessToken(e,t){if(!e)return g(()=>new Error("Please provide a configuration before setting up the module"));let i=t||this.storagePersistenceService.getAccessToken(e),n=this.urlService.createRevocationEndpointBodyAccessToken(i,e);return this.sendRevokeRequest(e,n)}revokeRefreshToken(e,t){if(!e)return g(()=>new Error("Please provide a configuration before setting up the module"));let i=t||this.storagePersistenceService.getRefreshToken(e),n=this.urlService.createRevocationEndpointBodyRefreshToken(i,e);return this.sendRevokeRequest(e,n)}logoffInternal(e,t,i,n){let{logoffMethod:s,customParams:l}=e||{};if(!s||s==="GET")return this.redirectService.redirectTo(t),this.resetAuthDataService.resetAuthorizationData(i,n),p(null);let{state:c,logout_hint:h,ui_locales:d}=l||{},{clientId:m}=i,v=this.storagePersistenceService.getIdToken(i),S=this.urlService.getPostLogoutRedirectUrl(i),f=this.getHeaders(),{url:G}=this.urlService.getEndSessionEndpoint(i),ze=qs({id_token_hint:v,client_id:m,post_logout_redirect_uri:S,state:c,logout_hint:h,ui_locales:d});return this.resetAuthDataService.resetAuthorizationData(i,n),this.dataService.post(G,ze,i,f)}sendRevokeRequest(e,t){let i=this.urlService.getRevocationEndpointUrl(e),n=this.getHeaders();return this.dataService.post(i,t,e,n).pipe(et(2),T(s=>(this.loggerService.logDebug(e,"revocation endpoint post response: ",s),p(s))),$(s=>{let l="Revocation request failed";return this.loggerService.logError(e,l,s),g(()=>new Error(l))}))}getHeaders(){let e=new nt;return e=e.set("Content-Type","application/x-www-form-urlencoded"),e}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),Kn=(()=>{class r{constructor(){this.checkSessionService=a(qi),this.checkAuthService=a(Yi),this.userService=a(ct),this.tokenHelperService=a(Xt),this.configurationService=a($i),this.authStateService=a(ve),this.flowsDataService=a(he),this.callbackService=a(Un),this.logoffRevocationService=a(Ys),this.loginService=a(Ks),this.refreshSessionService=a($n),this.urlService=a(ye),this.authWellKnownService=a(dt),this.userData=qe(this.userData$,{requireSync:!0}),this.authenticated=qe(this.isAuthenticated$,{requireSync:!0})}get userData$(){return this.userService.userData$}get isAuthenticated$(){return this.authStateService.authenticated$}get checkSessionChanged$(){return this.checkSessionService.checkSessionChanged$}get stsCallback$(){return this.callbackService.stsCallback$}preloadAuthWellKnownDocument(e){return this.configurationService.getOpenIDConfiguration(e).pipe(C(t=>this.authWellKnownService.queryAndStoreAuthWellKnownEndPoints(t)))}getConfigurations(){return this.configurationService.getAllConfigurations()}getConfiguration(e){return this.configurationService.getOpenIDConfiguration(e)}getUserData(e){return this.configurationService.getOpenIDConfiguration(e).pipe(b(t=>this.userService.getUserDataFromStore(t)))}checkAuth(e,t){return this.configurationService.getOpenIDConfigurations(t).pipe(C(({allConfigs:i,currentConfig:n})=>this.checkAuthService.checkAuth(n,i,e)))}checkAuthMultiple(e){return this.configurationService.getOpenIDConfigurations().pipe(C(({allConfigs:t})=>this.checkAuthService.checkAuthMultiple(t,e)))}isAuthenticated(e){return this.configurationService.getOpenIDConfiguration(e).pipe(b(t=>this.authStateService.isAuthenticated(t)))}checkAuthIncludingServer(e){return this.configurationService.getOpenIDConfigurations(e).pipe(C(({allConfigs:t,currentConfig:i})=>this.checkAuthService.checkAuthIncludingServer(i,t)))}getAccessToken(e){return this.configurationService.getOpenIDConfiguration(e).pipe(b(t=>this.authStateService.getAccessToken(t)))}getIdToken(e){return this.configurationService.getOpenIDConfiguration(e).pipe(b(t=>this.authStateService.getIdToken(t)))}getRefreshToken(e){return this.configurationService.getOpenIDConfiguration(e).pipe(b(t=>this.authStateService.getRefreshToken(t)))}getAuthenticationResult(e){return this.configurationService.getOpenIDConfiguration(e).pipe(b(t=>this.authStateService.getAuthenticationResult(t)))}getPayloadFromIdToken(e=!1,t){return this.configurationService.getOpenIDConfiguration(t).pipe(b(i=>{let n=this.authStateService.getIdToken(i);return this.tokenHelperService.getPayloadFromToken(n,e,i)}))}getPayloadFromAccessToken(e=!1,t){return this.configurationService.getOpenIDConfiguration(t).pipe(b(i=>{let n=this.authStateService.getAccessToken(i);return this.tokenHelperService.getPayloadFromToken(n,e,i)}))}setState(e,t){return this.configurationService.getOpenIDConfiguration(t).pipe(b(i=>this.flowsDataService.setAuthStateControl(e,i)))}getState(e){return this.configurationService.getOpenIDConfiguration(e).pipe(b(t=>this.flowsDataService.getAuthStateControl(t)))}authorize(e,t){this.configurationService.getOpenIDConfiguration(e).subscribe(i=>this.loginService.login(i,t))}authorizeWithPopUp(e,t,i){return this.configurationService.getOpenIDConfigurations(i).pipe(C(({allConfigs:n,currentConfig:s})=>this.loginService.loginWithPopUp(s,n,e,t)))}forceRefreshSession(e,t){return this.configurationService.getOpenIDConfigurations(t).pipe(C(({allConfigs:i,currentConfig:n})=>this.refreshSessionService.userForceRefreshSession(n,i,e)))}logoffAndRevokeTokens(e,t){return this.configurationService.getOpenIDConfigurations(e).pipe(C(({allConfigs:i,currentConfig:n})=>this.logoffRevocationService.logoffAndRevokeTokens(n,i,t)))}logoff(e,t){return this.configurationService.getOpenIDConfigurations(e).pipe(C(({allConfigs:i,currentConfig:n})=>this.logoffRevocationService.logoff(n,i,t)))}logoffLocal(e){this.configurationService.getOpenIDConfigurations(e).subscribe(({allConfigs:t,currentConfig:i})=>this.logoffRevocationService.logoffLocal(i,t))}logoffLocalMultiple(){this.configurationService.getOpenIDConfigurations().subscribe(({allConfigs:e})=>this.logoffRevocationService.logoffLocalMultiple(e))}revokeAccessToken(e,t){return this.configurationService.getOpenIDConfiguration(t).pipe(C(i=>this.logoffRevocationService.revokeAccessToken(i,e)))}revokeRefreshToken(e,t){return this.configurationService.getOpenIDConfiguration(t).pipe(C(i=>this.logoffRevocationService.revokeRefreshToken(i,e)))}getEndSessionUrl(e,t){return this.configurationService.getOpenIDConfiguration(t).pipe(b(i=>this.urlService.getEndSessionUrl(i,e)))}getAuthorizeUrl(e,t){return this.configurationService.getOpenIDConfiguration(t).pipe(C(i=>this.urlService.getAuthorizeUrl(i,e?{customParams:e}:void 0)))}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),Gs=(()=>{class r{read(e){return sessionStorage.getItem(e)}write(e,t){sessionStorage.setItem(e,t)}remove(e){sessionStorage.removeItem(e)}clear(){sessionStorage.clear()}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function qn(r,...o){let e=Xs(r);for(let t of o)e.push(...t.\u0275providers);return Sr(e)}function Xs(r){return[{provide:En,useValue:r},r?.loader||{provide:Yt,useFactory:Go,deps:[En]},{provide:Fn,useClass:Gs},{provide:On,useClass:Xo}]}function Yn(r){return r.reduce((o,e)=>o.concat(Array.isArray(e)?Yn(e):e),[])}function Zs(r){let o=Qs(r);return new RegExp(`^${o}$`)}function Qs(r){return r.replace(/[.+?^${}()|[\]\\]/g,"\\$&").replace(/\*/g,".*")}var Js=(()=>{class r{getConfigIdForClosestMatchingRoute(e,t){for(let i of t){let{secureRoutes:n}=i,s=(n??[]).find(l=>this.routeMatches(l,e));if(s)return{matchingRoute:s,matchingConfig:i}}return{matchingRoute:null,matchingConfig:null}}routeMatches(e,t){return t.startsWith(e)||this.matchesRoute(e,t)}matchesRoute(e,t){return Zs(e).test(t)}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function Gn(){return(r,o)=>ea(r,o,{configurationService:a($i),authStateService:a(ve),closestMatchingRouteService:a(Js),loggerService:a(w)})}function ea(r,o,e){if(!e.configurationService.hasAtLeastOneConfig())return o(r);let t=e.configurationService.getAllConfigurations(),i=t.map(h=>h.secureRoutes||[]);if(Yn(i).length===0)return e.loggerService.logDebug(t[0],"No routes to check configured"),o(r);let{matchingConfig:s,matchingRoute:l}=e.closestMatchingRouteService.getConfigIdForClosestMatchingRoute(r.url,t);if(!s)return e.loggerService.logDebug(t[0],`Did not find any configured route for route ${r.url}`),o(r);e.loggerService.logDebug(s,`'${r.url}' matches configured route '${l}'`);let c=e.authStateService.getAccessToken(s);return c?(e.loggerService.logDebug(s,`'${r.url}' matches configured route '${l}', adding token`),r=r.clone({headers:r.headers.set("Authorization","Bearer "+c)}),o(r)):(e.loggerService.logDebug(s,`Wanted to add token to ${r.url} but found no token: '${c}'`),o(r))}var ei=[];function Xn(){let r={};for(let o of ei)r[o.name]=o.signal();return r}function ta(){let r="";return{attachState(o,e){let t=e?.name??`signal_${ei.length}`;if(ei.some(n=>n.signal===o))return;ei.push({name:t,signal:o});let i=Xn();r=JSON.stringify(i),console.log(`${t}/INIT`,i),it(()=>{let n=Xn(),s=JSON.stringify(n);s!==r&&(r=s,console.log("STORE_UPDATE",n))})}}}var ut=ta();var ia={isAuthenticated:!1},mt=class r{#e=a(Kn);#t=qe(this.#e.checkAuth(),{initialValue:ia});isAuthenticated=ae(()=>this.#t().isAuthenticated);userData=ae(()=>this.#t().userData);auth=ae(()=>this.#t());token=ae(()=>this.#t().accessToken);roles=ae(()=>{let o=this.token();return o?JSON.parse(atob(o?.split(".")[1]))?.realm_access?.roles||[]:null});constructor(){ut.attachState(this.auth,{name:"AuthStore"})}login(){this.#e.authorize()}logout(){return vr(this.#e.logoff())}static \u0275fac=function(e){return new(e||r)};static \u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})};var ra=async()=>{let r=a(mt),o=await r.roles();return console.log("User Roles from Auth Guard",o),r.isAuthenticated()&&o?.includes("user")?!0:(r.login(),!1)},Zn=ra;var Qn=[{path:"",redirectTo:"overview",pathMatch:"full"},{path:"demo",loadComponent:()=>import("./chunk-BQLS2NTH.js")},{path:"overview",loadChildren:()=>import("./chunk-T3SGDTJZ.js"),runGuardsAndResolvers:"always"},{path:"detail/:id",loadComponent:()=>import("./chunk-7JWOHFPH.js")},{path:"add-blog",loadComponent:()=>import("./chunk-75R2PZWQ.js"),canActivate:[Zn]},...xn,...Dn];var Jn=(r,o)=>(console.log("Request",r),o(r).pipe(ce(e=>console.log("Response",e))));var na=[Jn],eo=na;var to={config:{authority:"https://d-cap-keyclaok.kindbay-711f60b2.westeurope.azurecontainerapps.io/realms/blog",redirectUrl:window.location.origin,postLogoutRedirectUri:window.location.origin,clientId:"spa-blog",scope:"openid profile email offline_access",responseType:"code",silentRenew:!0,silentRenewUrl:window.location.origin+"/silent-renew.html",renewTimeBeforeTokenExpiresInSeconds:10,secureRoutes:[bt.serviceUrl]}};var xt=class{},oa=(()=>{class r{handle(e){return e.key}static \u0275fac=function(t){return new(t||r)};static \u0275prov=u({token:r,factory:r.\u0275fac})}return r})(),pt=class{},sa=(()=>{class r extends pt{compile(e,t){return e}compileTranslations(e,t){return e}static \u0275fac=(()=>{let e;return function(i){return(e||(e=ie(r)))(i||r)}})();static \u0275prov=u({token:r,factory:r.\u0275fac})}return r})(),Be=class{},aa=(()=>{class r extends Be{getTranslation(e){return p({})}static \u0275fac=(()=>{let e;return function(i){return(e||(e=ie(r)))(i||r)}})();static \u0275prov=u({token:r,factory:r.\u0275fac})}return r})();function ti(r,o){if(r===o)return!0;if(r===null||o===null)return!1;if(r!==r&&o!==o)return!0;let e=typeof r,t=typeof o,i;if(e==t&&e=="object")if(Array.isArray(r)){if(!Array.isArray(o))return!1;if((i=r.length)==o.length){for(let n=0;n<i;n++)if(!ti(r[n],o[n]))return!1;return!0}}else{if(Array.isArray(o))return!1;if(De(r)&&De(o)){let n=Object.create(null);for(let s in r){if(!ti(r[s],o[s]))return!1;n[s]=!0}for(let s in o)if(!(s in n)&&typeof o[s]<"u")return!1;return!0}}return!1}function Ve(r){return typeof r<"u"&&r!==null}function io(r){return r!==void 0}function De(r){return Ct(r)&&!Xe(r)&&r!==null}function Ct(r){return typeof r=="object"&&r!==null}function Xe(r){return Array.isArray(r)}function ii(r){return typeof r=="string"}function la(r){return typeof r=="function"}function ri(r){if(Xe(r))return r.map(o=>ri(o));if(De(r)){let o={};return Object.keys(r).forEach(e=>{o[e]=ri(r[e])}),o}else return r}function Ji(r,o){if(!Ct(r))return ri(o);let e=ri(r);return Ct(e)&&Ct(o)&&Object.keys(o).forEach(t=>{De(o[t])?t in r?e[t]=Ji(r[t],o[t]):Object.assign(e,{[t]:o[t]}):Object.assign(e,{[t]:o[t]})}),e}function ro(r,o){let e=o.split(".");o="";do{o+=e.shift();let t=!e.length;if(Ve(r)){if(De(r)&&io(r[o])&&(De(r[o])||Xe(r[o])||t)){r=r[o],o="";continue}if(Xe(r)){let i=parseInt(o,10);if(io(r[i])&&(De(r[i])||Xe(r[i])||t)){r=r[i],o="";continue}}}if(t){r=void 0;continue}o+="."}while(e.length);return r}function ca(r,o,e){return Ji(r,da(o,e))}function da(r,o){return r.split(".").reduceRight((e,t)=>({[t]:e}),o)}var gt=class{},ha=(()=>{class r extends gt{templateMatcher=/{{\s?([^{}\s]*)\s?}}/g;interpolate(e,t){if(ii(e))return this.interpolateString(e,t);if(la(e))return this.interpolateFunction(e,t)}interpolateFunction(e,t){return e(t)}interpolateString(e,t){return t?e.replace(this.templateMatcher,(i,n)=>{let s=this.getInterpolationReplacement(t,n);return s!==void 0?s:i}):e}getInterpolationReplacement(e,t){return this.formatValue(ro(e,t))}formatValue(e){if(ii(e))return e;if(typeof e=="number"||typeof e=="boolean")return e.toString();if(e===null)return"null";if(Xe(e))return e.join(", ");if(Ct(e))return typeof e.toString=="function"&&e.toString!==Object.prototype.toString?e.toString():JSON.stringify(e)}static \u0275fac=(()=>{let e;return function(i){return(e||(e=ie(r)))(i||r)}})();static \u0275prov=u({token:r,factory:r.\u0275fac})}return r})(),Zi=(()=>{class r{_onTranslationChange=new k;_onLangChange=new k;_onFallbackLangChange=new k;fallbackLang=null;currentLang;translations={};languages=[];getTranslations(e){return this.translations[e]}setTranslations(e,t,i){this.translations[e]=i&&this.hasTranslationFor(e)?Ji(this.translations[e],t):t,this.addLanguages([e]),this._onTranslationChange.next({lang:e,translations:this.getTranslations(e)})}getLanguages(){return this.languages}getCurrentLang(){return this.currentLang}getFallbackLang(){return this.fallbackLang}setFallbackLang(e,t=!0){this.fallbackLang=e,t&&this._onFallbackLangChange.next({lang:e,translations:this.translations[e]})}setCurrentLang(e,t=!0){this.currentLang=e,t&&this._onLangChange.next({lang:e,translations:this.translations[e]})}get onTranslationChange(){return this._onTranslationChange.asObservable()}get onLangChange(){return this._onLangChange.asObservable()}get onFallbackLangChange(){return this._onFallbackLangChange.asObservable()}addLanguages(e){this.languages=Array.from(new Set([...this.languages,...e]))}hasTranslationFor(e){return typeof this.translations[e]<"u"}deleteTranslations(e){delete this.translations[e]}getTranslation(e){let t=this.getValue(this.currentLang,e);return t===void 0&&this.fallbackLang!=null&&this.fallbackLang!==this.currentLang&&(t=this.getValue(this.fallbackLang,e)),t}getValue(e,t){return ro(this.getTranslations(e),t)}static \u0275fac=function(t){return new(t||r)};static \u0275prov=u({token:r,factory:r.\u0275fac})}return r})(),Qi=new X("TRANSLATE_CONFIG"),kt=r=>Ee(r)?r:p(r);var Dt=(()=>{class r{loadingTranslations;pending=!1;_translationRequests={};lastUseLanguage=null;currentLoader=a(Be);compiler=a(pt);parser=a(gt);missingTranslationHandler=a(xt);store=a(Zi);extend=!1;get onTranslationChange(){return this.store.onTranslationChange}get onLangChange(){return this.store.onLangChange}get onFallbackLangChange(){return this.store.onFallbackLangChange}get onDefaultLangChange(){return this.store.onFallbackLangChange}constructor(){let e=_({extend:!1,fallbackLang:null},a(Qi,{optional:!0}));e.lang&&this.use(e.lang),e.fallbackLang&&this.setFallbackLang(e.fallbackLang),e.extend&&(this.extend=!0)}setFallbackLang(e){this.getFallbackLang()||this.store.setFallbackLang(e,!1);let t=this.loadOrExtendLanguage(e);return Ee(t)?(t.pipe(ge(1)).subscribe({next:()=>{this.store.setFallbackLang(e)},error:()=>{}}),t):(this.store.setFallbackLang(e),p(this.store.getTranslations(e)))}use(e){this.lastUseLanguage=e,this.getCurrentLang()||this.store.setCurrentLang(e,!1);let t=this.loadOrExtendLanguage(e);return Ee(t)?(t.pipe(ge(1)).subscribe({next:()=>{this.changeLang(e)},error:()=>{}}),t):(this.changeLang(e),p(this.store.getTranslations(e)))}loadOrExtendLanguage(e){if(!this.store.hasTranslationFor(e)||this.extend)return this._translationRequests[e]=this._translationRequests[e]||this.loadAndCompileTranslations(e),this._translationRequests[e]}changeLang(e){e===this.lastUseLanguage&&this.store.setCurrentLang(e)}getCurrentLang(){return this.store.getCurrentLang()}loadAndCompileTranslations(e){this.pending=!0;let t=this.currentLoader.getTranslation(e).pipe(tt(1),ge(1));return this.loadingTranslations=t.pipe(b(i=>this.compiler.compileTranslations(i,e)),tt(1),ge(1)),this.loadingTranslations.subscribe({next:i=>{this.store.setTranslations(e,i,this.extend),this.pending=!1},error:i=>{this.pending=!1}}),t}setTranslation(e,t,i=!1){let n=this.compiler.compileTranslations(t,e);this.store.setTranslations(e,n,i||this.extend)}getLangs(){return this.store.getLanguages()}addLangs(e){this.store.addLanguages(e)}getParsedResultForKey(e,t){let i=this.getTextToInterpolate(e);if(Ve(i))return this.runInterpolation(i,t);let n=this.missingTranslationHandler.handle(_({key:e,translateService:this},t!==void 0&&{interpolateParams:t}));return n!==void 0?n:e}getFallbackLang(){return this.store.getFallbackLang()}getTextToInterpolate(e){return this.store.getTranslation(e)}runInterpolation(e,t){if(Ve(e))return Xe(e)?this.runInterpolationOnArray(e,t):De(e)?this.runInterpolationOnDict(e,t):this.parser.interpolate(e,t)}runInterpolationOnArray(e,t){return e.map(i=>this.runInterpolation(i,t))}runInterpolationOnDict(e,t){let i={};for(let n in e){let s=this.runInterpolation(e[n],t);s!==void 0&&(i[n]=s)}return i}getParsedResult(e,t){return e instanceof Array?this.getParsedResultForArray(e,t):this.getParsedResultForKey(e,t)}getParsedResultForArray(e,t){let i={},n=!1;for(let l of e)i[l]=this.getParsedResultForKey(l,t),n=n||Ee(i[l]);if(!n)return i;let s=e.map(l=>kt(i[l]));return Te(s).pipe(b(l=>{let c={};return l.forEach((h,d)=>{c[e[d]]=h}),c}))}get(e,t){if(!Ve(e)||!e.length)throw new Error('Parameter "key" is required and cannot be empty');return this.pending?this.loadingTranslations.pipe(C(()=>kt(this.getParsedResult(e,t)))):kt(this.getParsedResult(e,t))}getStreamOnTranslationChange(e,t){if(!Ve(e)||!e.length)throw new Error('Parameter "key" is required and cannot be empty');return ki(Ci(()=>this.get(e,t)),this.onTranslationChange.pipe(T(()=>{let i=this.getParsedResult(e,t);return kt(i)})))}stream(e,t){if(!Ve(e)||!e.length)throw new Error('Parameter "key" required');return ki(Ci(()=>this.get(e,t)),this.onLangChange.pipe(T(()=>{let i=this.getParsedResult(e,t);return kt(i)})))}instant(e,t){if(!Ve(e)||e.length===0)throw new Error('Parameter "key" is required and cannot be empty');let i=this.getParsedResult(e,t);return Ee(i)?Array.isArray(e)?e.reduce((n,s)=>(n[s]=s,n),{}):e:i}set(e,t,i=this.getCurrentLang()){this.store.setTranslations(i,ca(this.store.getTranslations(i),e,ii(t)?this.compiler.compile(t,i):this.compiler.compileTranslations(t,i)),!1)}reloadLang(e){return this.resetLang(e),this.loadAndCompileTranslations(e)}resetLang(e){delete this._translationRequests[e],this.store.deleteTranslations(e)}static getBrowserLang(){if(typeof window>"u"||!window.navigator)return;let e=this.getBrowserCultureLang();return e?e.split(/[-_]/)[0]:void 0}static getBrowserCultureLang(){if(!(typeof window>"u"||typeof window.navigator>"u"))return window.navigator.languages?window.navigator.languages[0]:window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage}getBrowserLang(){return r.getBrowserLang()}getBrowserCultureLang(){return r.getBrowserCultureLang()}get defaultLang(){return this.getFallbackLang()}get currentLang(){return this.store.getCurrentLang()}get langs(){return this.store.getLanguages()}setDefaultLang(e){return this.setFallbackLang(e)}getDefaultLang(){return this.getFallbackLang()}static \u0275fac=function(t){return new(t||r)};static \u0275prov=u({token:r,factory:r.\u0275fac})}return r})();var no=(()=>{class r{translate=a(Dt);_ref=a(we);value="";lastKey=null;lastParams=[];onTranslationChange;onLangChange;onFallbackLangChange;updateValue(e,t,i){let n=s=>{this.value=s!==void 0?s:e,this.lastKey=e,this._ref.markForCheck()};if(i){let s=this.translate.getParsedResult(e,t);Ee(s)?s.subscribe(n):n(s)}this.translate.get(e,t).subscribe(n)}transform(e,...t){if(!e||!e.length)return e;if(ti(e,this.lastKey)&&ti(t,this.lastParams))return this.value;let i;if(Ve(t[0])&&t.length)if(ii(t[0])&&t[0].length){let n=t[0].replace(/(')?([a-zA-Z0-9_]+)(')?(\s)?:/g,'"$2":').replace(/:(\s)?(')(.*?)(')/g,':"$3"');try{i=JSON.parse(n)}catch(s){throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${t[0]}`)}}else De(t[0])&&(i=t[0]);return this.lastKey=e,this.lastParams=t,this.updateValue(e,i),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(n=>{(this.lastKey&&n.lang===this.translate.getCurrentLang()||n.lang===this.translate.getFallbackLang())&&(this.lastKey=null,this.updateValue(e,i,n.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(n=>{this.lastKey&&(this.lastKey=null,this.updateValue(e,i,n.translations))})),this.onFallbackLangChange||(this.onFallbackLangChange=this.translate.onFallbackLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(e,i))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onFallbackLangChange<"u"&&(this.onFallbackLangChange.unsubscribe(),this.onFallbackLangChange=void 0)}ngOnDestroy(){this._dispose()}static \u0275fac=function(t){return new(t||r)};static \u0275pipe=Tr({name:"translate",type:r,pure:!1});static \u0275prov=u({token:r,factory:r.\u0275fac})}return r})();function ua(r){return{provide:Be,useClass:r}}function ma(r){return{provide:pt,useClass:r}}function pa(r){return{provide:gt,useClass:r}}function ga(r){return{provide:xt,useClass:r}}function oo(r={}){return fa(_({compiler:ma(sa),parser:pa(ha),loader:ua(aa),missingTranslationHandler:ga(oa)},r),!0)}function fa(r={},o){let e=[];r.loader&&e.push(r.loader),r.compiler&&e.push(r.compiler),r.parser&&e.push(r.parser),r.missingTranslationHandler&&e.push(r.missingTranslationHandler),o&&e.push(Zi),(r.useDefaultLang||r.defaultLanguage)&&(console.warn("The `useDefaultLang` and `defaultLanguage` options are deprecated. Please use `fallbackLang` instead."),r.useDefaultLang===!0&&r.defaultLanguage&&(r.fallbackLang=r.defaultLanguage));let t={fallbackLang:r.fallbackLang??null,lang:r.lang,extend:r.extend??!1};return e.push({provide:Qi,useValue:t}),e.push({provide:Dt,useClass:Dt,deps:[Zi,Be,pt,gt,xt,Qi]}),e}var er=new X("TRANSLATE_HTTP_LOADER_CONFIG"),va=(()=>{class r{http;config;constructor(){this.config=_({prefix:"/assets/i18n/",suffix:".json",enforceLoading:!1,useHttpBackend:!1},a(er)),this.http=this.config.useHttpBackend?new ot(a(Fi)):a(ot)}getTranslation(e){let t=this.config.enforceLoading?`?enforceLoading=${Date.now()}`:"";return this.http.get(`${this.config.prefix}${e}${this.config.suffix}${t}`)}static \u0275fac=function(t){return new(t||r)};static \u0275prov=u({token:r,factory:r.\u0275fac})}return r})();function so(r={}){let o=r.useHttpBackend??!1;return[{provide:er,useValue:r},{provide:Be,useClass:va,deps:[o?Fi:ot,er]}]}var ao={providers:[{provide:Vr,useValue:"de-CH"},Cr(),Lr(),Jr(Qn,en()),Li(Kr(),$r([...eo,Gn()])),Cn(),qn(to),oo({loader:so({prefix:"/i18n/",suffix:".json"}),fallbackLang:"en",lang:"en"})]};var _a=["*",[["mat-toolbar-row"]]],ba=["*","mat-toolbar-row"],wa=(()=>{class r{static \u0275fac=function(t){return new(t||r)};static \u0275dir=Z({type:r,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}return r})(),lo=(()=>{class r{_elementRef=a(M);_platform=a(J);_document=a(D);color;_toolbarRows;constructor(){}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=F({type:r,selectors:[["mat-toolbar"]],contentQueries:function(t,i,n){if(t&1&&Pe(n,wa,5),t&2){let s;W(s=j())&&(i._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(t,i){t&2&&(Ut(i.color?"mat-"+i.color:""),q("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",i._toolbarRows.length===0))},inputs:{color:"color"},exportAs:["matToolbar"],ngContentSelectors:ba,decls:2,vars:0,template:function(t,i){t&1&&(pe(_a),A(0),A(1,1))},styles:[`.mat-toolbar{background:var(--mat-toolbar-container-background-color, var(--mat-sys-surface));color:var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font, var(--mat-sys-title-large-font));font-size:var(--mat-toolbar-title-text-size, var(--mat-sys-title-large-size));line-height:var(--mat-toolbar-title-text-line-height, var(--mat-sys-title-large-line-height));font-weight:var(--mat-toolbar-title-text-weight, var(--mat-sys-title-large-weight));letter-spacing:var(--mat-toolbar-title-text-tracking, var(--mat-sys-title-large-tracking));margin:0}@media(forced-colors: active){.mat-toolbar{outline:solid 1px}}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mat-button-text-label-text-color: var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface));--mat-button-outlined-label-text-color: var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height, 56px)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height, 56px)}}
`],encapsulation:2,changeDetection:0})}return r})();var co=(()=>{class r{static \u0275fac=function(t){return new(t||r)};static \u0275mod=N({type:r});static \u0275inj=V({imports:[ee]})}return r})();var Ca=20,Re=(()=>{class r{_ngZone=a(B);_platform=a(J);_renderer=a(Se).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new k;_scrolledCount=0;scrollContainers=new Map;register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){let t=this.scrollContainers.get(e);t&&(t.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=Ca){return this._platform.isBrowser?new We(t=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let i=e>0?this._scrolled.pipe(xi(e)).subscribe(t):this._scrolled.subscribe(t);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):p()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((e,t)=>this.deregister(t)),this._scrolled.complete()}ancestorScrolled(e,t){let i=this.getAncestorScrollContainers(e);return this.scrolled(t).pipe(ue(n=>!n||i.indexOf(n)>-1))}getAncestorScrollContainers(e){let t=[];return this.scrollContainers.forEach((i,n)=>{this._scrollableContainsElement(n,e)&&t.push(n)}),t}_scrollableContainsElement(e,t){let i=sn(t),n=e.getElementRef().nativeElement;do if(i==n)return!0;while(i=i.parentElement);return!1}static \u0275fac=function(t){return new(t||r)};static \u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Ze=(()=>{class r{elementRef=a(M);scrollDispatcher=a(Re);ngZone=a(B);dir=a(Oe,{optional:!0});_scrollElement=this.elementRef.nativeElement;_destroyed=new k;_renderer=a(ke);_cleanupScroll;_elementScrolled=new k;constructor(){}ngOnInit(){this._cleanupScroll=this.ngZone.runOutsideAngular(()=>this._renderer.listen(this._scrollElement,"scroll",e=>this._elementScrolled.next(e))),this.scrollDispatcher.register(this)}ngOnDestroy(){this._cleanupScroll?.(),this._elementScrolled.complete(),this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){let t=this.elementRef.nativeElement,i=this.dir&&this.dir.value=="rtl";e.left==null&&(e.left=i?e.end:e.start),e.right==null&&(e.right=i?e.start:e.end),e.bottom!=null&&(e.top=t.scrollHeight-t.clientHeight-e.bottom),i&&lt()!=at.NORMAL?(e.left!=null&&(e.right=t.scrollWidth-t.clientWidth-e.left),lt()==at.INVERTED?e.left=e.right:lt()==at.NEGATED&&(e.left=e.right?-e.right:e.right)):e.right!=null&&(e.left=t.scrollWidth-t.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){let t=this.elementRef.nativeElement;Ht()?t.scrollTo(e):(e.top!=null&&(t.scrollTop=e.top),e.left!=null&&(t.scrollLeft=e.left))}measureScrollOffset(e){let t="left",i="right",n=this.elementRef.nativeElement;if(e=="top")return n.scrollTop;if(e=="bottom")return n.scrollHeight-n.clientHeight-n.scrollTop;let s=this.dir&&this.dir.value=="rtl";return e=="start"?e=s?i:t:e=="end"&&(e=s?t:i),s&&lt()==at.INVERTED?e==t?n.scrollWidth-n.clientWidth-n.scrollLeft:n.scrollLeft:s&&lt()==at.NEGATED?e==t?n.scrollLeft+n.scrollWidth-n.clientWidth:-n.scrollLeft:e==t?n.scrollLeft:n.scrollWidth-n.clientWidth-n.scrollLeft}static \u0275fac=function(t){return new(t||r)};static \u0275dir=Z({type:r,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]})}return r})(),xa=20,Ue=(()=>{class r{_platform=a(J);_listeners;_viewportSize=null;_change=new k;_document=a(D);constructor(){let e=a(B),t=a(Se).createRenderer(null,null);e.runOutsideAngular(()=>{if(this._platform.isBrowser){let i=n=>this._change.next(n);this._listeners=[t.listen("window","resize",i),t.listen("window","orientationchange",i)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(e=>e()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){let e=this.getViewportScrollPosition(),{width:t,height:i}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+i,right:e.left+t,height:i,width:t}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let e=this._document,t=this._getWindow(),i=e.documentElement,n=i.getBoundingClientRect(),s=-n.top||e.body?.scrollTop||t.scrollY||i.scrollTop||0,l=-n.left||e.body?.scrollLeft||t.scrollX||i.scrollLeft||0;return{top:s,left:l}}change(e=xa){return e>0?this._change.pipe(xi(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static \u0275fac=function(t){return new(t||r)};static \u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var Ne=(()=>{class r{static \u0275fac=function(t){return new(t||r)};static \u0275mod=N({type:r});static \u0275inj=V({})}return r})(),tr=(()=>{class r{static \u0275fac=function(t){return new(t||r)};static \u0275mod=N({type:r});static \u0275inj=V({imports:[ee,Ne,ee,Ne]})}return r})();var si=["*"],Da=["content"],Ra=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],Ia=["mat-drawer","mat-drawer-content","*"];function Ea(r,o){if(r&1){let e=oe();y(0,"div",1),U("click",function(){I(e);let i=L();return E(i._onBackdropClicked())}),x()}if(r&2){let e=L();q("mat-drawer-shown",e._isShowingBackdrop())}}function Ta(r,o){r&1&&(y(0,"mat-drawer-content"),A(1,2),x())}var Aa=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],Pa=["mat-sidenav","mat-sidenav-content","*"];function Ma(r,o){if(r&1){let e=oe();y(0,"div",1),U("click",function(){I(e);let i=L();return E(i._onBackdropClicked())}),x()}if(r&2){let e=L();q("mat-drawer-shown",e._isShowingBackdrop())}}function Oa(r,o){r&1&&(y(0,"mat-sidenav-content"),A(1,2),x())}var Fa=`.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color, var(--mat-sys-on-background));background-color:var(--mat-sidenav-content-background-color, var(--mat-sys-background));box-sizing:border-box;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color, color-mix(in srgb, var(--mat-sys-neutral-variant20) 40%, transparent))}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}@media(forced-colors: active){.mat-drawer-backdrop{opacity:.5}}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-content.mat-drawer-content-hidden{opacity:0}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color, var(--mat-sys-on-surface-variant));box-shadow:var(--mat-sidenav-container-elevation-shadow, none);background-color:var(--mat-sidenav-container-background-color, var(--mat-sys-surface));border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));width:var(--mat-sidenav-container-width, 360px);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}@media(forced-colors: active){.mat-drawer,[dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}}@media(forced-colors: active){[dir=rtl] .mat-drawer,.mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-transition .mat-drawer{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating){visibility:hidden;box-shadow:none}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating) .mat-drawer-inner-container{display:none}.mat-drawer.mat-drawer-opened.mat-drawer-opened{transform:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto}.mat-sidenav-fixed{position:fixed}
`;var La=new X("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:()=>!1}),or=new X("MAT_DRAWER_CONTAINER"),ni=(()=>{class r extends Ze{_platform=a(J);_changeDetectorRef=a(we);_container=a(rr);constructor(){let e=a(M),t=a(Re),i=a(B);super(e,t,i)}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}_shouldBeHidden(){if(this._platform.isBrowser)return!1;let{start:e,end:t}=this._container;return e!=null&&e.mode!=="over"&&e.opened||t!=null&&t.mode!=="over"&&t.opened}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=F({type:r,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:6,hostBindings:function(t,i){t&2&&(_t("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px"),q("mat-drawer-content-hidden",i._shouldBeHidden()))},features:[Ce([{provide:Ze,useExisting:r}]),fe],ngContentSelectors:si,decls:1,vars:0,template:function(t,i){t&1&&(pe(),A(0))},encapsulation:2,changeDetection:0})}return r})(),ir=(()=>{class r{_elementRef=a(M);_focusTrapFactory=a(dn);_focusMonitor=a($t);_platform=a(J);_ngZone=a(B);_renderer=a(ke);_interactivityChecker=a(cn);_doc=a(D);_container=a(or,{optional:!0});_focusTrap=null;_elementFocusedBeforeDrawerWasOpened=null;_eventCleanups;_isAttached=!1;_anchor=null;get position(){return this._position}set position(e){e=e==="end"?"end":"start",e!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}_position="start";get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}_mode="over";get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=se(e)}_disableClose=!1;get autoFocus(){let e=this._autoFocus;return e??(this.mode==="side"?"dialog":"first-tabbable")}set autoFocus(e){(e==="true"||e==="false"||e==null)&&(e=se(e)),this._autoFocus=e}_autoFocus;get opened(){return this._opened()}set opened(e){this.toggle(se(e))}_opened=me(!1);_openedVia=null;_animationStarted=new k;_animationEnd=new k;openedChange=new He(!0);_openedStream=this.openedChange.pipe(ue(e=>e),b(()=>{}));openedStart=this._animationStarted.pipe(ue(()=>this.opened),Di(void 0));_closedStream=this.openedChange.pipe(ue(e=>!e),b(()=>{}));closedStart=this._animationStarted.pipe(ue(()=>!this.opened),Di(void 0));_destroyed=new k;onPositionChanged=new He;_content;_modeChanged=new k;_injector=a(te);_changeDetectorRef=a(we);constructor(){this.openedChange.pipe(K(this._destroyed)).subscribe(e=>{e?(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement,this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._eventCleanups=this._ngZone.runOutsideAngular(()=>{let e=this._renderer,t=this._elementRef.nativeElement;return[e.listen(t,"keydown",i=>{i.keyCode===27&&!this.disableClose&&!Kt(i)&&this._ngZone.run(()=>{this.close(),i.stopPropagation(),i.preventDefault()})}),e.listen(t,"transitionrun",this._handleTransitionEvent),e.listen(t,"transitionend",this._handleTransitionEvent),e.listen(t,"transitioncancel",this._handleTransitionEvent)]}),this._animationEnd.subscribe(()=>{this.openedChange.emit(this.opened)})}_forceFocus(e,t){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let i=()=>{n(),s(),e.removeAttribute("tabindex")},n=this._renderer.listen(e,"blur",i),s=this._renderer.listen(e,"mousedown",i)})),e.focus(t)}_focusByCssSelector(e,t){let i=this._elementRef.nativeElement.querySelector(e);i&&this._forceFocus(i,t)}_takeFocus(){if(!this._focusTrap)return;let e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":_e(()=>{!this._focusTrap.focusInitialElement()&&typeof e.focus=="function"&&e.focus()},{injector:this._injector});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus);break}}_restoreFocus(e){this.autoFocus!=="dialog"&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){let e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._position==="end"&&this._updatePositionInParent("end"),this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState())}ngOnDestroy(){this._eventCleanups.forEach(e=>e()),this._focusTrap?.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,t){e&&t&&(this._openedVia=t);let i=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),i}_setOpen(e,t,i){return e===this.opened?Promise.resolve(e?"open":"close"):(this._opened.set(e),this._container?._transitionsEnabled?this._setIsAnimating(!0):setTimeout(()=>{this._animationStarted.next(),this._animationEnd.next()}),this._elementRef.nativeElement.classList.toggle("mat-drawer-opened",e),!e&&t&&this._restoreFocus(i),this._changeDetectorRef.markForCheck(),this._updateFocusTrapState(),new Promise(n=>{this.openedChange.pipe(ge(1)).subscribe(s=>n(s?"open":"close"))}))}_setIsAnimating(e){this._elementRef.nativeElement.classList.toggle("mat-drawer-animating",e)}_getWidth(){return this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&!!this._container?._isShowingBackdrop())}_updatePositionInParent(e){if(!this._platform.isBrowser)return;let t=this._elementRef.nativeElement,i=t.parentNode;e==="end"?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),i.insertBefore(this._anchor,t)),i.appendChild(t)):this._anchor&&this._anchor.parentNode.insertBefore(t,this._anchor)}_handleTransitionEvent=e=>{let t=this._elementRef.nativeElement;e.target===t&&this._ngZone.run(()=>{e.type==="transitionrun"?this._animationStarted.next(e):(e.type==="transitionend"&&this._setIsAnimating(!1),this._animationEnd.next(e))})};static \u0275fac=function(t){return new(t||r)};static \u0275cmp=F({type:r,selectors:[["mat-drawer"]],viewQuery:function(t,i){if(t&1&&Me(Da,5),t&2){let n;W(n=j())&&(i._content=n.first)}},hostAttrs:[1,"mat-drawer"],hostVars:12,hostBindings:function(t,i){t&2&&(be("align",null)("tabIndex",i.mode!=="side"?"-1":null),_t("visibility",!i._container&&!i.opened?"hidden":null),q("mat-drawer-end",i.position==="end")("mat-drawer-over",i.mode==="over")("mat-drawer-push",i.mode==="push")("mat-drawer-side",i.mode==="side"))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:si,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(t,i){t&1&&(pe(),y(0,"div",1,0),A(2),x())},dependencies:[Ze],encapsulation:2,changeDetection:0})}return r})(),rr=(()=>{class r{_dir=a(Oe,{optional:!0});_element=a(M);_ngZone=a(B);_changeDetectorRef=a(we);_animationDisabled=Ke();_transitionsEnabled=!1;_allDrawers;_drawers=new xr;_content;_userContent;get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=se(e)}_autosize=a(La);get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(e){this._backdropOverride=e==null?null:se(e)}_backdropOverride=null;backdropClick=new He;_start=null;_end=null;_left=null;_right=null;_destroyed=new k;_doCheckSubject=new k;_contentMargins={left:null,right:null};_contentMarginChanges=new k;get scrollable(){return this._userContent||this._content}_injector=a(te);constructor(){let e=a(J),t=a(Ue);this._dir?.change.pipe(K(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),t.change().pipe(K(this._destroyed)).subscribe(()=>this.updateContentMargins()),!this._animationDisabled&&e.isBrowser&&this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{this._element.nativeElement.classList.add("mat-drawer-transition"),this._transitionsEnabled=!0},200)})}ngAfterContentInit(){this._allDrawers.changes.pipe(Lt(this._allDrawers),K(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(t=>!t._container||t._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Lt(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(wr(10),K(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,t=0;if(this._left&&this._left.opened){if(this._left.mode=="side")e+=this._left._getWidth();else if(this._left.mode=="push"){let i=this._left._getWidth();e+=i,t-=i}}if(this._right&&this._right.opened){if(this._right.mode=="side")t+=this._right._getWidth();else if(this._right.mode=="push"){let i=this._right._getWidth();t+=i,e-=i}}e=e||null,t=t||null,(e!==this._contentMargins.left||t!==this._contentMargins.right)&&(this._contentMargins={left:e,right:t},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(K(this._drawers.changes)).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),e.mode!=="side"&&e.openedChange.pipe(K(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){e.onPositionChanged.pipe(K(this._drawers.changes)).subscribe(()=>{_e({read:()=>this._validateDrawers()},{injector:this._injector})})}_watchDrawerMode(e){e._modeChanged.pipe(K(Ot(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){let t=this._element.nativeElement.classList,i="mat-drawer-container-has-open";e?t.add(i):t.remove(i)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{e.position=="end"?(this._end!=null,this._end=e):(this._start!=null,this._start=e)}),this._right=this._left=null,this._dir&&this._dir.value==="rtl"?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&this._start.mode!="over"||this._isDrawerOpen(this._end)&&this._end.mode!="over"}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._drawerHasBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(e){return e!=null&&e.opened}_drawerHasBackdrop(e){return this._backdropOverride==null?!!e&&e.mode!=="side":this._backdropOverride}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=F({type:r,selectors:[["mat-drawer-container"]],contentQueries:function(t,i,n){if(t&1&&Pe(n,ni,5)(n,ir,5),t&2){let s;W(s=j())&&(i._content=s.first),W(s=j())&&(i._allDrawers=s)}},viewQuery:function(t,i){if(t&1&&Me(ni,5),t&2){let n;W(n=j())&&(i._userContent=n.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(t,i){t&2&&q("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[Ce([{provide:or,useExisting:r}])],ngContentSelectors:Ia,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,i){t&1&&(pe(Ra),re(0,Ea,1,2,"div",0),A(1),A(2,1),re(3,Ta,2,0,"mat-drawer-content")),t&2&&(ne(i.hasBackdrop?0:-1),O(3),ne(i._content?-1:3))},dependencies:[ni],styles:[`.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color, var(--mat-sys-on-background));background-color:var(--mat-sidenav-content-background-color, var(--mat-sys-background));box-sizing:border-box;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color, color-mix(in srgb, var(--mat-sys-neutral-variant20) 40%, transparent))}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}@media(forced-colors: active){.mat-drawer-backdrop{opacity:.5}}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-content.mat-drawer-content-hidden{opacity:0}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color, var(--mat-sys-on-surface-variant));box-shadow:var(--mat-sidenav-container-elevation-shadow, none);background-color:var(--mat-sidenav-container-background-color, var(--mat-sys-surface));border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));width:var(--mat-sidenav-container-width, 360px);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}@media(forced-colors: active){.mat-drawer,[dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}}@media(forced-colors: active){[dir=rtl] .mat-drawer,.mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-transition .mat-drawer{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating){visibility:hidden;box-shadow:none}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating) .mat-drawer-inner-container{display:none}.mat-drawer.mat-drawer-opened.mat-drawer-opened{transform:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto}.mat-sidenav-fixed{position:fixed}
`],encapsulation:2,changeDetection:0})}return r})(),oi=(()=>{class r extends ni{static \u0275fac=(()=>{let e;return function(i){return(e||(e=ie(r)))(i||r)}})();static \u0275cmp=F({type:r,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],features:[Ce([{provide:Ze,useExisting:r}]),fe],ngContentSelectors:si,decls:1,vars:0,template:function(t,i){t&1&&(pe(),A(0))},encapsulation:2,changeDetection:0})}return r})(),sr=(()=>{class r extends ir{get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(e){this._fixedInViewport=se(e)}_fixedInViewport=!1;get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(e){this._fixedTopGap=xe(e)}_fixedTopGap=0;get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(e){this._fixedBottomGap=xe(e)}_fixedBottomGap=0;static \u0275fac=(()=>{let e;return function(i){return(e||(e=ie(r)))(i||r)}})();static \u0275cmp=F({type:r,selectors:[["mat-sidenav"]],hostAttrs:[1,"mat-drawer","mat-sidenav"],hostVars:16,hostBindings:function(t,i){t&2&&(be("tabIndex",i.mode!=="side"?"-1":null)("align",null),_t("top",i.fixedInViewport?i.fixedTopGap:null,"px")("bottom",i.fixedInViewport?i.fixedBottomGap:null,"px"),q("mat-drawer-end",i.position==="end")("mat-drawer-over",i.mode==="over")("mat-drawer-push",i.mode==="push")("mat-drawer-side",i.mode==="side")("mat-sidenav-fixed",i.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[Ce([{provide:ir,useExisting:r}]),fe],ngContentSelectors:si,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(t,i){t&1&&(pe(),y(0,"div",1,0),A(2),x())},dependencies:[Ze],encapsulation:2,changeDetection:0})}return r})(),mo=(()=>{class r extends rr{_allDrawers=void 0;_content=void 0;static \u0275fac=(()=>{let e;return function(i){return(e||(e=ie(r)))(i||r)}})();static \u0275cmp=F({type:r,selectors:[["mat-sidenav-container"]],contentQueries:function(t,i,n){if(t&1&&Pe(n,oi,5)(n,sr,5),t&2){let s;W(s=j())&&(i._content=s.first),W(s=j())&&(i._allDrawers=s)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(t,i){t&2&&q("mat-drawer-container-explicit-backdrop",i._backdropOverride)},exportAs:["matSidenavContainer"],features:[Ce([{provide:or,useExisting:r},{provide:rr,useExisting:r}]),fe],ngContentSelectors:Pa,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,i){t&1&&(pe(Aa),re(0,Ma,1,2,"div",0),A(1),A(2,1),re(3,Oa,2,0,"mat-sidenav-content")),t&2&&(ne(i.hasBackdrop?0:-1),O(3),ne(i._content?-1:3))},dependencies:[oi],styles:[Fa],encapsulation:2,changeDetection:0})}return r})(),po=(()=>{class r{static \u0275fac=function(t){return new(t||r)};static \u0275mod=N({type:r});static \u0275inj=V({imports:[Ne,ee,Ne]})}return r})();var go=(()=>{class r{static \u0275fac=function(t){return new(t||r)};static \u0275mod=N({type:r});static \u0275inj=V({imports:[ee]})}return r})();var fo=(()=>{class r{static \u0275fac=function(t){return new(t||r)};static \u0275mod=N({type:r});static \u0275inj=V({imports:[ee]})}return r})();var Ba=["*"],Na=`.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item{display:flex;position:relative;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer;padding-left:16px;padding-right:16px;background-color:var(--mat-list-list-item-container-color, transparent);border-radius:var(--mat-list-list-item-container-shape, var(--mat-sys-corner-none))}.mdc-list-item.mdc-list-item--selected{background-color:var(--mat-list-list-item-selected-container-color)}.mdc-list-item:focus{outline:0}.mdc-list-item.mdc-list-item--disabled{cursor:auto}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mat-list-list-item-one-line-container-height, 48px)}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mat-list-list-item-two-line-container-height, 64px)}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mat-list-list-item-three-line-container-height, 88px)}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--selected::before,.mdc-list-item.mdc-list-item--selected:focus::before,.mdc-list-item:not(.mdc-list-item--selected):focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;content:"";pointer-events:none}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mat-list-list-item-leading-icon-color, var(--mat-sys-on-surface-variant));width:var(--mat-list-list-item-leading-icon-size, 24px);height:var(--mat-list-list-item-leading-icon-size, 24px);margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mat-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mat-list-list-item-leading-avatar-size, 40px);height:var(--mat-list-list-item-leading-avatar-size, 40px);margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item--with-leading-avatar .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mat-list-list-item-trailing-supporting-text-font, var(--mat-sys-label-small-font));line-height:var(--mat-list-list-item-trailing-supporting-text-line-height, var(--mat-sys-label-small-line-height));font-size:var(--mat-list-list-item-trailing-supporting-text-size, var(--mat-sys-label-small-size));font-weight:var(--mat-list-list-item-trailing-supporting-text-weight, var(--mat-sys-label-small-weight));letter-spacing:var(--mat-list-list-item-trailing-supporting-text-tracking, var(--mat-sys-label-small-tracking))}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mat-list-list-item-trailing-icon-color, var(--mat-sys-on-surface-variant));width:var(--mat-list-list-item-trailing-icon-size, 24px);height:var(--mat-list-list-item-trailing-icon-size, 24px)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mat-list-list-item-hover-trailing-icon-color)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mat-list-list-item-trailing-supporting-text-color, var(--mat-sys-on-surface-variant))}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mat-list-list-item-selected-trailing-icon-color, var(--mat-sys-primary))}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;color:var(--mat-list-list-item-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-list-list-item-label-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-list-list-item-label-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-list-list-item-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-list-list-item-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-list-list-item-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mat-list-list-item-hover-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mat-list-list-item-focus-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;color:var(--mat-list-list-item-supporting-text-color, var(--mat-sys-on-surface-variant));font-family:var(--mat-list-list-item-supporting-text-font, var(--mat-sys-body-medium-font));line-height:var(--mat-list-list-item-supporting-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-list-list-item-supporting-text-size, var(--mat-sys-body-medium-size));font-weight:var(--mat-list-list-item-supporting-text-weight, var(--mat-sys-body-medium-weight));letter-spacing:var(--mat-list-list-item-supporting-text-tracking, var(--mat-sys-body-medium-tracking))}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:16px}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:16px;padding-right:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-trailing-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:0;padding-right:0}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-webkit-user-select:none;user-select:none;margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;line-height:normal;align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-left:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-right:0}.mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-group__subheader{margin:.75rem 16px}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text{opacity:var(--mat-list-list-item-disabled-label-text-opacity, 0.3)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mat-list-list-item-disabled-leading-icon-color, var(--mat-sys-on-surface));opacity:var(--mat-list-list-item-disabled-leading-icon-opacity, 0.38)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mat-list-list-item-disabled-trailing-icon-color, var(--mat-sys-on-surface));opacity:var(--mat-list-list-item-disabled-trailing-icon-opacity, 0.38)}.mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing,[dir=rtl] .mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing{padding-left:0;padding-right:0}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mat-list-list-item-disabled-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item:hover::before{background-color:var(--mat-list-list-item-hover-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mat-list-list-item-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mat-list-list-item-disabled-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mat-list-list-item-disabled-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-list-item:focus::before{background-color:var(--mat-list-list-item-focus-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mat-list-list-item-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mat-list-list-item-disabled-label-text-opacity, 0.3)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mat-list-list-item-leading-avatar-shape, var(--mat-sys-corner-full));background-color:var(--mat-list-list-item-leading-avatar-color, var(--mat-sys-primary-container))}.mat-mdc-list-item-icon{font-size:var(--mat-list-list-item-leading-icon-size, 24px)}@media(forced-colors: active){a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none;border-radius:inherit}.mat-mdc-list-item>.mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus-visible>.mat-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:start}mat-action-list button::-moz-focus-inner{border:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-inline-start:var(--mat-list-list-item-leading-icon-start-space, 16px);margin-inline-end:var(--mat-list-list-item-leading-icon-end-space, 16px)}.mat-mdc-nav-list .mat-mdc-list-item{border-radius:var(--mat-list-active-indicator-shape, var(--mat-sys-corner-full));--mat-focus-indicator-border-radius: var(--mat-list-active-indicator-shape, var(--mat-sys-corner-full))}.mat-mdc-nav-list .mat-mdc-list-item.mdc-list-item--activated{background-color:var(--mat-list-active-indicator-color, var(--mat-sys-secondary-container))}
`,Ua=["unscopedContent"],za=["text"],Wa=[[["","matListItemAvatar",""],["","matListItemIcon",""]],[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["","matListItemMeta",""]],[["mat-divider"]]],ja=["[matListItemAvatar],[matListItemIcon]","[matListItemTitle]","[matListItemLine]","*","[matListItemMeta]","mat-divider"];var Ha=new X("ListOption"),$a=(()=>{class r{_elementRef=a(M);constructor(){}static \u0275fac=function(t){return new(t||r)};static \u0275dir=Z({type:r,selectors:[["","matListItemTitle",""]],hostAttrs:[1,"mat-mdc-list-item-title","mdc-list-item__primary-text"]})}return r})(),Ka=(()=>{class r{_elementRef=a(M);constructor(){}static \u0275fac=function(t){return new(t||r)};static \u0275dir=Z({type:r,selectors:[["","matListItemLine",""]],hostAttrs:[1,"mat-mdc-list-item-line","mdc-list-item__secondary-text"]})}return r})(),qa=(()=>{class r{static \u0275fac=function(t){return new(t||r)};static \u0275dir=Z({type:r,selectors:[["","matListItemMeta",""]],hostAttrs:[1,"mat-mdc-list-item-meta","mdc-list-item__end"]})}return r})(),vo=(()=>{class r{_listOption=a(Ha,{optional:!0});constructor(){}_isAlignedAtStart(){return!this._listOption||this._listOption?._getTogglePosition()==="after"}static \u0275fac=function(t){return new(t||r)};static \u0275dir=Z({type:r,hostVars:4,hostBindings:function(t,i){t&2&&q("mdc-list-item__start",i._isAlignedAtStart())("mdc-list-item__end",!i._isAlignedAtStart())}})}return r})(),Ya=(()=>{class r extends vo{static \u0275fac=(()=>{let e;return function(i){return(e||(e=ie(r)))(i||r)}})();static \u0275dir=Z({type:r,selectors:[["","matListItemAvatar",""]],hostAttrs:[1,"mat-mdc-list-item-avatar"],features:[fe]})}return r})(),Ga=(()=>{class r extends vo{static \u0275fac=(()=>{let e;return function(i){return(e||(e=ie(r)))(i||r)}})();static \u0275dir=Z({type:r,selectors:[["","matListItemIcon",""]],hostAttrs:[1,"mat-mdc-list-item-icon"],features:[fe]})}return r})(),Xa=new X("MAT_LIST_CONFIG"),ar=(()=>{class r{_isNonInteractive=!0;get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=se(e)}_disableRipple=!1;get disabled(){return this._disabled()}set disabled(e){this._disabled.set(se(e))}_disabled=me(!1);_defaultOptions=a(Xa,{optional:!0});static \u0275fac=function(t){return new(t||r)};static \u0275dir=Z({type:r,hostVars:1,hostBindings:function(t,i){t&2&&be("aria-disabled",i.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"}})}return r})(),Za=(()=>{class r{_elementRef=a(M);_ngZone=a(B);_listBase=a(ar,{optional:!0});_platform=a(J);_hostElement;_isButtonElement;_noopAnimations=Ke();_avatars;_icons;set lines(e){this._explicitLines=xe(e,null),this._updateItemLines(!1)}_explicitLines=null;get disableRipple(){return this.disabled||this._disableRipple||this._noopAnimations||!!this._listBase?.disableRipple}set disableRipple(e){this._disableRipple=se(e)}_disableRipple=!1;get disabled(){return this._disabled()||!!this._listBase?.disabled}set disabled(e){this._disabled.set(se(e))}_disabled=me(!1);_subscriptions=new Je;_rippleRenderer=null;_hasUnscopedTextContent=!1;rippleConfig;get rippleDisabled(){return this.disableRipple||!!this.rippleConfig.disabled}constructor(){a(wt).load(fn);let e=a(gn,{optional:!0});this.rippleConfig=e||{},this._hostElement=this._elementRef.nativeElement,this._isButtonElement=this._hostElement.nodeName.toLowerCase()==="button",this._listBase&&!this._listBase._isNonInteractive&&this._initInteractiveListItem(),this._isButtonElement&&!this._hostElement.hasAttribute("type")&&this._hostElement.setAttribute("type","button")}ngAfterViewInit(){this._monitorProjectedLinesAndTitle(),this._updateItemLines(!0)}ngOnDestroy(){this._subscriptions.unsubscribe(),this._rippleRenderer!==null&&this._rippleRenderer._removeTriggerEvents()}_hasIconOrAvatar(){return!!(this._avatars.length||this._icons.length)}_initInteractiveListItem(){this._hostElement.classList.add("mat-mdc-list-item-interactive"),this._rippleRenderer=new pn(this,this._ngZone,this._hostElement,this._platform,a(te)),this._rippleRenderer.setupTriggerEvents(this._hostElement)}_monitorProjectedLinesAndTitle(){this._ngZone.runOutsideAngular(()=>{this._subscriptions.add(Ot(this._lines.changes,this._titles.changes).subscribe(()=>this._updateItemLines(!1)))})}_updateItemLines(e){if(!this._lines||!this._titles||!this._unscopedContent)return;e&&this._checkDomForUnscopedTextContent();let t=this._explicitLines??this._inferLinesFromContent(),i=this._unscopedContent.nativeElement;if(this._hostElement.classList.toggle("mat-mdc-list-item-single-line",t<=1),this._hostElement.classList.toggle("mdc-list-item--with-one-line",t<=1),this._hostElement.classList.toggle("mdc-list-item--with-two-lines",t===2),this._hostElement.classList.toggle("mdc-list-item--with-three-lines",t===3),this._hasUnscopedTextContent){let n=this._titles.length===0&&t===1;i.classList.toggle("mdc-list-item__primary-text",n),i.classList.toggle("mdc-list-item__secondary-text",!n)}else i.classList.remove("mdc-list-item__primary-text"),i.classList.remove("mdc-list-item__secondary-text")}_inferLinesFromContent(){let e=this._titles.length+this._lines.length;return this._hasUnscopedTextContent&&(e+=1),e}_checkDomForUnscopedTextContent(){this._hasUnscopedTextContent=Array.from(this._unscopedContent.nativeElement.childNodes).filter(e=>e.nodeType!==e.COMMENT_NODE).some(e=>!!(e.textContent&&e.textContent.trim()))}static \u0275fac=function(t){return new(t||r)};static \u0275dir=Z({type:r,contentQueries:function(t,i,n){if(t&1&&Pe(n,Ya,4)(n,Ga,4),t&2){let s;W(s=j())&&(i._avatars=s),W(s=j())&&(i._icons=s)}},hostVars:4,hostBindings:function(t,i){t&2&&(be("aria-disabled",i.disabled)("disabled",i._isButtonElement&&i.disabled||null),q("mdc-list-item--disabled",i.disabled))},inputs:{lines:"lines",disableRipple:"disableRipple",disabled:"disabled"}})}return r})();var _o=(()=>{class r extends Za{_lines;_titles;_meta;_unscopedContent;_itemText;get activated(){return this._activated}set activated(e){this._activated=se(e)}_activated=!1;_getAriaCurrent(){return this._hostElement.nodeName==="A"&&this._activated?"page":null}_hasBothLeadingAndTrailing(){return this._meta.length!==0&&(this._avatars.length!==0||this._icons.length!==0)}static \u0275fac=(()=>{let e;return function(i){return(e||(e=ie(r)))(i||r)}})();static \u0275cmp=F({type:r,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(t,i,n){if(t&1&&Pe(n,Ka,5)(n,$a,5)(n,qa,5),t&2){let s;W(s=j())&&(i._lines=s),W(s=j())&&(i._titles=s),W(s=j())&&(i._meta=s)}},viewQuery:function(t,i){if(t&1&&Me(Ua,5)(za,5),t&2){let n;W(n=j())&&(i._unscopedContent=n.first),W(n=j())&&(i._itemText=n.first)}},hostAttrs:[1,"mat-mdc-list-item","mdc-list-item"],hostVars:13,hostBindings:function(t,i){t&2&&(be("aria-current",i._getAriaCurrent()),q("mdc-list-item--activated",i.activated)("mdc-list-item--with-leading-avatar",i._avatars.length!==0)("mdc-list-item--with-leading-icon",i._icons.length!==0)("mdc-list-item--with-trailing-meta",i._meta.length!==0)("mat-mdc-list-item-both-leading-and-trailing",i._hasBothLeadingAndTrailing())("_mat-animation-noopable",i._noopAnimations))},inputs:{activated:"activated"},exportAs:["matListItem"],features:[fe],ngContentSelectors:ja,decls:10,vars:0,consts:[["unscopedContent",""],[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],[1,"mat-focus-indicator"]],template:function(t,i){if(t&1){let n=oe();pe(Wa),A(0),y(1,"span",1),A(2,1),A(3,2),y(4,"span",2,0),U("cdkObserveContent",function(){return I(n),E(i._updateItemLines(!0))}),A(6,3),x()(),A(7,4),A(8,5),$e(9,"div",3)}},dependencies:[an],encapsulation:2,changeDetection:0})}return r})();var bo=(()=>{class r extends ar{_isNonInteractive=!1;static \u0275fac=(()=>{let e;return function(i){return(e||(e=ie(r)))(i||r)}})();static \u0275cmp=F({type:r,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-mdc-nav-list","mat-mdc-list-base","mdc-list"],exportAs:["matNavList"],features:[Ce([{provide:ar,useExisting:r}]),fe],ngContentSelectors:Ba,decls:1,vars:0,template:function(t,i){t&1&&(pe(),A(0))},styles:[Na],encapsulation:2,changeDetection:0})}return r})();var wo=(()=>{class r{static \u0275fac=function(t){return new(t||r)};static \u0275mod=N({type:r});static \u0275inj=V({imports:[ln,vn,fo,ee,go]})}return r})();var Rt=class{_attachedHost=null;attach(o){return this._attachedHost=o,o.attach(this)}detach(){let o=this._attachedHost;o!=null&&(this._attachedHost=null,o.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(o){this._attachedHost=o}},It=class extends Rt{component;viewContainerRef;injector;projectableNodes;constructor(o,e,t,i){super(),this.component=o,this.viewContainerRef=e,this.injector=t,this.projectableNodes=i}},ai=class extends Rt{templateRef;viewContainerRef;context;injector;constructor(o,e,t,i){super(),this.templateRef=o,this.viewContainerRef=e,this.context=t,this.injector=i}get origin(){return this.templateRef.elementRef}attach(o,e=this.context){return this.context=e,super.attach(o)}detach(){return this.context=void 0,super.detach()}},lr=class extends Rt{element;constructor(o){super(),this.element=o instanceof M?o.nativeElement:o}},cr=class{_attachedPortal=null;_disposeFn=null;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(o){if(o instanceof It)return this._attachedPortal=o,this.attachComponentPortal(o);if(o instanceof ai)return this._attachedPortal=o,this.attachTemplatePortal(o);if(this.attachDomPortal&&o instanceof lr)return this._attachedPortal=o,this.attachDomPortal(o)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(o){this._disposeFn=o}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}},li=class extends cr{outletElement;_appRef;_defaultInjector;constructor(o,e,t){super(),this.outletElement=o,this._appRef=e,this._defaultInjector=t}attachComponentPortal(o){let e;if(o.viewContainerRef){let t=o.injector||o.viewContainerRef.injector,i=t.get(Er,null,{optional:!0})||void 0;e=o.viewContainerRef.createComponent(o.component,{index:o.viewContainerRef.length,injector:t,ngModuleRef:i,projectableNodes:o.projectableNodes||void 0}),this.setDisposeFn(()=>e.destroy())}else{let t=this._appRef,i=o.injector||this._defaultInjector||te.NULL,n=i.get(Vt,t.injector);e=Nr(o.component,{elementInjector:i,environmentInjector:n,projectableNodes:o.projectableNodes||void 0}),t.attachView(e.hostView),this.setDisposeFn(()=>{t.viewCount>0&&t.detachView(e.hostView),e.destroy()})}return this.outletElement.appendChild(this._getComponentRootNode(e)),this._attachedPortal=o,e}attachTemplatePortal(o){let e=o.viewContainerRef,t=e.createEmbeddedView(o.templateRef,o.context,{injector:o.injector});return t.rootNodes.forEach(i=>this.outletElement.appendChild(i)),t.detectChanges(),this.setDisposeFn(()=>{let i=e.indexOf(t);i!==-1&&e.remove(i)}),this._attachedPortal=o,t}attachDomPortal=o=>{let e=o.element;e.parentNode;let t=this.outletElement.ownerDocument.createComment("dom-portal");e.parentNode.insertBefore(t,e),this.outletElement.appendChild(e),this._attachedPortal=o,super.setDisposeFn(()=>{t.parentNode&&t.parentNode.replaceChild(e,t)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(o){return o.hostView.rootNodes[0]}};var yo=(()=>{class r{static \u0275fac=function(t){return new(t||r)};static \u0275mod=N({type:r});static \u0275inj=V({})}return r})();var So=Ht();function Eo(r){return new ci(r.get(Ue),r.get(D))}var ci=class{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(o,e){this._viewportRuler=o,this._document=e}attach(){}enable(){if(this._canBeEnabled()){let o=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=o.style.left||"",this._previousHTMLStyles.top=o.style.top||"",o.style.left=z(-this._previousScrollPosition.left),o.style.top=z(-this._previousScrollPosition.top),o.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let o=this._document.documentElement,e=this._document.body,t=o.style,i=e.style,n=t.scrollBehavior||"",s=i.scrollBehavior||"";this._isEnabled=!1,t.left=this._previousHTMLStyles.left,t.top=this._previousHTMLStyles.top,o.classList.remove("cdk-global-scrollblock"),So&&(t.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),So&&(t.scrollBehavior=n,i.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let e=this._document.documentElement,t=this._viewportRuler.getViewportSize();return e.scrollHeight>t.height||e.scrollWidth>t.width}};function To(r,o){return new di(r.get(Re),r.get(B),r.get(Ue),o)}var di=class{_scrollDispatcher;_ngZone;_viewportRuler;_config;_scrollSubscription=null;_overlayRef;_initialScrollPosition;constructor(o,e,t,i){this._scrollDispatcher=o,this._ngZone=e,this._viewportRuler=t,this._config=i}attach(o){this._overlayRef,this._overlayRef=o}enable(){if(this._scrollSubscription)return;let o=this._scrollDispatcher.scrolled(0).pipe(ue(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=o.subscribe(()=>{let e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=o.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}_detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}};var Et=class{enable(){}disable(){}attach(){}};function dr(r,o){return o.some(e=>{let t=r.bottom<e.top,i=r.top>e.bottom,n=r.right<e.left,s=r.left>e.right;return t||i||n||s})}function ko(r,o){return o.some(e=>{let t=r.top<e.top,i=r.bottom>e.bottom,n=r.left<e.left,s=r.right>e.right;return t||i||n||s})}function vi(r,o){return new hi(r.get(Re),r.get(Ue),r.get(B),o)}var hi=class{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(o,e,t,i){this._scrollDispatcher=o,this._viewportRuler=e,this._ngZone=t,this._config=i}attach(o){this._overlayRef,this._overlayRef=o}enable(){if(!this._scrollSubscription){let o=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(o).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:t,height:i}=this._viewportRuler.getViewportSize();dr(e,[{width:t,height:i,bottom:i,right:t,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},Ao=(()=>{class r{_injector=a(te);constructor(){}noop=()=>new Et;close=e=>To(this._injector,e);block=()=>Eo(this._injector);reposition=e=>vi(this._injector,e);static \u0275fac=function(t){return new(t||r)};static \u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),ui=class{positionStrategy;scrollStrategy=new Et;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";disableAnimations;width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;usePopover;eventPredicate;constructor(o){if(o){let e=Object.keys(o);for(let t of e)o[t]!==void 0&&(this[t]=o[t])}}};var mi=class{connectionPair;scrollableViewProperties;constructor(o,e){this.connectionPair=o,this.scrollableViewProperties=e}};var Po=(()=>{class r{_attachedOverlays=[];_document=a(D);_isAttached=!1;constructor(){}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){let t=this._attachedOverlays.indexOf(e);t>-1&&this._attachedOverlays.splice(t,1),this._attachedOverlays.length===0&&this.detach()}canReceiveEvent(e,t,i){return i.observers.length<1?!1:e.eventPredicate?e.eventPredicate(t):!0}static \u0275fac=function(t){return new(t||r)};static \u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Mo=(()=>{class r extends Po{_ngZone=a(B);_renderer=a(Se).createRenderer(null,null);_cleanupKeydown;add(e){super.add(e),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener)}),this._isAttached=!0)}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1)}_keydownListener=e=>{let t=this._attachedOverlays;for(let i=t.length-1;i>-1;i--){let n=t[i];if(this.canReceiveEvent(n,e,n._keydownEvents)){this._ngZone.run(()=>n._keydownEvents.next(e));break}}};static \u0275fac=(()=>{let e;return function(i){return(e||(e=ie(r)))(i||r)}})();static \u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Oo=(()=>{class r extends Po{_platform=a(J);_ngZone=a(B);_renderer=a(Se).createRenderer(null,null);_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget=null;_cleanups;add(e){if(super.add(e),!this._isAttached){let t=this._document.body,i={capture:!0},n=this._renderer;this._cleanups=this._ngZone.runOutsideAngular(()=>[n.listen(t,"pointerdown",this._pointerDownListener,i),n.listen(t,"click",this._clickListener,i),n.listen(t,"auxclick",this._clickListener,i),n.listen(t,"contextmenu",this._clickListener,i)]),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=t.style.cursor,t.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){this._isAttached&&(this._cleanups?.forEach(e=>e()),this._cleanups=void 0,this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}_pointerDownListener=e=>{this._pointerDownEventTarget=Bi(e)};_clickListener=e=>{let t=Bi(e),i=e.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:t;this._pointerDownEventTarget=null;let n=this._attachedOverlays.slice();for(let s=n.length-1;s>-1;s--){let l=n[s],c=l._outsidePointerEvents;if(!(!l.hasAttached()||!this.canReceiveEvent(l,e,c))){if(Co(l.overlayElement,t)||Co(l.overlayElement,i))break;this._ngZone?this._ngZone.run(()=>c.next(e)):c.next(e)}}};static \u0275fac=(()=>{let e;return function(i){return(e||(e=ie(r)))(i||r)}})();static \u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function Co(r,o){let e=typeof ShadowRoot<"u"&&ShadowRoot,t=o;for(;t;){if(t===r)return!0;t=e&&t instanceof ShadowRoot?t.host:t.parentNode}return!1}var Fo=(()=>{class r{static \u0275fac=function(t){return new(t||r)};static \u0275cmp=F({type:r,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(t,i){},styles:[`.cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0;touch-action:manipulation}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}@media(prefers-reduced-motion){.cdk-overlay-backdrop{transition-duration:1ms}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}.cdk-overlay-popover{background:none;border:none;padding:0;outline:0;overflow:visible;position:fixed;pointer-events:none;white-space:normal;color:inherit;text-decoration:none;width:100%;height:100%;inset:auto;top:0;left:0}.cdk-overlay-popover::backdrop{display:none}.cdk-overlay-popover .cdk-overlay-backdrop{position:fixed;z-index:auto}
`],encapsulation:2,changeDetection:0})}return r})(),Lo=(()=>{class r{_platform=a(J);_containerElement;_document=a(D);_styleLoader=a(wt);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let e="cdk-overlay-container";if(this._platform.isBrowser||Ni()){let i=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let n=0;n<i.length;n++)i[n].remove()}let t=this._document.createElement("div");t.classList.add(e),Ni()?t.setAttribute("platform","test"):this._platform.isBrowser||t.setAttribute("platform","server"),this._document.body.appendChild(t),this._containerElement=t}_loadStyles(){this._styleLoader.load(Fo)}static \u0275fac=function(t){return new(t||r)};static \u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),hr=class{_renderer;_ngZone;element;_cleanupClick;_cleanupTransitionEnd;_fallbackTimeout;constructor(o,e,t,i){this._renderer=e,this._ngZone=t,this.element=o.createElement("div"),this.element.classList.add("cdk-overlay-backdrop"),this._cleanupClick=e.listen(this.element,"click",i)}detach(){this._ngZone.runOutsideAngular(()=>{let o=this.element;clearTimeout(this._fallbackTimeout),this._cleanupTransitionEnd?.(),this._cleanupTransitionEnd=this._renderer.listen(o,"transitionend",this.dispose),this._fallbackTimeout=setTimeout(this.dispose,500),o.style.pointerEvents="none",o.classList.remove("cdk-overlay-backdrop-showing")})}dispose=()=>{clearTimeout(this._fallbackTimeout),this._cleanupClick?.(),this._cleanupTransitionEnd?.(),this._cleanupClick=this._cleanupTransitionEnd=this._fallbackTimeout=void 0,this.element.remove()}};function ur(r){return r&&r.nodeType===1}var pi=class{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropClick=new k;_attachments=new k;_detachments=new k;_positionStrategy;_scrollStrategy;_locationChanges=Je.EMPTY;_backdropRef=null;_detachContentMutationObserver;_detachContentAfterRenderRef;_disposed=!1;_previousHostParent;_keydownEvents=new k;_outsidePointerEvents=new k;_afterNextRenderRef;constructor(o,e,t,i,n,s,l,c,h,d=!1,m,v){this._portalOutlet=o,this._host=e,this._pane=t,this._config=i,this._ngZone=n,this._keyboardDispatcher=s,this._document=l,this._location=c,this._outsideClickDispatcher=h,this._animationsDisabled=d,this._injector=m,this._renderer=v,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropRef?.element||null}get hostElement(){return this._host}get eventPredicate(){return this._config?.eventPredicate||null}attach(o){if(this._disposed)return null;this._attachHost();let e=this._portalOutlet.attach(o);return this._positionStrategy?.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=_e(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._completeDetachContent(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof e?.onDestroy=="function"&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let o=this._portalOutlet.detach();return this._detachments.next(),this._completeDetachContent(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),o}dispose(){if(this._disposed)return;let o=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._backdropRef?.dispose(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=this._backdropRef=null,o&&this._detachments.next(),this._detachments.complete(),this._completeDetachContent(),this._disposed=!0}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(o){o!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=o,this.hasAttached()&&(o.attach(this),this.updatePosition()))}updateSize(o){this._config=_(_({},this._config),o),this._updateElementSize()}setDirection(o){this._config=Ie(_({},this._config),{direction:o}),this._updateElementDirection()}addPanelClass(o){this._pane&&this._toggleClasses(this._pane,o,!0)}removePanelClass(o){this._pane&&this._toggleClasses(this._pane,o,!1)}getDirection(){let o=this._config.direction;return o?typeof o=="string"?o:o.value:"ltr"}updateScrollStrategy(o){o!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=o,this.hasAttached()&&(o.attach(this),o.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let o=this._pane.style;o.width=z(this._config.width),o.height=z(this._config.height),o.minWidth=z(this._config.minWidth),o.minHeight=z(this._config.minHeight),o.maxWidth=z(this._config.maxWidth),o.maxHeight=z(this._config.maxHeight)}_togglePointerEvents(o){this._pane.style.pointerEvents=o?"":"none"}_attachHost(){if(!this._host.parentElement){let o=this._config.usePopover?this._positionStrategy?.getPopoverInsertionPoint?.():null;ur(o)?o.after(this._host):o?.type==="parent"?o.element.appendChild(this._host):this._previousHostParent?.appendChild(this._host)}if(this._config.usePopover)try{this._host.showPopover()}catch{}}_attachBackdrop(){let o="cdk-overlay-backdrop-showing";this._backdropRef?.dispose(),this._backdropRef=new hr(this._document,this._renderer,this._ngZone,e=>{this._backdropClick.next(e)}),this._animationsDisabled&&this._backdropRef.element.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropRef.element,this._config.backdropClass,!0),this._config.usePopover?this._host.prepend(this._backdropRef.element):this._host.parentElement.insertBefore(this._backdropRef.element,this._host),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._backdropRef?.element.classList.add(o))}):this._backdropRef.element.classList.add(o)}_updateStackingOrder(){!this._config.usePopover&&this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){this._animationsDisabled?(this._backdropRef?.dispose(),this._backdropRef=null):this._backdropRef?.detach()}_toggleClasses(o,e,t){let i=Vi(e||[]).filter(n=>!!n);i.length&&(t?o.classList.add(...i):o.classList.remove(...i))}_detachContentWhenEmpty(){let o=!1;try{this._detachContentAfterRenderRef=_e(()=>{o=!0,this._detachContent()},{injector:this._injector})}catch(e){if(o)throw e;this._detachContent()}globalThis.MutationObserver&&this._pane&&(this._detachContentMutationObserver||=new globalThis.MutationObserver(()=>{this._detachContent()}),this._detachContentMutationObserver.observe(this._pane,{childList:!0}))}_detachContent(){(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),this._completeDetachContent())}_completeDetachContent(){this._detachContentAfterRenderRef?.destroy(),this._detachContentAfterRenderRef=void 0,this._detachContentMutationObserver?.disconnect()}_disposeScrollStrategy(){let o=this._scrollStrategy;o?.disable(),o?.detach?.()}},xo="cdk-overlay-connected-position-bounding-box",Ja=/([A-Za-z%]+)$/;function _i(r,o){return new gi(o,r.get(Ue),r.get(D),r.get(J),r.get(Lo))}var gi=class{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender=!1;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed=!1;_boundingBox=null;_lastPosition=null;_lastScrollVisibility=null;_positionChanges=new k;_resizeSubscription=Je.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount=null;_popoverLocation="global";positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(o,e,t,i,n){this._viewportRuler=e,this._document=t,this._platform=i,this._overlayContainer=n,this.setOrigin(o)}attach(o){this._overlayRef&&this._overlayRef,this._validatePositions(),o.hostElement.classList.add(xo),this._overlayRef=o,this._boundingBox=o.hostElement,this._pane=o.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._getContainerRect();let o=this._originRect,e=this._overlayRect,t=this._viewportRect,i=this._containerRect,n=[],s;for(let l of this._preferredPositions){let c=this._getOriginPoint(o,i,l),h=this._getOverlayPoint(c,e,l),d=this._getOverlayFit(h,e,t,l);if(d.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(l,c);return}if(this._canFitWithFlexibleDimensions(d,h,t)){n.push({position:l,origin:c,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(c,l)});continue}(!s||s.overlayFit.visibleArea<d.visibleArea)&&(s={overlayFit:d,overlayPoint:h,originPoint:c,position:l,overlayRect:e})}if(n.length){let l=null,c=-1;for(let h of n){let d=h.boundingBoxRect.width*h.boundingBoxRect.height*(h.position.weight||1);d>c&&(c=d,l=h)}this._isPushed=!1,this._applyPosition(l.position,l.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(s.position,s.originPoint);return}this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Qe(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(xo),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let o=this._lastPosition;o?(this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._getContainerRect(),this._applyPosition(o,this._getOriginPoint(this._originRect,this._containerRect,o))):this.apply()}withScrollableContainers(o){return this._scrollables=o,this}withPositions(o){return this._preferredPositions=o,o.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(o){return this._viewportMargin=o,this}withFlexibleDimensions(o=!0){return this._hasFlexibleDimensions=o,this}withGrowAfterOpen(o=!0){return this._growAfterOpen=o,this}withPush(o=!0){return this._canPush=o,this}withLockedPosition(o=!0){return this._positionLocked=o,this}setOrigin(o){return this._origin=o,this}withDefaultOffsetX(o){return this._offsetX=o,this}withDefaultOffsetY(o){return this._offsetY=o,this}withTransformOriginOn(o){return this._transformOriginSelector=o,this}withPopoverLocation(o){return this._popoverLocation=o,this}getPopoverInsertionPoint(){return this._popoverLocation==="global"?null:this._popoverLocation!=="inline"?this._popoverLocation:this._origin instanceof M?this._origin.nativeElement:ur(this._origin)?this._origin:null}_getOriginPoint(o,e,t){let i;if(t.originX=="center")i=o.left+o.width/2;else{let s=this._isRtl()?o.right:o.left,l=this._isRtl()?o.left:o.right;i=t.originX=="start"?s:l}e.left<0&&(i-=e.left);let n;return t.originY=="center"?n=o.top+o.height/2:n=t.originY=="top"?o.top:o.bottom,e.top<0&&(n-=e.top),{x:i,y:n}}_getOverlayPoint(o,e,t){let i;t.overlayX=="center"?i=-e.width/2:t.overlayX==="start"?i=this._isRtl()?-e.width:0:i=this._isRtl()?0:-e.width;let n;return t.overlayY=="center"?n=-e.height/2:n=t.overlayY=="top"?0:-e.height,{x:o.x+i,y:o.y+n}}_getOverlayFit(o,e,t,i){let n=Ro(e),{x:s,y:l}=o,c=this._getOffset(i,"x"),h=this._getOffset(i,"y");c&&(s+=c),h&&(l+=h);let d=0-s,m=s+n.width-t.width,v=0-l,S=l+n.height-t.height,f=this._subtractOverflows(n.width,d,m),G=this._subtractOverflows(n.height,v,S),le=f*G;return{visibleArea:le,isCompletelyWithinViewport:n.width*n.height===le,fitsInViewportVertically:G===n.height,fitsInViewportHorizontally:f==n.width}}_canFitWithFlexibleDimensions(o,e,t){if(this._hasFlexibleDimensions){let i=t.bottom-e.y,n=t.right-e.x,s=Do(this._overlayRef.getConfig().minHeight),l=Do(this._overlayRef.getConfig().minWidth),c=o.fitsInViewportVertically||s!=null&&s<=i,h=o.fitsInViewportHorizontally||l!=null&&l<=n;return c&&h}return!1}_pushOverlayOnScreen(o,e,t){if(this._previousPushAmount&&this._positionLocked)return{x:o.x+this._previousPushAmount.x,y:o.y+this._previousPushAmount.y};let i=Ro(e),n=this._viewportRect,s=Math.max(o.x+i.width-n.width,0),l=Math.max(o.y+i.height-n.height,0),c=Math.max(n.top-t.top-o.y,0),h=Math.max(n.left-t.left-o.x,0),d=0,m=0;return i.width<=n.width?d=h||-s:d=o.x<this._getViewportMarginStart()?n.left-t.left-o.x:0,i.height<=n.height?m=c||-l:m=o.y<this._getViewportMarginTop()?n.top-t.top-o.y:0,this._previousPushAmount={x:d,y:m},{x:o.x+d,y:o.y+m}}_applyPosition(o,e){if(this._setTransformOrigin(o),this._setOverlayElementStyles(e,o),this._setBoundingBoxStyles(e,o),o.panelClass&&this._addPanelClasses(o.panelClass),this._positionChanges.observers.length){let t=this._getScrollVisibility();if(o!==this._lastPosition||!this._lastScrollVisibility||!el(this._lastScrollVisibility,t)){let i=new mi(o,t);this._positionChanges.next(i)}this._lastScrollVisibility=t}this._lastPosition=o,this._isInitialRender=!1}_setTransformOrigin(o){if(!this._transformOriginSelector)return;let e=this._boundingBox.querySelectorAll(this._transformOriginSelector),t,i=o.overlayY;o.overlayX==="center"?t="center":this._isRtl()?t=o.overlayX==="start"?"right":"left":t=o.overlayX==="start"?"left":"right";for(let n=0;n<e.length;n++)e[n].style.transformOrigin=`${t} ${i}`}_calculateBoundingBoxRect(o,e){let t=this._viewportRect,i=this._isRtl(),n,s,l;if(e.overlayY==="top")s=o.y,n=t.height-s+this._getViewportMarginBottom();else if(e.overlayY==="bottom")l=t.height-o.y+this._getViewportMarginTop()+this._getViewportMarginBottom(),n=t.height-l+this._getViewportMarginTop();else{let S=Math.min(t.bottom-o.y+t.top,o.y),f=this._lastBoundingBoxSize.height;n=S*2,s=o.y-S,n>f&&!this._isInitialRender&&!this._growAfterOpen&&(s=o.y-f/2)}let c=e.overlayX==="start"&&!i||e.overlayX==="end"&&i,h=e.overlayX==="end"&&!i||e.overlayX==="start"&&i,d,m,v;if(h)v=t.width-o.x+this._getViewportMarginStart()+this._getViewportMarginEnd(),d=o.x-this._getViewportMarginStart();else if(c)m=o.x,d=t.right-o.x-this._getViewportMarginEnd();else{let S=Math.min(t.right-o.x+t.left,o.x),f=this._lastBoundingBoxSize.width;d=S*2,m=o.x-S,d>f&&!this._isInitialRender&&!this._growAfterOpen&&(m=o.x-f/2)}return{top:s,left:m,bottom:l,right:v,width:d,height:n}}_setBoundingBoxStyles(o,e){let t=this._calculateBoundingBoxRect(o,e);!this._isInitialRender&&!this._growAfterOpen&&(t.height=Math.min(t.height,this._lastBoundingBoxSize.height),t.width=Math.min(t.width,this._lastBoundingBoxSize.width));let i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right="auto",i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{let n=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;i.width=z(t.width),i.height=z(t.height),i.top=z(t.top)||"auto",i.bottom=z(t.bottom)||"auto",i.left=z(t.left)||"auto",i.right=z(t.right)||"auto",e.overlayX==="center"?i.alignItems="center":i.alignItems=e.overlayX==="end"?"flex-end":"flex-start",e.overlayY==="center"?i.justifyContent="center":i.justifyContent=e.overlayY==="bottom"?"flex-end":"flex-start",n&&(i.maxHeight=z(n)),s&&(i.maxWidth=z(s))}this._lastBoundingBoxSize=t,Qe(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Qe(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Qe(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(o,e){let t={},i=this._hasExactPosition(),n=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(i){let d=this._viewportRuler.getViewportScrollPosition();Qe(t,this._getExactOverlayY(e,o,d)),Qe(t,this._getExactOverlayX(e,o,d))}else t.position="static";let l="",c=this._getOffset(e,"x"),h=this._getOffset(e,"y");c&&(l+=`translateX(${c}px) `),h&&(l+=`translateY(${h}px)`),t.transform=l.trim(),s.maxHeight&&(i?t.maxHeight=z(s.maxHeight):n&&(t.maxHeight="")),s.maxWidth&&(i?t.maxWidth=z(s.maxWidth):n&&(t.maxWidth="")),Qe(this._pane.style,t)}_getExactOverlayY(o,e,t){let i={top:"",bottom:""},n=this._getOverlayPoint(e,this._overlayRect,o);if(this._isPushed&&(n=this._pushOverlayOnScreen(n,this._overlayRect,t)),o.overlayY==="bottom"){let s=this._document.documentElement.clientHeight;i.bottom=`${s-(n.y+this._overlayRect.height)}px`}else i.top=z(n.y);return i}_getExactOverlayX(o,e,t){let i={left:"",right:""},n=this._getOverlayPoint(e,this._overlayRect,o);this._isPushed&&(n=this._pushOverlayOnScreen(n,this._overlayRect,t));let s;if(this._isRtl()?s=o.overlayX==="end"?"left":"right":s=o.overlayX==="end"?"right":"left",s==="right"){let l=this._document.documentElement.clientWidth;i.right=`${l-(n.x+this._overlayRect.width)}px`}else i.left=z(n.x);return i}_getScrollVisibility(){let o=this._getOriginRect(),e=this._pane.getBoundingClientRect(),t=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:ko(o,t),isOriginOutsideView:dr(o,t),isOverlayClipped:ko(e,t),isOverlayOutsideView:dr(e,t)}}_subtractOverflows(o,...e){return e.reduce((t,i)=>t-Math.max(i,0),o)}_getNarrowedViewportRect(){let o=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,t=this._viewportRuler.getViewportScrollPosition();return{top:t.top+this._getViewportMarginTop(),left:t.left+this._getViewportMarginStart(),right:t.left+o-this._getViewportMarginEnd(),bottom:t.top+e-this._getViewportMarginBottom(),width:o-this._getViewportMarginStart()-this._getViewportMarginEnd(),height:e-this._getViewportMarginTop()-this._getViewportMarginBottom()}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(o,e){return e==="x"?o.offsetX==null?this._offsetX:o.offsetX:o.offsetY==null?this._offsetY:o.offsetY}_validatePositions(){}_addPanelClasses(o){this._pane&&Vi(o).forEach(e=>{e!==""&&this._appliedPanelClasses.indexOf(e)===-1&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(o=>{this._pane.classList.remove(o)}),this._appliedPanelClasses=[])}_getViewportMarginStart(){return typeof this._viewportMargin=="number"?this._viewportMargin:this._viewportMargin?.start??0}_getViewportMarginEnd(){return typeof this._viewportMargin=="number"?this._viewportMargin:this._viewportMargin?.end??0}_getViewportMarginTop(){return typeof this._viewportMargin=="number"?this._viewportMargin:this._viewportMargin?.top??0}_getViewportMarginBottom(){return typeof this._viewportMargin=="number"?this._viewportMargin:this._viewportMargin?.bottom??0}_getOriginRect(){let o=this._origin;if(o instanceof M)return o.nativeElement.getBoundingClientRect();if(o instanceof Element)return o.getBoundingClientRect();let e=o.width||0,t=o.height||0;return{top:o.y,bottom:o.y+t,left:o.x,right:o.x+e,height:t,width:e}}_getContainerRect(){let o=this._overlayRef.getConfig().usePopover&&this._popoverLocation!=="global",e=this._overlayContainer.getContainerElement();o&&(e.style.display="block");let t=e.getBoundingClientRect();return o&&(e.style.display=""),t}};function Qe(r,o){for(let e in o)o.hasOwnProperty(e)&&(r[e]=o[e]);return r}function Do(r){if(typeof r!="number"&&r!=null){let[o,e]=r.split(Ja);return!e||e==="px"?parseFloat(o):null}return r||null}function Ro(r){return{top:Math.floor(r.top),right:Math.floor(r.right),bottom:Math.floor(r.bottom),left:Math.floor(r.left),width:Math.floor(r.width),height:Math.floor(r.height)}}function el(r,o){return r===o?!0:r.isOriginClipped===o.isOriginClipped&&r.isOriginOutsideView===o.isOriginOutsideView&&r.isOverlayClipped===o.isOverlayClipped&&r.isOverlayOutsideView===o.isOverlayOutsideView}var Io="cdk-global-overlay-wrapper";function Vo(r){return new fi}var fi=class{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(o){let e=o.getConfig();this._overlayRef=o,this._width&&!e.width&&o.updateSize({width:this._width}),this._height&&!e.height&&o.updateSize({height:this._height}),o.hostElement.classList.add(Io),this._isDisposed=!1}top(o=""){return this._bottomOffset="",this._topOffset=o,this._alignItems="flex-start",this}left(o=""){return this._xOffset=o,this._xPosition="left",this}bottom(o=""){return this._topOffset="",this._bottomOffset=o,this._alignItems="flex-end",this}right(o=""){return this._xOffset=o,this._xPosition="right",this}start(o=""){return this._xOffset=o,this._xPosition="start",this}end(o=""){return this._xOffset=o,this._xPosition="end",this}width(o=""){return this._overlayRef?this._overlayRef.updateSize({width:o}):this._width=o,this}height(o=""){return this._overlayRef?this._overlayRef.updateSize({height:o}):this._height=o,this}centerHorizontally(o=""){return this.left(o),this._xPosition="center",this}centerVertically(o=""){return this.top(o),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let o=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,t=this._overlayRef.getConfig(),{width:i,height:n,maxWidth:s,maxHeight:l}=t,c=(i==="100%"||i==="100vw")&&(!s||s==="100%"||s==="100vw"),h=(n==="100%"||n==="100vh")&&(!l||l==="100%"||l==="100vh"),d=this._xPosition,m=this._xOffset,v=this._overlayRef.getConfig().direction==="rtl",S="",f="",G="";c?G="flex-start":d==="center"?(G="center",v?f=m:S=m):v?d==="left"||d==="end"?(G="flex-end",S=m):(d==="right"||d==="start")&&(G="flex-start",f=m):d==="left"||d==="start"?(G="flex-start",S=m):(d==="right"||d==="end")&&(G="flex-end",f=m),o.position=this._cssPosition,o.marginLeft=c?"0":S,o.marginTop=h?"0":this._topOffset,o.marginBottom=this._bottomOffset,o.marginRight=c?"0":f,e.justifyContent=G,e.alignItems=h?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let o=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,t=e.style;e.classList.remove(Io),t.justifyContent=t.alignItems=o.marginTop=o.marginBottom=o.marginLeft=o.marginRight=o.position="",this._overlayRef=null,this._isDisposed=!0}},Bo=(()=>{class r{_injector=a(te);constructor(){}global(){return Vo()}flexibleConnectedTo(e){return _i(this._injector,e)}static \u0275fac=function(t){return new(t||r)};static \u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),No=new X("OVERLAY_DEFAULT_CONFIG");function bi(r,o){r.get(wt).load(Fo);let e=r.get(Lo),t=r.get(D),i=r.get(un),n=r.get(Ei),s=r.get(Oe),l=r.get(ke,null,{optional:!0})||r.get(Se).createRenderer(null,null),c=new ui(o),h=r.get(No,null,{optional:!0})?.usePopover??!0;c.direction=c.direction||s.value,"showPopover"in t.body?c.usePopover=o?.usePopover??h:c.usePopover=!1;let d=t.createElement("div"),m=t.createElement("div");d.id=i.getId("cdk-overlay-"),d.classList.add("cdk-overlay-pane"),m.appendChild(d),c.usePopover&&(m.setAttribute("popover","manual"),m.classList.add("cdk-overlay-popover"));let v=c.usePopover?c.positionStrategy?.getPopoverInsertionPoint?.():null;return ur(v)?v.after(m):v?.type==="parent"?v.element.appendChild(m):e.getContainerElement().appendChild(m),new pi(new li(d,n,r),m,d,c,r.get(B),r.get(Mo),t,r.get(Ur),r.get(Oo),o?.disableAnimations??r.get(Rr,null,{optional:!0})==="NoopAnimations",r.get(Vt),l)}var Uo=(()=>{class r{scrollStrategies=a(Ao);_positionBuilder=a(Bo);_injector=a(te);constructor(){}create(e){return bi(this._injector,e)}position(){return this._positionBuilder}static \u0275fac=function(t){return new(t||r)};static \u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var mr=(()=>{class r{static \u0275fac=function(t){return new(t||r)};static \u0275mod=N({type:r});static \u0275inj=V({providers:[Uo],imports:[ee,yo,tr,tr]})}return r})();var tl=["tooltip"],il=20;var rl=new X("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{let r=a(te);return()=>vi(r,{scrollThrottle:il})}}),nl=new X("mat-tooltip-default-options",{providedIn:"root",factory:()=>({showDelay:0,hideDelay:0,touchendHideDelay:1500})});var zo="tooltip-panel",ol={passive:!0},sl=8,al=8,ll=24,cl=200,pr=(()=>{class r{_elementRef=a(M);_ngZone=a(B);_platform=a(J);_ariaDescriber=a(mn);_focusMonitor=a($t);_dir=a(Oe);_injector=a(te);_viewContainerRef=a(vt);_mediaMatcher=a(tn);_document=a(D);_renderer=a(ke);_animationsDisabled=Ke();_defaultOptions=a(nl,{optional:!0});_overlayRef=null;_tooltipInstance=null;_overlayPanelClass;_portal;_position="below";_positionAtOrigin=!1;_disabled=!1;_tooltipClass;_viewInitialized=!1;_pointerExitEventsInitialized=!1;_tooltipComponent=Wo;_viewportMargin=8;_currentPosition;_cssClassPrefix="mat-mdc";_ariaDescriptionPending=!1;_dirSubscribed=!1;get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(e){this._positionAtOrigin=se(e),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(e){let t=se(e);this._disabled!==t&&(this._disabled=t,t?this.hide(0):this._setupPointerEnterEventsIfNeeded(),this._syncAriaDescription(this.message))}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=xe(e)}_showDelay;get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=xe(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}_hideDelay;touchGestures="auto";get message(){return this._message}set message(e){let t=this._message;this._message=e!=null?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage()),this._syncAriaDescription(t)}_message="";get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}_eventCleanups=[];_touchstartTimeout=null;_destroyed=new k;_isDestroyed=!1;constructor(){let e=this._defaultOptions;e&&(this._showDelay=e.showDelay,this._hideDelay=e.hideDelay,e.position&&(this.position=e.position),e.positionAtOrigin&&(this.positionAtOrigin=e.positionAtOrigin),e.touchGestures&&(this.touchGestures=e.touchGestures),e.tooltipClass&&(this.tooltipClass=e.tooltipClass)),this._viewportMargin=sl}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(K(this._destroyed)).subscribe(e=>{e?e==="keyboard"&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){let e=this._elementRef.nativeElement;this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._eventCleanups.forEach(t=>t()),this._eventCleanups.length=0,this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0,this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay,t){if(this.disabled||!this.message||this._isTooltipVisible()){this._tooltipInstance?._cancelPendingAnimations();return}let i=this._createOverlay(t);this._detach(),this._portal=this._portal||new It(this._tooltipComponent,this._viewContainerRef);let n=this._tooltipInstance=i.attach(this._portal).instance;n._triggerElement=this._elementRef.nativeElement,n._mouseLeaveHideDelay=this._hideDelay,n.afterHidden().pipe(K(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),n.show(e)}hide(e=this.hideDelay){let t=this._tooltipInstance;t&&(t.isVisible()?t.hide(e):(t._cancelPendingAnimations(),this._detach()))}toggle(e){this._isTooltipVisible()?this.hide():this.show(void 0,e)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(e){if(this._overlayRef){let s=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!e)&&s._origin instanceof M)return this._overlayRef;this._detach()}let t=this._injector.get(Re).getAncestorScrollContainers(this._elementRef),i=`${this._cssClassPrefix}-${zo}`,n=_i(this._injector,this.positionAtOrigin?e||this._elementRef:this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(t).withPopoverLocation("global");return n.positionChanges.pipe(K(this._destroyed)).subscribe(s=>{this._updateCurrentPositionClass(s.connectionPair),this._tooltipInstance&&s.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=bi(this._injector,{direction:this._dir,positionStrategy:n,panelClass:this._overlayPanelClass?[...this._overlayPanelClass,i]:i,scrollStrategy:this._injector.get(rl)(),disableAnimations:this._animationsDisabled,eventPredicate:this._overlayEventPredicate}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(K(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(K(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(K(this._destroyed)).subscribe(s=>{s.preventDefault(),s.stopPropagation(),this._ngZone.run(()=>this.hide(0))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._dirSubscribed||(this._dirSubscribed=!0,this._dir.change.pipe(K(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){let t=e.getConfig().positionStrategy,i=this._getOrigin(),n=this._getOverlayPosition();t.withPositions([this._addOffset(_(_({},i.main),n.main)),this._addOffset(_(_({},i.fallback),n.fallback))])}_addOffset(e){let t=al,i=!this._dir||this._dir.value=="ltr";return e.originY==="top"?e.offsetY=-t:e.originY==="bottom"?e.offsetY=t:e.originX==="start"?e.offsetX=i?-t:t:e.originX==="end"&&(e.offsetX=i?t:-t),e}_getOrigin(){let e=!this._dir||this._dir.value=="ltr",t=this.position,i;t=="above"||t=="below"?i={originX:"center",originY:t=="above"?"top":"bottom"}:t=="before"||t=="left"&&e||t=="right"&&!e?i={originX:"start",originY:"center"}:(t=="after"||t=="right"&&e||t=="left"&&!e)&&(i={originX:"end",originY:"center"});let{x:n,y:s}=this._invertPosition(i.originX,i.originY);return{main:i,fallback:{originX:n,originY:s}}}_getOverlayPosition(){let e=!this._dir||this._dir.value=="ltr",t=this.position,i;t=="above"?i={overlayX:"center",overlayY:"bottom"}:t=="below"?i={overlayX:"center",overlayY:"top"}:t=="before"||t=="left"&&e||t=="right"&&!e?i={overlayX:"end",overlayY:"center"}:(t=="after"||t=="right"&&e||t=="left"&&!e)&&(i={overlayX:"start",overlayY:"center"});let{x:n,y:s}=this._invertPosition(i.overlayX,i.overlayY);return{main:i,fallback:{overlayX:n,overlayY:s}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),_e(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e instanceof Set?Array.from(e):e,this._tooltipInstance._markForCheck())}_invertPosition(e,t){return this.position==="above"||this.position==="below"?t==="top"?t="bottom":t==="bottom"&&(t="top"):e==="end"?e="start":e==="start"&&(e="end"),{x:e,y:t}}_updateCurrentPositionClass(e){let{overlayY:t,originX:i,originY:n}=e,s;if(t==="center"?this._dir&&this._dir.value==="rtl"?s=i==="end"?"left":"right":s=i==="start"?"left":"right":s=t==="bottom"&&n==="top"?"above":"below",s!==this._currentPosition){let l=this._overlayRef;if(l){let c=`${this._cssClassPrefix}-${zo}-`;l.removePanelClass(c+this._currentPosition),l.addPanelClass(c+s)}this._currentPosition=s}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._eventCleanups.length||(this._isTouchPlatform()?this.touchGestures!=="off"&&(this._disableNativeGesturesIfNecessary(),this._addListener("touchstart",e=>{let t=e.targetTouches?.[0],i=t?{x:t.clientX,y:t.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),this._touchstartTimeout&&clearTimeout(this._touchstartTimeout);let n=500;this._touchstartTimeout=setTimeout(()=>{this._touchstartTimeout=null,this.show(void 0,i)},this._defaultOptions?.touchLongPressShowDelay??n)})):this._addListener("mouseenter",e=>{this._setupPointerExitEventsIfNeeded();let t;e.x!==void 0&&e.y!==void 0&&(t=e),this.show(void 0,t)}))}_setupPointerExitEventsIfNeeded(){if(!this._pointerExitEventsInitialized){if(this._pointerExitEventsInitialized=!0,!this._isTouchPlatform())this._addListener("mouseleave",e=>{let t=e.relatedTarget;(!t||!this._overlayRef?.overlayElement.contains(t))&&this.hide()}),this._addListener("wheel",e=>{if(this._isTooltipVisible()){let t=this._document.elementFromPoint(e.clientX,e.clientY),i=this._elementRef.nativeElement;t!==i&&!i.contains(t)&&this.hide()}});else if(this.touchGestures!=="off"){this._disableNativeGesturesIfNecessary();let e=()=>{this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions?.touchendHideDelay)};this._addListener("touchend",e),this._addListener("touchcancel",e)}}}_addListener(e,t){this._eventCleanups.push(this._renderer.listen(this._elementRef.nativeElement,e,t,ol))}_isTouchPlatform(){return this._platform.IOS||this._platform.ANDROID?!0:this._platform.isBrowser?!!this._defaultOptions?.detectHoverCapability&&this._mediaMatcher.matchMedia("(any-hover: none)").matches:!1}_disableNativeGesturesIfNecessary(){let e=this.touchGestures;if(e!=="off"){let t=this._elementRef.nativeElement,i=t.style;(e==="on"||t.nodeName!=="INPUT"&&t.nodeName!=="TEXTAREA")&&(i.userSelect=i.msUserSelect=i.webkitUserSelect=i.MozUserSelect="none"),(e==="on"||!t.draggable)&&(i.webkitUserDrag="none"),i.touchAction="none",i.webkitTapHighlightColor="transparent"}}_syncAriaDescription(e){this._ariaDescriptionPending||(this._ariaDescriptionPending=!0,this._ariaDescriber.removeDescription(this._elementRef.nativeElement,e,"tooltip"),this._isDestroyed||_e({write:()=>{this._ariaDescriptionPending=!1,this.message&&!this.disabled&&this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")}},{injector:this._injector}))}_overlayEventPredicate=e=>e.type==="keydown"?this._isTooltipVisible()&&e.keyCode===27&&!Kt(e):!0;static \u0275fac=function(t){return new(t||r)};static \u0275dir=Z({type:r,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(t,i){t&2&&q("mat-mdc-tooltip-disabled",i.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]})}return r})(),Wo=(()=>{class r{_changeDetectorRef=a(we);_elementRef=a(M);_isMultiline=!1;message;tooltipClass;_showTimeoutId;_hideTimeoutId;_triggerElement;_mouseLeaveHideDelay;_animationsDisabled=Ke();_tooltip;_closeOnInteraction=!1;_isVisible=!1;_onHide=new k;_showAnimation="mat-mdc-tooltip-show";_hideAnimation="mat-mdc-tooltip-hide";constructor(){}show(e){this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){let e=this._elementRef.nativeElement.getBoundingClientRect();return e.height>ll&&e.width>=cl}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){let t=this._tooltip.nativeElement,i=this._showAnimation,n=this._hideAnimation;if(t.classList.remove(e?n:i),t.classList.add(e?i:n),this._isVisible!==e&&(this._isVisible=e,this._changeDetectorRef.markForCheck()),e&&!this._animationsDisabled&&typeof getComputedStyle=="function"){let s=getComputedStyle(t);(s.getPropertyValue("animation-duration")==="0s"||s.getPropertyValue("animation-name")==="none")&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(t.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=F({type:r,selectors:[["mat-tooltip-component"]],viewQuery:function(t,i){if(t&1&&Me(tl,7),t&2){let n;W(n=j())&&(i._tooltip=n.first)}},hostAttrs:["aria-hidden","true"],hostBindings:function(t,i){t&1&&U("mouseleave",function(s){return i._handleMouseLeave(s)})},decls:4,vars:5,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(t,i){if(t&1){let n=oe();Nt(0,"div",1,0),Ar("animationend",function(l){return I(n),E(i._handleAnimationEnd(l))}),Nt(2,"div",2),Y(3),Ti()()}t&2&&(Ut(i.tooltipClass),q("mdc-tooltip--multiline",i._isMultiline),O(3),rt(i.message))},styles:[`.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mat-tooltip-container-color, var(--mat-sys-inverse-surface));color:var(--mat-tooltip-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mat-tooltip-container-shape, var(--mat-sys-corner-extra-small));font-family:var(--mat-tooltip-supporting-text-font, var(--mat-sys-body-small-font));font-size:var(--mat-tooltip-supporting-text-size, var(--mat-sys-body-small-size));font-weight:var(--mat-tooltip-supporting-text-weight, var(--mat-sys-body-small-weight));line-height:var(--mat-tooltip-supporting-text-line-height, var(--mat-sys-body-small-line-height));letter-spacing:var(--mat-tooltip-supporting-text-tracking, var(--mat-sys-body-small-tracking))}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel{line-height:normal}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}
`],encapsulation:2,changeDetection:0})}return r})();var jo=(()=>{class r{static \u0275fac=function(t){return new(t||r)};static \u0275mod=N({type:r});static \u0275inj=V({imports:[hn,mr,ee,Ne]})}return r})();var hl={isLoading:!1},wi=class r{#e=a(st);dispatcher=a(kn);#t=me(hl);isLoading=ae(()=>this.#t().isLoading);constructor(){ut.attachState(this.#t,{name:"RouterStore"}),this.#e.events.subscribe(o=>{switch(!0){case o instanceof qr:{this.#i(!0);break}case o instanceof Yr:case o instanceof Gr:case o instanceof Xr:{this.#i(!1);break}}}),this.dispatcher.action$.pipe(ue(o=>o.type==="SET_LOADING_STATE")).subscribe(o=>{this.#i(o.payload.isLoading)})}#i(o){this.#t.update(e=>Ie(_({},e),{isLoading:o}))}static \u0275fac=function(e){return new(e||r)};static \u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})};var Ho="blog-app-theme";function ul(){let r=localStorage.getItem(Ho);return r==="light"||r==="dark"?r:window.matchMedia?.("(prefers-color-scheme: dark)").matches?"dark":"light"}var Tt=class r{#e=me(ul());mode=this.#e.asReadonly();isDarkMode=ae(()=>this.#e()==="dark");constructor(){ut.attachState(this.mode,{name:"ThemeStore"}),it(()=>{let o=this.#e();o==="dark"?document.documentElement.classList.add("dark-mode"):document.documentElement.classList.remove("dark-mode"),localStorage.setItem(Ho,o)})}toggleTheme(){this.#e.update(o=>o==="light"?"dark":"light")}setTheme(o){this.#e.set(o)}static \u0275fac=function(e){return new(e||r)};static \u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})};var pl=()=>["/overview/"],gl=()=>["/add-blog/"],fl=r=>({value:r});function vl(r,o){r&1&&(y(0,"a",3),Y(1),zt(2,"translate"),x()),r&2&&(Ae("routerLink",Pi(4,gl)),O(),rt(Mi(2,2,"SIDEBAR.CREATE_NEW_BLOG_BUTTON")))}function _l(r,o){if(r&1){let e=oe();y(0,"a",6),U("click",function(){I(e);let i=L();return E(i.login.emit())})("keydown",function(){I(e);let i=L();return E(i.login.emit())}),Y(1,"Login"),x()}}function bl(r,o){if(r&1){let e=oe();y(0,"a",14),U("click",function(){I(e);let i=L();return E(i.logout.emit())})("keydown",function(){I(e);let i=L();return E(i.logout.emit())}),Y(1,"Log out"),x()}}function wl(r,o){if(r&1){let e=oe();y(0,"button",15),U("click",function(){I(e),L();let i=Ai(2);return E(i.toggle())}),y(1,"mat-icon",16),Y(2,"menu"),x()()}}function yl(r,o){r&1&&(y(0,"button",17),Y(1),zt(2,"translate"),x()),r&2&&(O(),Pr(" ",Mi(2,1,"SIDEBAR.CREATE_NEW_BLOG_BUTTON")," "))}function Sl(r,o){if(r&1&&re(0,yl,3,3,"button",17),r&2){let e=L();ne(e.canAddBlog()?0:-1)}}function kl(r,o){if(r&1){let e=oe();y(0,"a",18),U("click",function(){I(e);let i=L();return E(i.changeLanguage("de"))})("keydown",function(){I(e);let i=L();return E(i.changeLanguage("de"))}),Y(1,"DE"),x(),y(2,"span"),Y(3,"|"),x(),y(4,"a",18),U("click",function(){I(e);let i=L();return E(i.changeLanguage("en"))})("keydown",function(){I(e);let i=L();return E(i.changeLanguage("en"))}),Y(5,"EN"),x()}}function Cl(r,o){if(r&1){let e=oe();y(0,"button",19),U("click",function(){I(e);let i=L();return E(i.toggleTheme())}),y(1,"mat-icon"),Y(2),x()()}if(r&2){let e=L();O(2),rt(e.isDarkMode()?"light_mode":"dark_mode")}}function xl(r,o){if(r&1){let e=oe();$e(0,"div",20),zt(1,"translate"),y(2,"button",21),U("click",function(){I(e);let i=L();return E(i.logout.emit())}),y(3,"mat-icon"),Y(4,"logout"),x()()}if(r&2){let e,t=L();Ae("matTooltip",Mr(Fr(1,3,"SIDEBAR.LOGGEDIN_USER",Or(6,fl,(e=t.userData())==null?null:e.preferred_username))))("innerHTML",t.initials(),Ir)}}function Dl(r,o){if(r&1){let e=oe();y(0,"button",22),U("click",function(){I(e);let i=L();return E(i.login.emit())}),y(1,"mat-icon"),Y(2,"login"),x()()}}function Rl(r,o){r&1&&$e(0,"mat-progress-bar",13)}var yi=class r{#e=a(rn);#t=a(Dt);#i=a(Tt);isLoading=a(wi).isLoading;isDarkMode=this.#i.isDarkMode;isAuthenticated=Wt.required();roles=Wt.required();userData=Wt.required();login=Oi();logout=Oi();initials=ae(()=>this.userData()?.preferred_username.split(/[._-]/).map(o=>o.charAt(0)).join(""));canAddBlog=ae(()=>{let o=this.isAuthenticated(),e=this.roles();return o&&e?.includes("user")});isHandset=qe(this.#e.observe(nn.Handset).pipe(b(o=>o.matches),tt()),{initialValue:!1});changeLanguage(o){this.#t.use(o)}toggleTheme(){this.#i.toggleTheme()}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=F({type:r,selectors:[["Sidebar"]],inputs:{isAuthenticated:[1,"isAuthenticated"],roles:[1,"roles"],userData:[1,"userData"]},outputs:{login:"login",logout:"logout"},decls:28,vars:14,consts:[["drawer",""],[1,"sidenav-container"],["fixedInViewport","",1,"sidenav",3,"mode","opened"],["mat-list-item","",3,"routerLink"],["mat-list-item","","tabindex","0"],["mat-list-item","","tabindex","1"],["mat-list-item","","tabindex","0",3,"click","keydown"],["color","primary",1,"header-toolbar"],["type","button","aria-label","Toggle sidenav","matIconButton",""],[1,"blog-app-title",3,"routerLink"],[1,"spacer"],["mat-icon-button","","matTooltip","Toggle theme","aria-label","Toggle light/dark theme"],["data-testid","login-button","mat-icon-button","","matTooltip","Login","aria-label","Login button",1,"example-icon","favorite-icon"],["mode","indeterminate"],["mat-list-item","","tabindex","1",3,"click","keydown"],["type","button","aria-label","Toggle sidenav","matIconButton","",3,"click"],["aria-label","Side nav toggle icon"],["mat-flat-button","","color","accent","routerLink","/add-blog",1,"add-blog"],["mat-list-item","","tabindex","0",1,"language-selector",3,"click","keydown"],["mat-icon-button","","matTooltip","Toggle theme","aria-label","Toggle light/dark theme",3,"click"],["id","profileImage",3,"matTooltip","innerHTML"],["data-testid","logout-button","mat-icon-button","","matTooltip","Logout","aria-label","Logout button",1,"example-icon","favorite-icon",3,"click"],["data-testid","login-button","mat-icon-button","","matTooltip","Login","aria-label","Login button",1,"example-icon","favorite-icon",3,"click"]],template:function(e,t){if(e&1){let i=oe();y(0,"mat-sidenav-container",1)(1,"mat-sidenav",2,0)(3,"mat-toolbar"),Y(4,"Menu"),x(),y(5,"mat-nav-list"),re(6,vl,3,5,"a",3),re(7,_l,2,0,"a",4)(8,bl,2,0,"a",5),y(9,"a",6),U("click",function(){return I(i),E(t.changeLanguage("de"))})("keydown",function(){return I(i),E(t.changeLanguage("de"))}),Y(10,"Deutsch"),x(),y(11,"a",6),U("click",function(){return I(i),E(t.changeLanguage("en"))})("keydown",function(){return I(i),E(t.changeLanguage("en"))}),Y(12,"English"),x(),y(13,"a",6),U("click",function(){return I(i),E(t.toggleTheme())})("keydown",function(){return I(i),E(t.toggleTheme())}),Y(14),x()()(),y(15,"mat-sidenav-content")(16,"mat-toolbar",7),re(17,wl,3,0,"button",8),y(18,"span",9),Y(19,"Blog App"),x(),$e(20,"span",10),re(21,Sl,1,1),re(22,kl,6,0),re(23,Cl,3,1,"button",11),re(24,xl,5,8)(25,Dl,3,0,"button",12),x(),re(26,Rl,1,0,"mat-progress-bar",13),$e(27,"router-outlet"),x()()}if(e&2){let i;O(),Ae("mode","over")("opened",!1),be("role","dialog"),O(5),ne(t.canAddBlog()?6:-1),O(),ne((i=t.isAuthenticated())===!1?7:i===!0?8:-1),O(7),rt(t.isDarkMode()?"Light Mode":"Dark Mode"),O(3),ne(t.isHandset()?17:-1),O(),Ae("routerLink",Pi(13,pl)),O(3),ne(t.isHandset()===!1?21:-1),O(),ne(t.isHandset()===!1?22:-1),O(),ne(t.isHandset()===!1?23:-1),O(),ne(t.isAuthenticated()?24:25),O(2),ne(t.isLoading()?26:-1)}},dependencies:[co,lo,Sn,yn,wn,po,sr,mo,oi,wo,bo,_o,bn,_n,Zr,Qr,jo,pr,on,no],styles:[".sidenav-container[_ngcontent-%COMP%]{height:100%}.sidenav[_ngcontent-%COMP%]{width:12.5rem}.sidenav[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{background:inherit}.mat-toolbar.mat-primary[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1}.header-toolbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:0 1rem;position:fixed;z-index:1000}.header-toolbar[_ngcontent-%COMP%]   .blog-app-title[_ngcontent-%COMP%]{cursor:pointer}#profileImage[_ngcontent-%COMP%]{width:2.1875rem;height:2.1875rem;border-radius:1.25rem;background:var(--mat-sys-primary);font-size:.9rem;color:var(--mat-sys-on-primary);text-align:center;line-height:2.1875rem;text-transform:uppercase;cursor:pointer}.add-blog[_ngcontent-%COMP%]{margin-right:1rem}.spacer[_ngcontent-%COMP%]{flex:1}.language-selector[_ngcontent-%COMP%]{margin-left:3px;margin-right:3px;cursor:pointer;width:60px}.language-selector[_ngcontent-%COMP%]:nth-last-of-type(1){margin-right:50px}"],changeDetection:0})};var Si=class r{#e=a(mt);onModeChange(o){console.log(`event fired ${o}`)}title="blogapp-20";isAuthenticated=this.#e.isAuthenticated;userData=this.#e.userData;roles=this.#e.roles;login(){this.#e.login()}logout(){this.#e.logout()}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=F({type:r,selectors:[["App"]],decls:1,vars:3,consts:[[3,"login","logout","isAuthenticated","roles","userData"]],template:function(e,t){e&1&&(y(0,"Sidebar",0),U("login",function(){return t.login()})("logout",function(){return t.logout()}),x()),e&2&&Ae("isAuthenticated",t.isAuthenticated())("roles",t.roles())("userData",t.userData())},dependencies:[yi],encapsulation:2})};Wr(Si,ao).catch(r=>console.error(r));
